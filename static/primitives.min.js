!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.primitives=e():t.primitives=e()}(this,function(){return i={},a.m=n={"./src/BaseControl.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var B=n("./src/graphics/structs/Point.js"),D=n("./src/graphics/structs/Rect.js"),V=n("./src/enums.js"),N=n("./src/common/index.js"),H=n("./src/graphics/createGraphics.js"),E=n("./src/graphics/dom.js"),G=n("./src/common/jsonml-html.js");function i(a,t,i,s,r){var n,o,e,l,u,h={name:"orgdiagram",options:t,tasks:null,graphics:null,mouse:null,layout:{element:a,controlPanel:null,frameMousePanel:null,framePlaceholder:null,titlesMousePanel:null,titlesPlaceholder:null,scrollPanel:null,mousePanel:null,placeholder:null,calloutPlaceholder:null,forceCenterOnCursor:!0}},c=!1,d=null;function f(t,e){switch(null==e&&(e=!0),t){case V.UpdateMode.Refresh:p(e,c);break;case V.UpdateMode.PositonHighlight:n=c,h.layout.forceCenterOnCursor=!1,h.tasks.process("HighlightItemOptionTask",null,n),h.graphics.end();break;default:C(h.layout),v(h.layout),function(e,t){var n=Object(E.getInnerSize)(e.element),i=new D.default(0,0,n.width,n.height),n=Object(E.getFixOfPixelAlignment)(a);G.default.appendDOM(e.element,G.default.toHTML(["div",{tabindex:0,style:{position:"relative",overflow:"hidden",top:"0px",left:"0px",width:"100%",height:"100%",padding:"0px",marginBottom:"0px",marginRight:"0px",marginLeft:n.width+"px",marginTop:n.height+"px"},name:"controlPanel",class:t,$:function(t){e.controlPanel=t}},["div",{style:Object(N.mergeObjects)({position:"absolute",overflow:"hidden"},i.getCSS()),name:"frameMousePanel",class:t,$:function(t){e.frameMousePanel=t}},["div",{style:Object(N.mergeObjects)({position:"absolute",overflow:"hidden"},i.getCSS()),name:"framePlaceholder",class:["frameplaceholder",t],$:function(t){e.framePlaceholder=t}}]],["div",{style:Object(N.mergeObjects)({position:"absolute",overflow:"hidden"},i.getCSS()),name:"titlesMousePanel",class:["bp-titles-frame",t],$:function(t){e.titlesMousePanel=t}},["div",{style:Object(N.mergeObjects)({position:"absolute",overflow:"hidden"},i.getCSS()),name:"titlesPlaceholder",class:["titlesplaceholder",t],$:function(t){e.titlesPlaceholder=t}}]],["div",{style:Object(N.mergeObjects)({position:"absolute",overflow:"auto","-webkit-overflow-scrolling":"touch",top:"0px",left:"0px",width:i.width+"px",height:i.height+"px"},i.getCSS()),name:"scrollPanel",class:t,$:function(t){e.scrollPanel=t}},["div",{style:Object(N.mergeObjects)({position:"absolute",overflow:"visible"},i.getCSS()),name:"mousePanel",class:t,$:function(t){e.mousePanel=t}},["div",{style:Object(N.mergeObjects)({position:"absolute",overflow:"hidden"},i.getCSS()),name:"placeholder",class:["placeholder",t],$:function(t){e.placeholder=t}},["div",{style:{position:"absolute",overflow:"visible",top:"0px",left:"0px",width:"0px",height:"0px"},name:"calloutPlaceholder",class:["calloutplaceholder",t],$:function(t){e.calloutPlaceholder=t}}]]]]]))}(h.layout,h.name),function(t){t.mousePanel.addEventListener("mousemove",O),t.mousePanel.addEventListener("click",j),t.mousePanel.addEventListener("dblclick",S),t.mousePanel.addEventListener("change",P),t.element.addEventListener("keydown",A),t.scrollPanel.addEventListener("scroll",m),h.options.enablePanning&&Object(H.isChrome)()&&(t.scrollPanel.draggable=!0,t.scrollPanel.addEventListener("dragstart",I),t.scrollPanel.addEventListener("drag",L),t.scrollPanel.addEventListener("dragend",L),t.scrollPanel.addEventListener("dragover",x)),t.frameMousePanel.addEventListener("mousemove",w),t.frameMousePanel.addEventListener("click",b)}(h.layout),h.tasks=i(g,T,y,k,r),h.graphics=Object(H.default)(h.layout.element),h.graphics.debug=c,p(!0,c)}var n}function p(t,e){h.layout.forceCenterOnCursor=t,h.tasks.process("OptionsTask",null,e),h.graphics.end(),t&&(n=h.tasks.getTask("CenterOnCursorTask").getPlaceholderOffset(),h.layout.scrollPanel.scrollLeft=n.x,h.layout.scrollPanel.scrollTop=n.y);var n=Object(E.getFixOfPixelAlignment)(h.layout.element);G.default.applyStyles(h.layout.scrollPanel,{marginBottom:"0px",marginRight:"0px",marginLeft:n.width+"px",marginTop:n.height+"px"})}function m(t){null==d&&(d=window.setTimeout(function(){var t;t=c,h.layout.forceCenterOnCursor=!1,h.tasks.process("LayoutOptionsTask",null,t),h.graphics.end(),window.clearTimeout(d),d=null},200))}function g(){return h.options}function T(){return h.graphics}function y(){var t=h.layout,e=Object(E.getInnerSize)(t.controlPanel),n=new B.default(t.scrollPanel.scrollLeft,t.scrollPanel.scrollTop);return{forceCenterOnCursor:t.forceCenterOnCursor,scrollPanelSize:e,placeholderOffset:n}}function k(t){var e=h.layout,n=Object(E.getFixOfPixelAlignment)(e.element);G.default.applyStyles(e.controlPanel,{marginLeft:n.width+"px",marginTop:n.height+"px"}),G.default.applyStyles(e.scrollPanel,t.scrollPanelRect.getCSS()),G.default.applyStyles(e.mousePanel,t.mousePanelSize.getCSS());n="scale("+t.scale+","+t.scale+")",n={"transform-origin":"0 0",transform:n,"-ms-transform":n,"-webkit-transform":n,"-o-transform":n,"-moz-transform":n};G.default.applyStyles(e.placeholder,Object(N.mergeObjects)(n,t.placeholderSize.getCSS())),t.autoSize&&G.default.applyStyles(e.element,t.controlSize.getCSS()),G.default.applyStyles(e.titlesMousePanel,t.titlesMousePanelRect.getCSS()),G.default.applyStyles(e.titlesPlaceholder,Object(N.mergeObjects)(n,t.titlesPlaceholderSize.getCSS())),G.default.applyStyles(e.frameMousePanel,t.frameMousePanelRect.getCSS()),G.default.applyStyles(e.framePlaceholder,Object(N.mergeObjects)(n,t.framePlaceholderSize.getCSS())),e.scrollPanel.setAttribute("class",0<t.scrollPanelRect.left?name:"bp-scrollframe "+name)}function v(){var t,e=h.layout.controlPanel;null==e||null!=(t=e.parentNode)&&t.removeChild(e)}function C(t){null!=t.mousePanel&&(t.mousePanel.removeEventListener("mousemove",O),t.mousePanel.removeEventListener("click",j),t.mousePanel.removeEventListener("dblclick",S),t.mousePanel.removeEventListener("change",P)),null!=t.element&&t.element.removeEventListener("keydown",A),null!=t.scrollPanel&&(t.scrollPanel.removeEventListener("scroll",m),t.scrollPanel.removeEventListener("dragstart",I),t.scrollPanel.removeEventListener("drag",L),t.scrollPanel.removeEventListener("dragend",L),t.scrollPanel.removeEventListener("dragover",x)),null!=t.frameMousePanel&&(t.frameMousePanel.removeEventListener("mousemove",w),t.frameMousePanel.removeEventListener("click",b))}function w(t){var e=Object(E.getElementOffset)(h.layout.frameMousePanel),n=t.pageX-e.left,i=t.pageY-e.top,a=h.tasks.getTask("ProjectItemsToFrameTask"),e=h.tasks.getTask("HighlightItemOptionTask");e.hasHighlightEnabled()&&z(t,a.getTreeItemForMousePosition(n,i,e.getGravityRadius()))}function b(t){var e=Object(E.getElementOffset)(h.layout.frameMousePanel),n=t.pageX-e.left,i=t.pageY-e.top,a=h.tasks.getTask("ProjectItemsToFrameTask"),s=h.tasks.getTask("CursorItemOptionTask"),e=h.tasks.getTask("HighlightItemOptionTask"),i=a.getTreeItemForMousePosition(n,i,e.getGravityRadius());t.target;null!==i&&(R("onMouseClick",t,e=F(null,i)),e.cancel||s.hasCursorEnabled()&&(M(t,i),h.layout.element.focus()))}function O(t){var e=Object(E.getElementOffset)(h.layout.mousePanel),n=t.pageX-e.left,i=t.pageY-e.top,a=h.tasks.getTask("CreateTransformTask"),e=h.tasks.getTask("HighlightItemOptionTask");e.hasHighlightEnabled()&&z(t,a.getTreeItemForMousePosition(n,i,e.getGravityRadius()))}function P(t){var e,n,i,a=t.target,s=a.getAttribute("data-id");null!=s&&(e=(h.options.selectedItems||[]).slice(),n=F(null,s),i=e.findIndex(function(t){return s===t}),R("onSelectionChanging",t,n),n.cancel||(0<=i?e.splice(i,1):e.push(s),h.options.selectedItems=e,i<0?a.setAttribute("checked","checked"):a.removeAttribute("checked"),R("onSelectionChanged",t,n)))}function j(t){var e,n=Object(E.getElementOffset)(h.layout.mousePanel),i=t.pageX-n.left,a=t.pageY-n.top,s=h.tasks.getTask("CreateTransformTask"),r=h.tasks.getTask("CursorItemOptionTask"),n=h.tasks.getTask("HighlightItemOptionTask"),i=s.getTreeItemForMousePosition(i,a,n.getGravityRadius()),a=t.target;null!==i&&(n=a.getAttribute("data-buttonname"),Object(N.isNullOrEmpty)(n)&&(n=a.parentNode&&a.parentNode.getAttribute("data-buttonname")),Object(N.isNullOrEmpty)(n)?"checkbox"===a.getAttribute("name")||"selectiontext"===a.getAttribute("name")||R("onMouseClick",t,e=F(null,i))&&!e.cancel&&r.hasCursorEnabled()&&(M(t,i),h.layout.element.focus()):R("onButtonClick",t,e=F(null,i,n)))}function S(t){var e=h.tasks.getTask("HighlightItemTask").getHighlightTreeItem();null!==e&&R("onMouseDblClick",t,F(null,e))}function A(t){var e,n,i=h.tasks.getTask("HighlightItemTask"),a=h.tasks.getTask("HighlightItemOptionTask"),s=h.tasks.getTask("CursorItemTask"),r=h.tasks.getTask("CursorItemOptionTask"),o=h.tasks.getTask("AlignDiagramTask"),l=h.tasks.getTask("CreateTransformTask").getTransform(),u=null,c=null,d=h.layout;if(a.hasHighlightEnabled()&&r.hasCursorEnabled()?null===(u=i.getHighlightTreeItem())&&(u=s.getCursorTreeItem()):a.hasHighlightEnabled()?u=i.getHighlightTreeItem():r.hasCursorEnabled()&&(u=s.getCursorTreeItem()),null!=u){switch(t.which){case 13:r.hasCursorEnabled()&&(M(t,u),t.preventDefault(),d.element.focus());break;case 40:c=V.OrientationType.Bottom;break;case 38:c=V.OrientationType.Top;break;case 37:c=V.OrientationType.Left;break;case 39:c=V.OrientationType.Right}if(null!=c){for(n=!1;!n;)n=!0,c=l.getOrientation(c),null!=(e=o.getNextItem(u,c))&&(t.preventDefault(),a.hasHighlightEnabled()?z(t,e):r.hasCursorEnabled()&&M(t,e));d.element.focus()}}}function I(t){var e=h.layout.scrollPanel;n=new B.default(t.clientX,t.clientY),o=new B.default(e.scrollLeft,e.scrollTop),l=l||new Image,t.dataTransfer.setDragImage(l,0,0)}function x(t){t.preventDefault(),t.dataTransfer.dropEffect="move"}function L(t){e=new B.default(o.x-(t.clientX-n.x),o.y-(t.clientY-n.y)),null==u&&(u=window.setTimeout(function(){var t=h.layout.scrollPanel;t.scrollLeft=e.x,t.scrollTop=e.y,window.clearTimeout(u),u=null},50))}function z(t,e){var n,i=!0;return null!==e?e!==h.options.highlightItem&&(n=F(h.options.highlightItem,e),h.options.highlightItem=e,R("onHighlightChanging",t,n),n.cancel?i=!1:(p(!1,!1),R("onHighlightChanged",t,n))):null!==h.options.highlightItem&&(n=F(h.options.highlightItem,null),h.options.highlightItem=null,R("onHighlightChanging",t,n),n.cancel?i=!1:(p(!1,!1),R("onHighlightChanged",t,n))),i}function M(t,e){var n;e!==h.options.cursorItem&&(n=F(h.options.cursorItem,e),h.options.cursorItem=e,R("onCursorChanging",t,n),n.cancel||(p(!0,c),R("onCursorChanged",t,n)))}function F(t,e,n){return s(h,t,e,n)}function R(t,e,n){t=h.options[t];if(null!=t)return t(e,n)}return f(),{destroy:function(){C(h.layout),v(h.layout),h.tasks=null,h.graphics=null},setOptions:function(t){for(var e in t)t.hasOwnProperty(e)&&(h.options[e]=t[e])},getOptions:g,setOption:function(t,e){return h.options[t]=e},getOption:function(t){return h.options[t]},getPosition:function(t){return s(h,null,t)},update:f}}},"./src/BasePdfkitPlugin.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var c=n("./src/graphics/structs/Size.js"),d=n("./src/graphics/PdfGraphics.js"),h=n("./src/enums.js");function i(t,i,a){var s={doc:null,options:t,tasks:null,graphics:null,controlSize:null};function r(){return s.options}function o(){return s.graphics}function l(t){var e=s.graphics,n=t.frameMousePanelRect,i=t.titlesMousePanelRect,a=t.scrollPanelRect,t=t.controlSize;e.position("frameplaceholder",n.x,n.y,n.width,n.height),e.position("titlesplaceholder",i.x,i.y,i.width,i.height),e.position("placeholder",a.x,a.y,a.width,a.height),s.controlSize=t}function u(){s.options.scale=1,s.options.showFrame=!1,s.options.hasButtons=h.Enabled.False,s.options.pageFitMode=h.PageFitMode.AutoSize,s.options.autoSizeMinimum=new c.default(0,0),s.options.autoSizeMaximum=new c.default(1e6,1e6)}return{draw:function(t,e,n){return s.doc=t,s.tasks=i(r,o,l,a),s.graphics=new d.default(s.doc),s.graphics.debug=!1,u(),s.doc.save(),s.doc.translate(e,n),s.tasks.process("OptionsTask",null,!1),s.graphics.clean(),s.doc.restore(),new c.default(s.controlSize)},getSize:function(){return s.tasks=i(r,o,l,a),s.graphics=new d.default(s.doc),s.graphics.debug=!1,u(),s.tasks.process("OptionsTask","ApplyLayoutChangesTask",!1),s.graphics.clean(),new c.default(s.controlSize)}}}},"./src/FamDiagram.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var i=n("./src/templates/html/AnnotationLabelTemplate.js"),a=n("./src/templates/html/ButtonsTemplate.js"),s=n("./src/templates/html/CheckBoxTemplate.js"),r=n("./src/templates/html/CursorTemplate.js"),o=n("./src/templates/html/DotHighlightTemplate.js"),l=n("./src/templates/html/GroupTitleTemplate.js"),u=n("./src/templates/html/HighlightTemplate.js"),c=n("./src/templates/html/ItemTemplate.js"),d=n("./src/templates/html/UserTemplate.js"),h=n("./src/templates/html/LevelTitleTemplate.js"),f=n("./src/templates/html/LevelBackgroundTemplate.js"),p=n("./src/templates/html/LabelAnnotationTemplate.js"),m=n("./src/BaseControl.js"),g=n("./src/FamTaskManagerFactory.js"),T=n("./src/FamEventArgsFactory.js");function y(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function k(i){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach(function(t){var e,n;e=i,t=a[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(a,t))})}return i}function v(t,e,n){return Object(m.default)(t,e,g.default,T.default,k({AnnotationLabelTemplate:i.default,ButtonsTemplate:a.default,CheckBoxTemplate:s.default,CursorTemplate:r.default,DotHighlightTemplate:o.default,GroupTitleTemplate:l.default,HighlightTemplate:u.default,ItemTemplate:c.default,UserTemplate:d.default,LevelTitleTemplate:h.default,LevelBackgroundTemplate:f.default,LabelAnnotationTemplate:p.default},n))}},"./src/FamDiagramPdfkit.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return y});var i=n("./src/templates/pdf/AnnotationLabelTemplate.js"),a=n("./src/templates/pdf/CheckBoxTemplate.js"),s=n("./src/templates/pdf/CursorTemplate.js"),r=n("./src/templates/pdf/DummyTemplate.js"),o=n("./src/templates/pdf/GroupTitleTemplate.js"),l=n("./src/templates/pdf/HighlightTemplate.js"),u=n("./src/templates/pdf/ItemTemplate.js"),c=n("./src/templates/pdf/UserTemplate.js"),d=n("./src/templates/pdf/LabelAnnotationTemplate.js"),h=n("./src/templates/pdf/LevelTitleTemplate.js"),f=n("./src/templates/pdf/LevelBackgroundTemplate.js"),p=n("./src/BasePdfkitPlugin.js"),m=n("./src/FamPdfkitTaskManagerFactory.js");function g(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function T(i){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach(function(t){var e,n;e=i,t=a[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(a,t))})}return i}function y(t,e){return Object(p.default)(t,m.default,T({AnnotationLabelTemplate:i.default,ButtonsTemplate:r.default,CheckBoxTemplate:a.default,CursorTemplate:s.default,DotHighlightTemplate:r.default,GroupTitleTemplate:o.default,HighlightTemplate:l.default,ItemTemplate:u.default,UserTemplate:c.default,LevelTitleTemplate:h.default,LevelBackgroundTemplate:f.default,LabelAnnotationTemplate:d.default},e))}},"./src/FamEventArgsFactory.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var c=n("./src/events/FamEventArgs.js"),d=n("./src/graphics/dom.js"),h=n("./src/graphics/structs/Rect.js");function i(t,e,n,i){var a=new c.default,s=t.tasks.getTask("CombinedContextsTask"),r=t.tasks.getTask("AlignDiagramTask"),o=t.tasks.getTask("LogicalFamilyTask"),l=s.getConfig(e),e=s.getConfig(n),u=o.getLogicalFamily();return l&&null!=l.id&&(a.oldContext=l),e&&null!=e.id&&(a.context=e,u.loopParents(this,e.id,function(t,e,n){return 0<n?u.BREAK:void a.parentItems.push(s.getConfig(t))}),u.loopChildren(this,e.id,function(t,e,n){return 0<n?u.BREAK:void a.childrenItems.push(s.getConfig(t))}),e=Object(d.getElementOffset)(t.layout.mousePanel),t=Object(d.getElementOffset)(t.layout.element),n=r.getItemPosition(n),a.position=new h.default(n.actualPosition).translate(e.left,e.top).translate(-t.left,-t.top)),null!=i&&(a.name=i),a}},"./src/FamPdfkitTaskManagerFactory.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/configs/FamConfig.js"),r=n("./src/configs/FamItemConfig.js"),o=n("./src/configs/TemplateConfig.js"),l=n("./src/configs/PaletteItemConfig.js"),u=n("./src/configs/BackgroundAnnotationConfig.js"),c=n("./src/configs/ConnectorAnnotationConfig.js"),d=n("./src/configs/HighlightPathAnnotationConfig.js"),h=n("./src/configs/ShapeAnnotationConfig.js"),f=n("./src/configs/LabelAnnotationConfig.js"),p=n("./src/configs/LevelAnnotationConfig.js"),m=n("./src/enums.js"),g=n("./src/tasks/options/CalloutOptionTask.js"),T=n("./src/tasks/options/ConnectorsOptionTask.js"),y=n("./src/tasks/options/FamItemsOptionTask.js"),k=n("./src/tasks/options/ItemsSizesOptionTask.js"),v=n("./src/tasks/options/TemplatesOptionTask.js"),C=n("./src/tasks/options/OrientationOptionTask.js"),w=n("./src/tasks/options/selection/CursorItemOptionTask.js"),b=n("./src/tasks/options/selection/HighlightItemOptionTask.js"),O=n("./src/tasks/options/selection/SelectedItemsOptionTask.js"),P=n("./src/tasks/options/annotations/SplitAnnotationsOptionTask.js"),j=n("./src/tasks/options/annotations/ShapeAnnotationOptionTask.js"),S=n("./src/tasks/options/annotations/HighlightPathAnnotationOptionTask.js"),A=n("./src/tasks/options/annotations/ConnectorAnnotationOptionTask.js"),I=n("./src/tasks/options/annotations/BackgroundAnnotationOptionTask.js"),x=n("./src/tasks/options/annotations/LevelAnnotationOptionTask.js"),L=n("./src/tasks/options/ScaleOptionTask.js"),z=n("./src/tasks/options/FrameOptionTask.js"),M=n("./src/tasks/options/LevelTitlePlacementOptionTask.js"),F=n("./src/tasks/options/LevelTitleTemplateOptionTask.js"),R=n("./src/tasks/transformations/CombinedContextsTask.js"),B=n("./src/tasks/templates/ReadTemplatesTask.js"),D=n("./src/tasks/templates/ItemTemplateParamsTask.js"),V=n("./src/tasks/templates/GroupTitleTemplateTask.js"),N=n("./src/tasks/templates/CheckBoxTemplateTask.js"),H=n("./src/tasks/templates/ButtonsTemplateTask.js"),E=n("./src/tasks/templates/AnnotationLabelTemplateTask.js"),G=n("./src/tasks/templates/LevelAnnotationTemplateTask.js"),W=n("./src/tasks/transformations/ConnectionsGraphTask.js"),_=n("./src/tasks/transformations/selection/HighlightItemTask.js"),K=n("./src/tasks/transformations/selection/CursorItemTask.js"),q=n("./src/tasks/transformations/selection/SelectedItemsTask.js"),Y=n("./src/tasks/transformations/selection/DummyCombinedNormalVisibilityItemsTask.js"),U=n("./src/tasks/layout/FrameSizeTask.js"),X=n("./src/tasks/layout/LevelTitleSizeTask.js"),Z=n("./src/tasks/layout/ApplyLayoutChangesTask.js"),Q=n("./src/tasks/layout/DummyCurrentControlSizeTask.js"),J=n("./src/tasks/layout/AlignDiagramTask.js"),$=n("./src/tasks/layout/CreateTransformTask.js"),tt=n("./src/tasks/transformations/PaletteManagerTask.js"),et=n("./src/tasks/layout/ViewPortPlacementTask.js"),nt=n("./src/tasks/layout/VerticalOffsetTask.js"),it=n("./src/tasks/layout/FamLogicalLevelsPlacementTask.js"),at=n("./src/tasks/layout/MergeLevelIntervalsTask.js"),st=n("./src/tasks/renders/DrawHighlightPathAnnotationTask.js"),rt=n("./src/tasks/renders/DrawBackgroundAnnotationTask.js"),ot=n("./src/tasks/renders/DrawConnectorAnnotationTask.js"),lt=n("./src/tasks/renders/DrawShapeAnnotationTask.js"),ut=n("./src/tasks/renders/DrawCursorTask.js"),ct=n("./src/tasks/renders/DrawHighlightTask.js"),dt=n("./src/tasks/renders/DrawTreeItemsTask.js"),ht=n("./src/tasks/renders/DrawConnectorsTask.js"),ft=n("./src/tasks/renders/DrawLevelAnnotationTitlesTask.js"),pt=n("./src/tasks/renders/DrawLevelAnnotationBackgroundTask.js"),mt=n("./src/tasks/options/OptionsTask.js"),gt=n("./src/tasks/options/RemoveLoopsOptionTask.js"),Tt=n("./src/tasks/options/SpousesOptionTask.js"),yt=n("./src/tasks/options/FamVisualTreeOptionTask.js"),kt=n("./src/tasks/options/HideGrandParentsConnectorsOptionTask.js"),vt=n("./src/tasks/options/NormalizeOptionTask.js"),Ct=n("./src/tasks/options/OrderFamilyNodesOptionTask.js"),wt=n("./src/tasks/options/LinePaletteOptionTask.js"),bt=n("./src/tasks/transformations/UserDefinedNodesOrderTask.js"),Ot=n("./src/tasks/transformations/LogicalFamilyTask.js"),Pt=n("./src/tasks/transformations/RemoveLoopsTask.js"),jt=n("./src/tasks/options/annotations/LabelAnnotationOptionTask.js"),St=n("./src/tasks/options/annotations/LabelAnnotationTemplateOptionTask.js"),At=n("./src/tasks/options/annotations/LabelAnnotationPlacementOptionTask.js"),It=n("./src/tasks/transformations/AddLabelAnnotationsTask.js"),xt=n("./src/tasks/transformations/AddSpousesTask.js"),Lt=n("./src/tasks/transformations/HideGrandParentsConnectorsTask.js"),zt=n("./src/tasks/transformations/NormalizeLogicalFamilyTask.js"),Mt=n("./src/tasks/transformations/OrderFamilyNodesTask.js"),Ft=n("./src/tasks/templates/LabelAnnotationTemplateParamsTask.js"),Rt=n("./src/tasks/templates/CombinedTemplateParamsTask.js"),Bt=n("./src/tasks/transformations/FamItemsPositionsTask.js"),Dt=n("./src/managers/TaskManager.js");function i(t,e,n,i){var a=new Dt.default;return a.addDependency("options",t),a.addDependency("graphics",e),a.addDependency("setLayout",n),a.addDependency("templates",i),a.addDependency("defaultConfig",new s.default),a.addDependency("defaultItemConfig",new r.default),a.addDependency("defaultTemplateConfig",new o.default),a.addDependency("defaultPaletteItemConfig",new l.default),a.addDependency("defaultBackgroundAnnotationConfig",new u.default),a.addDependency("defaultConnectorAnnotationConfig",new c.default),a.addDependency("defaultHighlightPathAnnotationConfig",new d.default),a.addDependency("defaultShapeAnnotationConfig",new h.default),a.addDependency("defaultLabelAnnotationConfig",new f.default),a.addDependency("defaultLevelAnnotationConfig",new p.default),a.addDependency("isFamilyChartMode",!0),a.addDependency("showElbowDots",!0),a.addDependency("null",null),a.addDependency("foreground",m.ZOrderType.Foreground),a.addDependency("background",m.ZOrderType.Background),a.addTask("OptionsTask",["options"],mt.default,m.Colors.Black),a.addTask("CalloutOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],g.default,m.Colors.Navy),a.addTask("ConnectorsOptionTask",["OptionsTask","defaultConfig"],T.default,m.Colors.Navy),a.addTask("ItemsOptionTask",["OptionsTask","defaultItemConfig"],y.default,m.Colors.Navy),a.addTask("RemoveLoopsOptionTask",["OptionsTask","defaultConfig"],gt.default,m.Colors.Navy),a.addTask("SpousesOptionTask",["OptionsTask","defaultItemConfig"],Tt.default,m.Colors.Navy),a.addTask("ItemsSizesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],k.default,m.Colors.Navy),a.addTask("TemplatesOptionTask",["OptionsTask","defaultConfig","defaultTemplateConfig"],v.default,m.Colors.Navy),a.addTask("OrientationOptionTask",["OptionsTask","defaultConfig"],C.default,m.Colors.Navy),a.addTask("VisualTreeOptionTask",["OptionsTask","defaultConfig"],yt.default,m.Colors.Navy),a.addTask("HideGrandParentsConnectorsOptionTask",["OptionsTask","defaultConfig"],kt.default,m.Colors.Navy),a.addTask("NormalizeOptionTask",["OptionsTask","defaultConfig"],vt.default,m.Colors.Navy),a.addTask("OrderFamilyNodesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],Ct.default,m.Colors.Navy),a.addTask("LinePaletteOptionTask",["OptionsTask","defaultPaletteItemConfig"],wt.default,m.Colors.Navy),a.addTask("CursorItemOptionTask",["OptionsTask","defaultConfig"],w.default,m.Colors.Navy),a.addTask("HighlightItemOptionTask",["OptionsTask","defaultConfig"],b.default,m.Colors.Navy),a.addTask("SelectedItemsOptionTask",["OptionsTask"],O.default,m.Colors.Navy),a.addTask("SplitAnnotationsOptionTask",["OptionsTask"],P.default,m.Colors.Cyan),a.addTask("ForegroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","foreground"],j.default,m.Colors.Navy),a.addTask("BackgroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","background"],j.default,m.Colors.Navy),a.addTask("ForegroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","foreground"],S.default,m.Colors.Navy),a.addTask("BackgroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","background"],S.default,m.Colors.Navy),a.addTask("ForegroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","foreground"],A.default,m.Colors.Navy),a.addTask("BackgroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","background"],A.default,m.Colors.Navy),a.addTask("BackgroundAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultBackgroundAnnotationConfig"],I.default,m.Colors.Navy),a.addTask("LevelAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultLevelAnnotationConfig"],x.default,m.Colors.Navy),a.addTask("ScaleOptionTask",["OptionsTask","defaultConfig"],L.default,m.Colors.Navy),a.addTask("FrameOptionTask",["OptionsTask","defaultConfig"],z.default,m.Colors.Navy),a.addTask("LevelTitlePlacementOptionTask",["OptionsTask","defaultConfig"],M.default,m.Colors.Navy),a.addTask("LevelTitleTemplateOptionTask",["OptionsTask","defaultConfig"],F.default,m.Colors.Navy),a.addTask("UserDefinedNodesOrderTask",["OrderFamilyNodesOptionTask","defaultItemConfig"],bt.default,m.Colors.Red),a.addTask("LogicalFamilyTask",["ItemsOptionTask"],Ot.default,m.Colors.Cyan),a.addTask("RemoveLoopsTask",["ItemsOptionTask","RemoveLoopsOptionTask","LogicalFamilyTask"],Pt.default,m.Colors.Red),a.addTask("LabelAnnotationOptionTask",["SplitAnnotationsOptionTask","RemoveLoopsTask","defaultLabelAnnotationConfig"],jt.default,m.Colors.Navy),a.addTask("LabelAnnotationTemplateOptionTask",["LabelAnnotationOptionTask","defaultLabelAnnotationConfig"],St.default,m.Colors.Navy),a.addTask("LabelAnnotationPlacementOptionTask",["LabelAnnotationOptionTask","defaultLabelAnnotationConfig"],At.default,m.Colors.Navy),a.addTask("CombinedContextsTask",["ItemsOptionTask","LabelAnnotationOptionTask"],R.default,m.Colors.Cyan),a.addTask("AddLabelAnnotationsTask",["LabelAnnotationPlacementOptionTask","RemoveLoopsTask"],It.default,m.Colors.Red),a.addTask("AddSpousesTask",["SpousesOptionTask","AddLabelAnnotationsTask"],xt.default,m.Colors.Red),a.addTask("HideGrandParentsConnectorsTask",["HideGrandParentsConnectorsOptionTask","AddSpousesTask"],Lt.default,m.Colors.Red),a.addTask("NormalizeLogicalFamilyTask",["NormalizeOptionTask","HideGrandParentsConnectorsTask"],zt.default,m.Colors.Red),a.addTask("OrderFamilyNodesTask",["OrderFamilyNodesOptionTask","UserDefinedNodesOrderTask","NormalizeLogicalFamilyTask"],Mt.default,m.Colors.Red),a.addTask("ReadTemplatesTask",["TemplatesOptionTask","templates"],B.default,m.Colors.Cyan),a.addTask("ItemTemplateParamsTask",["ItemsSizesOptionTask","CursorItemOptionTask","ReadTemplatesTask"],D.default,m.Colors.Cyan),a.addTask("LabelAnnotationTemplateParamsTask",["ItemsSizesOptionTask","LabelAnnotationTemplateOptionTask","ReadTemplatesTask"],Ft.default,m.Colors.Cyan),a.addTask("CombinedTemplateParamsTask",["ItemTemplateParamsTask","LabelAnnotationTemplateParamsTask"],Rt.default,m.Colors.Cyan),a.addTask("GroupTitleTemplateTask",["TemplatesOptionTask","templates"],V.default,m.Colors.Cyan),a.addTask("CheckBoxTemplateTask",["ItemsSizesOptionTask","templates"],N.default,m.Colors.Cyan),a.addTask("ButtonsTemplateTask",["ItemsSizesOptionTask","templates"],H.default,m.Colors.Cyan),a.addTask("AnnotationLabelTemplateTask",["ItemsOptionTask","templates"],E.default,m.Colors.Cyan),a.addTask("LevelAnnotationTemplateTask",["OrientationOptionTask","LevelTitleTemplateOptionTask","templates"],G.default,m.Colors.Cyan),a.addTask("ConnectionsGraphTask",["graphics","CreateTransformTask","ConnectorsOptionTask","OrderFamilyNodesTask","AlignDiagramTask","RemoveLoopsTask"],W.default,m.Colors.Cyan),a.addTask("HighlightItemTask",["HighlightItemOptionTask","null"],_.default,m.Colors.Cyan),a.addTask("CursorItemTask",["CursorItemOptionTask","null"],K.default,m.Colors.Cyan),a.addTask("SelectedItemsTask",["SelectedItemsOptionTask","ItemsOptionTask"],q.default,m.Colors.Cyan),a.addTask("CombinedNormalVisibilityItemsTask",["OptionsTask"],Y.default,m.Colors.Cyan),a.addTask("FrameSizeTask",["FrameOptionTask","ReadTemplatesTask","ScaleOptionTask"],U.default,m.Colors.Navy),a.addTask("LevelTitleSizeTask",["LevelTitlePlacementOptionTask","LevelAnnotationOptionTask","OrientationOptionTask","ScaleOptionTask"],X.default,m.Colors.Navy),a.addTask("CurrentControlSizeTask",["OptionsTask"],Q.default,m.Colors.Cyan),a.addTask("ItemsPositionsTask",["CurrentControlSizeTask","ScaleOptionTask","OrientationOptionTask","ItemsSizesOptionTask","ConnectorsOptionTask","OrderFamilyNodesOptionTask","OrderFamilyNodesTask","CombinedTemplateParamsTask","CursorItemTask","CombinedNormalVisibilityItemsTask"],Bt.default,m.Colors.Red),a.addTask("AlignDiagramTask",["OrientationOptionTask","ItemsSizesOptionTask","VisualTreeOptionTask","ScaleOptionTask","CurrentControlSizeTask","null","ItemsPositionsTask","isFamilyChartMode"],J.default,m.Colors.Red),a.addTask("CreateTransformTask",["OrientationOptionTask","AlignDiagramTask"],$.default,m.Colors.Cyan),a.addTask("PaletteManagerTask",["ConnectorsOptionTask","LinePaletteOptionTask"],tt.default,m.Colors.Cyan),a.addTask("ApplyLayoutChangesTask",["graphics","setLayout","ItemsSizesOptionTask","CurrentControlSizeTask","ScaleOptionTask","AlignDiagramTask","FrameSizeTask","LevelTitleSizeTask"],Z.default,m.Colors.Green),a.addTask("ViewPortPlacementTask",["ScaleOptionTask","CenterOnCursorTask","CreateTransformTask","ApplyLayoutChangesTask"],et.default,m.Colors.Green),a.addTask("VerticalOffsetTask",["ViewPortPlacementTask"],nt.default,m.Colors.Green),a.addTask("LogicalLevelsPlacementTask",["OrderFamilyNodesTask","AlignDiagramTask"],it.default,m.Colors.Green),a.addTask("MergeLevelIntervalsTask",["LevelAnnotationOptionTask","LogicalLevelsPlacementTask"],at.default,m.Colors.Green),a.addTask("DrawBackgroundAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","BackgroundAnnotationOptionTask","LogicalFamilyTask","AlignDiagramTask"],rt.default,m.Colors.Green),a.addTask("DrawBackgroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background","DrawBackgroundAnnotationTask"],lt.default,m.Colors.Green),a.addTask("DrawBackgroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background","DrawBackgroundShapeAnnotationTask"],ot.default,m.Colors.Green),a.addTask("DrawBackgroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","ForegroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","foreground","DrawBackgroundConnectorAnnotationTask"],st.default,m.Colors.Cyan),a.addTask("DrawConnectorsTask",["graphics","ConnectionsGraphTask","ConnectorsOptionTask","showElbowDots","PaletteManagerTask","DrawBackgroundHighlightPathAnnotationTask"],ht.default,m.Colors.Green),a.addTask("DrawForegroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","BackgroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","background","DrawConnectorsTask"],st.default,m.Colors.Cyan),a.addTask("DrawTreeItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","null","ItemsSizesOptionTask","CombinedContextsTask","AlignDiagramTask","null","CombinedTemplateParamsTask","CursorItemTask","SelectedItemsTask","GroupTitleTemplateTask","CheckBoxTemplateTask","ButtonsTemplateTask","DrawForegroundHighlightPathAnnotationTask"],dt.default,m.Colors.Green),a.addTask("DrawCursorTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","CombinedTemplateParamsTask","CursorItemTask","SelectedItemsTask","DrawTreeItemsTask"],ut.default,m.Colors.Green),a.addTask("DrawHighlightTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","CombinedTemplateParamsTask","HighlightItemTask","CursorItemTask","SelectedItemsTask","DrawCursorTask"],ct.default,m.Colors.Green),a.addTask("DrawForegroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground","DrawHighlightTask"],lt.default,m.Colors.Green),a.addTask("DrawForegroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground","DrawForegroundShapeAnnotationTask"],ot.default,m.Colors.Green),a.addTask("DrawLevelAnnotationBackgroundTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask"],pt.default,m.Colors.Green),a.addTask("DrawLevelAnnotationTitlesTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask","LevelTitlePlacementOptionTask"],ft.default,m.Colors.Green),a}},"./src/FamTaskManagerFactory.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/configs/FamConfig.js"),o=n("./src/configs/FamItemConfig.js"),l=n("./src/configs/TemplateConfig.js"),u=n("./src/configs/PaletteItemConfig.js"),c=n("./src/configs/BackgroundAnnotationConfig.js"),d=n("./src/configs/ConnectorAnnotationConfig.js"),h=n("./src/configs/HighlightPathAnnotationConfig.js"),f=n("./src/configs/ShapeAnnotationConfig.js"),p=n("./src/configs/LabelAnnotationConfig.js"),m=n("./src/configs/LevelAnnotationConfig.js"),g=n("./src/enums.js"),T=n("./src/tasks/options/CalloutOptionTask.js"),y=n("./src/tasks/options/ConnectorsOptionTask.js"),k=n("./src/tasks/options/FamItemsOptionTask.js"),v=n("./src/tasks/options/ItemsContentOptionTask.js"),C=n("./src/tasks/options/ItemsSizesOptionTask.js"),w=n("./src/tasks/options/LabelsOptionTask.js"),b=n("./src/tasks/options/TemplatesOptionTask.js"),O=n("./src/tasks/options/OrientationOptionTask.js"),P=n("./src/tasks/options/MinimizedItemsOptionTask.js"),j=n("./src/tasks/options/selection/CursorItemOptionTask.js"),S=n("./src/tasks/options/selection/HighlightItemOptionTask.js"),A=n("./src/tasks/options/selection/SelectedItemsOptionTask.js"),I=n("./src/tasks/options/selection/CursorSelectionPathModeOptionTask.js"),x=n("./src/tasks/options/annotations/SplitAnnotationsOptionTask.js"),L=n("./src/tasks/options/annotations/ShapeAnnotationOptionTask.js"),z=n("./src/tasks/options/annotations/HighlightPathAnnotationOptionTask.js"),M=n("./src/tasks/options/annotations/ConnectorAnnotationOptionTask.js"),F=n("./src/tasks/options/annotations/BackgroundAnnotationOptionTask.js"),R=n("./src/tasks/options/annotations/LevelAnnotationOptionTask.js"),B=n("./src/tasks/options/ScaleOptionTask.js"),D=n("./src/tasks/options/FrameOptionTask.js"),V=n("./src/tasks/options/LevelTitlePlacementOptionTask.js"),N=n("./src/tasks/options/LevelTitleTemplateOptionTask.js"),H=n("./src/tasks/transformations/CombinedContextsTask.js"),E=n("./src/tasks/templates/ReadTemplatesTask.js"),G=n("./src/tasks/templates/ActiveItemsTask.js"),W=n("./src/tasks/templates/ItemTemplateParamsTask.js"),_=n("./src/tasks/templates/GroupTitleTemplateTask.js"),K=n("./src/tasks/templates/CheckBoxTemplateTask.js"),q=n("./src/tasks/templates/ButtonsTemplateTask.js"),Y=n("./src/tasks/templates/AnnotationLabelTemplateTask.js"),U=n("./src/tasks/templates/LevelAnnotationTemplateTask.js"),X=n("./src/tasks/transformations/ConnectionsGraphTask.js"),Z=n("./src/tasks/transformations/selection/HighlightItemTask.js"),Q=n("./src/tasks/transformations/selection/CursorItemTask.js"),J=n("./src/tasks/transformations/selection/SelectedItemsTask.js"),$=n("./src/tasks/transformations/selection/NormalVisibilityItemsByAnnotationTask.js"),tt=n("./src/tasks/transformations/selection/NormalVisibilityItemsByConnectorAnnotationTask.js"),et=n("./src/tasks/transformations/selection/CombinedNormalVisibilityItemsTask.js"),nt=n("./src/tasks/layout/FrameSizeTask.js"),it=n("./src/tasks/layout/LevelTitleSizeTask.js"),at=n("./src/tasks/options/LayoutOptionsTask.js"),st=n("./src/tasks/layout/CurrentControlSizeTask.js"),rt=n("./src/tasks/layout/CurrentScrollPositionTask.js"),ot=n("./src/tasks/layout/AlignDiagramTask.js"),lt=n("./src/tasks/layout/CreateTransformTask.js"),ut=n("./src/tasks/transformations/PaletteManagerTask.js"),ct=n("./src/tasks/layout/ApplyLayoutChangesTask.js"),dt=n("./src/tasks/layout/CenterOnCursorTask.js"),ht=n("./src/tasks/layout/ProjectItemsToFrameTask.js"),ft=n("./src/tasks/renders/DrawHighlightPathAnnotationTask.js"),pt=n("./src/tasks/layout/ViewPortPlacementTask.js"),mt=n("./src/tasks/layout/VerticalOffsetTask.js"),gt=n("./src/tasks/layout/FamLogicalLevelsPlacementTask.js"),Tt=n("./src/tasks/layout/MergeLevelIntervalsTask.js"),yt=n("./src/tasks/renders/DrawBackgroundAnnotationTask.js"),kt=n("./src/tasks/renders/DrawConnectorAnnotationTask.js"),vt=n("./src/tasks/renders/DrawShapeAnnotationTask.js"),Ct=n("./src/tasks/renders/DrawCursorTask.js"),wt=n("./src/tasks/renders/DrawHighlightTask.js"),bt=n("./src/tasks/renders/DrawHighlightAnnotationTask.js"),Ot=n("./src/tasks/renders/DrawTreeItemsTask.js"),Pt=n("./src/tasks/renders/DrawMinimizedItemsTask.js"),jt=n("./src/tasks/renders/DrawConnectorsTask.js"),St=n("./src/tasks/renders/DrawItemLabelsTask.js"),At=n("./src/tasks/renders/DrawFrameItemsTask.js"),It=n("./src/tasks/renders/DrawFrameHighlightTask.js"),xt=n("./src/tasks/renders/DrawLevelAnnotationTitlesTask.js"),Lt=n("./src/tasks/renders/DrawLevelAnnotationBackgroundTask.js"),zt=n("./src/tasks/options/OptionsTask.js"),Mt=n("./src/tasks/options/RemoveLoopsOptionTask.js"),Ft=n("./src/tasks/options/SpousesOptionTask.js"),Rt=n("./src/tasks/options/FamVisualTreeOptionTask.js"),Bt=n("./src/tasks/options/HideGrandParentsConnectorsOptionTask.js"),Dt=n("./src/tasks/options/NormalizeOptionTask.js"),Vt=n("./src/tasks/options/OrderFamilyNodesOptionTask.js"),Nt=n("./src/tasks/options/LinePaletteOptionTask.js"),Ht=n("./src/tasks/options/selection/NeighboursSelectionModeOptionTask.js"),Et=n("./src/tasks/transformations/UserDefinedNodesOrderTask.js"),Gt=n("./src/tasks/transformations/LogicalFamilyTask.js"),Wt=n("./src/tasks/transformations/RemoveLoopsTask.js"),_t=n("./src/tasks/options/annotations/LabelAnnotationOptionTask.js"),Kt=n("./src/tasks/options/annotations/LabelAnnotationTemplateOptionTask.js"),qt=n("./src/tasks/options/annotations/LabelAnnotationPlacementOptionTask.js"),Yt=n("./src/tasks/transformations/AddLabelAnnotationsTask.js"),Ut=n("./src/tasks/transformations/AddSpousesTask.js"),Xt=n("./src/tasks/transformations/HideGrandParentsConnectorsTask.js"),Zt=n("./src/tasks/transformations/NormalizeLogicalFamilyTask.js"),Qt=n("./src/tasks/transformations/OrderFamilyNodesTask.js"),Jt=n("./src/tasks/templates/LabelAnnotationTemplateParamsTask.js"),$t=n("./src/tasks/templates/CombinedTemplateParamsTask.js"),te=n("./src/tasks/transformations/selection/FamCursorNeighboursTask.js"),ee=n("./src/tasks/transformations/selection/FamSelectionPathItemsTask.js"),ne=n("./src/tasks/transformations/FamItemsPositionsTask.js"),ie=n("./src/managers/TaskManager.js");function i(t,e,n,i,a){var s=new ie.default;return s.addDependency("options",t),s.addDependency("graphics",e),s.addDependency("getLayout",n),s.addDependency("setLayout",i),s.addDependency("templates",a),s.addDependency("defaultConfig",new r.default),s.addDependency("defaultItemConfig",new o.default),s.addDependency("defaultTemplateConfig",new l.default),s.addDependency("defaultPaletteItemConfig",new u.default),s.addDependency("defaultBackgroundAnnotationConfig",new c.default),s.addDependency("defaultConnectorAnnotationConfig",new d.default),s.addDependency("defaultHighlightPathAnnotationConfig",new h.default),s.addDependency("defaultShapeAnnotationConfig",new f.default),s.addDependency("defaultLabelAnnotationConfig",new p.default),s.addDependency("defaultLevelAnnotationConfig",new m.default),s.addDependency("isFamilyChartMode",!0),s.addDependency("showElbowDots",!0),s.addDependency("null",null),s.addDependency("foreground",g.ZOrderType.Foreground),s.addDependency("background",g.ZOrderType.Background),s.addTask("OptionsTask",["options"],zt.default,g.Colors.Black),s.addTask("CalloutOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],T.default,g.Colors.Navy),s.addTask("ConnectorsOptionTask",["OptionsTask","defaultConfig"],y.default,g.Colors.Navy),s.addTask("ItemsOptionTask",["OptionsTask","defaultItemConfig"],k.default,g.Colors.Navy),s.addTask("ItemsContentOptionTask",["OptionsTask","defaultItemConfig"],v.default,g.Colors.Navy),s.addTask("RemoveLoopsOptionTask",["OptionsTask","defaultConfig"],Mt.default,g.Colors.Navy),s.addTask("SpousesOptionTask",["OptionsTask","defaultItemConfig"],Ft.default,g.Colors.Navy),s.addTask("ItemsSizesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],C.default,g.Colors.Navy),s.addTask("LabelsOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],w.default,g.Colors.Navy),s.addTask("TemplatesOptionTask",["OptionsTask","defaultConfig","defaultTemplateConfig"],b.default,g.Colors.Navy),s.addTask("OrientationOptionTask",["OptionsTask","defaultConfig"],O.default,g.Colors.Navy),s.addTask("VisualTreeOptionTask",["OptionsTask","defaultConfig"],Rt.default,g.Colors.Navy),s.addTask("MinimizedItemsOptionTask",["OptionsTask"],P.default,g.Colors.Navy),s.addTask("HideGrandParentsConnectorsOptionTask",["OptionsTask","defaultConfig"],Bt.default,g.Colors.Navy),s.addTask("NormalizeOptionTask",["OptionsTask","defaultConfig"],Dt.default,g.Colors.Navy),s.addTask("OrderFamilyNodesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],Vt.default,g.Colors.Navy),s.addTask("LinePaletteOptionTask",["OptionsTask","defaultPaletteItemConfig"],Nt.default,g.Colors.Navy),s.addTask("CursorItemOptionTask",["OptionsTask","defaultConfig"],j.default,g.Colors.Navy),s.addTask("HighlightItemOptionTask",["OptionsTask","defaultConfig"],S.default,g.Colors.Navy),s.addTask("SelectedItemsOptionTask",["OptionsTask"],A.default,g.Colors.Navy),s.addTask("CursorSelectionPathModeOptionTask",["OptionsTask","defaultConfig"],I.default,g.Colors.Navy),s.addTask("NeighboursSelectionModeOptionTask",["OptionsTask","defaultConfig"],Ht.default,g.Colors.Navy),s.addTask("SplitAnnotationsOptionTask",["OptionsTask"],x.default,g.Colors.Cyan),s.addTask("ForegroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","foreground"],L.default,g.Colors.Navy),s.addTask("BackgroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","background"],L.default,g.Colors.Navy),s.addTask("ForegroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","foreground"],z.default,g.Colors.Navy),s.addTask("BackgroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","background"],z.default,g.Colors.Navy),s.addTask("ForegroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","foreground"],M.default,g.Colors.Navy),s.addTask("BackgroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","background"],M.default,g.Colors.Navy),s.addTask("BackgroundAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultBackgroundAnnotationConfig"],F.default,g.Colors.Navy),s.addTask("LevelAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultLevelAnnotationConfig"],R.default,g.Colors.Navy),s.addTask("ScaleOptionTask",["OptionsTask","defaultConfig"],B.default,g.Colors.Navy),s.addTask("FrameOptionTask",["OptionsTask","defaultConfig"],D.default,g.Colors.Navy),s.addTask("LevelTitlePlacementOptionTask",["OptionsTask","defaultConfig"],V.default,g.Colors.Navy),s.addTask("LevelTitleTemplateOptionTask",["OptionsTask","defaultConfig"],N.default,g.Colors.Navy),s.addTask("UserDefinedNodesOrderTask",["OrderFamilyNodesOptionTask","defaultItemConfig"],Et.default,g.Colors.Red),s.addTask("LogicalFamilyTask",["ItemsOptionTask"],Gt.default,g.Colors.Cyan),s.addTask("RemoveLoopsTask",["ItemsOptionTask","RemoveLoopsOptionTask","LogicalFamilyTask"],Wt.default,g.Colors.Red),s.addTask("LabelAnnotationOptionTask",["SplitAnnotationsOptionTask","RemoveLoopsTask","defaultLabelAnnotationConfig"],_t.default,g.Colors.Navy),s.addTask("LabelAnnotationTemplateOptionTask",["LabelAnnotationOptionTask","defaultLabelAnnotationConfig"],Kt.default,g.Colors.Navy),s.addTask("LabelAnnotationPlacementOptionTask",["LabelAnnotationOptionTask","defaultLabelAnnotationConfig"],qt.default,g.Colors.Navy),s.addTask("CombinedContextsTask",["ItemsContentOptionTask","LabelAnnotationOptionTask"],H.default,g.Colors.Cyan),s.addTask("AddLabelAnnotationsTask",["LabelAnnotationPlacementOptionTask","RemoveLoopsTask"],Yt.default,g.Colors.Red),s.addTask("AddSpousesTask",["SpousesOptionTask","AddLabelAnnotationsTask"],Ut.default,g.Colors.Red),s.addTask("HideGrandParentsConnectorsTask",["HideGrandParentsConnectorsOptionTask","AddSpousesTask"],Xt.default,g.Colors.Red),s.addTask("NormalizeLogicalFamilyTask",["NormalizeOptionTask","HideGrandParentsConnectorsTask"],Zt.default,g.Colors.Red),s.addTask("OrderFamilyNodesTask",["OrderFamilyNodesOptionTask","UserDefinedNodesOrderTask","NormalizeLogicalFamilyTask"],Qt.default,g.Colors.Red),s.addTask("ReadTemplatesTask",["TemplatesOptionTask","templates"],E.default,g.Colors.Cyan),s.addTask("ActiveItemsTask",["ItemsSizesOptionTask","ReadTemplatesTask"],G.default,g.Colors.Cyan),s.addTask("ItemTemplateParamsTask",["ItemsSizesOptionTask","CursorItemOptionTask","ReadTemplatesTask"],W.default,g.Colors.Cyan),s.addTask("LabelAnnotationTemplateParamsTask",["ItemsSizesOptionTask","LabelAnnotationTemplateOptionTask","ReadTemplatesTask"],Jt.default,g.Colors.Cyan),s.addTask("CombinedTemplateParamsTask",["ItemTemplateParamsTask","LabelAnnotationTemplateParamsTask"],$t.default,g.Colors.Cyan),s.addTask("GroupTitleTemplateTask",["TemplatesOptionTask","templates"],_.default,g.Colors.Cyan),s.addTask("CheckBoxTemplateTask",["ItemsSizesOptionTask","templates"],K.default,g.Colors.Cyan),s.addTask("ButtonsTemplateTask",["ItemsSizesOptionTask","templates"],q.default,g.Colors.Cyan),s.addTask("AnnotationLabelTemplateTask",["ItemsOptionTask","templates"],Y.default,g.Colors.Cyan),s.addTask("LevelAnnotationTemplateTask",["OrientationOptionTask","LevelTitleTemplateOptionTask","templates"],U.default,g.Colors.Cyan),s.addTask("ConnectionsGraphTask",["graphics","CreateTransformTask","ConnectorsOptionTask","OrderFamilyNodesTask","AlignDiagramTask","RemoveLoopsTask"],X.default,g.Colors.Cyan),s.addTask("HighlightItemTask",["HighlightItemOptionTask","ActiveItemsTask"],Z.default,g.Colors.Cyan),s.addTask("CursorItemTask",["CursorItemOptionTask","ActiveItemsTask"],Q.default,g.Colors.Cyan),s.addTask("CursorNeighboursTask",["CursorItemTask","NeighboursSelectionModeOptionTask","AddSpousesTask","ActiveItemsTask"],te.default,g.Colors.Cyan),s.addTask("SelectedItemsTask",["SelectedItemsOptionTask","ItemsOptionTask"],J.default,g.Colors.Cyan),s.addTask("SelectionPathItemsTask",["AddSpousesTask","CursorItemTask","SelectedItemsTask","CursorSelectionPathModeOptionTask"],ee.default,g.Colors.Cyan),s.addTask("NormalVisibilityItemsByForegroundShapeAnnotationTask",["ForegroundShapeAnnotationOptionTask"],$.default,g.Colors.Cyan),s.addTask("NormalVisibilityItemsByBackgroundShapeAnnotationTask",["BackgroundShapeAnnotationOptionTask"],$.default,g.Colors.Cyan),s.addTask("NormalVisibilityItemsByBackgroundAnnotationTask",["BackgroundAnnotationOptionTask"],$.default,g.Colors.Cyan),s.addTask("NormalVisibilityItemsByForegroundHighlightPathAnnotationTask",["ForegroundHighlightPathAnnotationOptionTask"],$.default,g.Colors.Cyan),s.addTask("NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask",["BackgroundHighlightPathAnnotationOptionTask"],$.default,g.Colors.Cyan),s.addTask("NormalVisibilityItemsByForegroundConnectorAnnotationTask",["ForegroundConnectorAnnotationOptionTask"],tt.default,g.Colors.Cyan),s.addTask("NormalVisibilityItemsByBackgroundConnectorAnnotationTask",["BackgroundConnectorAnnotationOptionTask"],tt.default,g.Colors.Cyan),s.addTask("CombinedNormalVisibilityItemsTask",["ItemsSizesOptionTask","CursorItemTask","CursorNeighboursTask","SelectedItemsTask","SelectionPathItemsTask","NormalVisibilityItemsByForegroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundAnnotationTask","NormalVisibilityItemsByForegroundHighlightPathAnnotationTask","NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask","NormalVisibilityItemsByForegroundConnectorAnnotationTask","NormalVisibilityItemsByBackgroundConnectorAnnotationTask"],et.default,g.Colors.Cyan),s.addTask("FrameSizeTask",["FrameOptionTask","ReadTemplatesTask","ScaleOptionTask"],nt.default,g.Colors.Navy),s.addTask("LevelTitleSizeTask",["LevelTitlePlacementOptionTask","LevelAnnotationOptionTask","OrientationOptionTask","ScaleOptionTask"],it.default,g.Colors.Navy),s.addTask("LayoutOptionsTask",["getLayout","OptionsTask"],at.default,g.Colors.Black),s.addTask("CurrentControlSizeTask",["LayoutOptionsTask","ItemsSizesOptionTask","FrameSizeTask","LevelTitleSizeTask"],st.default,g.Colors.Black),s.addTask("CurrentScrollPositionTask",["LayoutOptionsTask"],rt.default,g.Colors.Black),s.addTask("ItemsPositionsTask",["CurrentControlSizeTask","ScaleOptionTask","OrientationOptionTask","ItemsSizesOptionTask","ConnectorsOptionTask","OrderFamilyNodesOptionTask","OrderFamilyNodesTask","CombinedTemplateParamsTask","CursorItemTask","CombinedNormalVisibilityItemsTask"],ne.default,g.Colors.Red),s.addTask("AlignDiagramTask",["OrientationOptionTask","ItemsSizesOptionTask","VisualTreeOptionTask","ScaleOptionTask","CurrentControlSizeTask","ActiveItemsTask","ItemsPositionsTask","isFamilyChartMode"],ot.default,g.Colors.Red),s.addTask("CreateTransformTask",["OrientationOptionTask","AlignDiagramTask"],lt.default,g.Colors.Cyan),s.addTask("PaletteManagerTask",["ConnectorsOptionTask","LinePaletteOptionTask"],ut.default,g.Colors.Cyan),s.addTask("ApplyLayoutChangesTask",["graphics","setLayout","ItemsSizesOptionTask","CurrentControlSizeTask","ScaleOptionTask","AlignDiagramTask","FrameSizeTask","LevelTitleSizeTask"],ct.default,g.Colors.Cyan),s.addTask("CenterOnCursorTask",["LayoutOptionsTask","ApplyLayoutChangesTask","CurrentScrollPositionTask","CursorItemTask","AlignDiagramTask","CreateTransformTask","ScaleOptionTask"],dt.default,g.Colors.Cyan),s.addTask("ProjectItemsToFrameTask",["CreateTransformTask","FrameSizeTask","ApplyLayoutChangesTask","ScaleOptionTask","AlignDiagramTask","CenterOnCursorTask","ItemTemplateParamsTask","SelectedItemsTask"],ht.default,g.Colors.Cyan),s.addTask("ViewPortPlacementTask",["ScaleOptionTask","CenterOnCursorTask","CreateTransformTask","ApplyLayoutChangesTask"],pt.default,g.Colors.Green),s.addTask("VerticalOffsetTask",["ViewPortPlacementTask"],mt.default,g.Colors.Green),s.addTask("LogicalLevelsPlacementTask",["OrderFamilyNodesTask","AlignDiagramTask"],gt.default,g.Colors.Green),s.addTask("MergeLevelIntervalsTask",["LevelAnnotationOptionTask","LogicalLevelsPlacementTask"],Tt.default,g.Colors.Green),s.addTask("DrawBackgroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","ForegroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","foreground"],ft.default,g.Colors.Cyan),s.addTask("DrawForegroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","BackgroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","background"],ft.default,g.Colors.Cyan),s.addTask("DrawBackgroundAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","BackgroundAnnotationOptionTask","LogicalFamilyTask","AlignDiagramTask"],yt.default,g.Colors.Green),s.addTask("DrawForegroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],kt.default,g.Colors.Green),s.addTask("DrawBackgroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],kt.default,g.Colors.Green),s.addTask("DrawForegroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],vt.default,g.Colors.Green),s.addTask("DrawBackgroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],vt.default,g.Colors.Green),s.addTask("DrawCursorTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","CombinedTemplateParamsTask","CursorItemTask","SelectedItemsTask"],Ct.default,g.Colors.Green),s.addTask("DrawHighlightTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","CombinedTemplateParamsTask","HighlightItemTask","CursorItemTask","SelectedItemsTask"],wt.default,g.Colors.Green),s.addTask("DrawHighlightAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","CombinedContextsTask","CalloutOptionTask","ReadTemplatesTask","AlignDiagramTask","CenterOnCursorTask","HighlightItemTask","CursorItemTask","SelectedItemsTask","FrameSizeTask"],bt.default,g.Colors.Green),s.addTask("DrawTreeItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","ItemsSizesOptionTask","CombinedContextsTask","AlignDiagramTask","CenterOnCursorTask","CombinedTemplateParamsTask","CursorItemTask","SelectedItemsTask","GroupTitleTemplateTask","CheckBoxTemplateTask","ButtonsTemplateTask"],Ot.default,g.Colors.Green),s.addTask("DrawMinimizedItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","MinimizedItemsOptionTask","CombinedTemplateParamsTask","AlignDiagramTask"],Pt.default,g.Colors.Green),s.addTask("DrawConnectorsTask",["graphics","ConnectionsGraphTask","ConnectorsOptionTask","showElbowDots","PaletteManagerTask"],jt.default,g.Colors.Green),s.addTask("DrawItemLabelsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","LabelsOptionTask","AlignDiagramTask"],St.default,g.Colors.Green),s.addTask("DrawFrameItemsTask",["graphics","ApplyLayoutChangesTask","ProjectItemsToFrameTask","ItemTemplateParamsTask","MinimizedItemsOptionTask"],At.default,g.Colors.Green),s.addTask("DrawFrameHighlightTask",["graphics","ProjectItemsToFrameTask","CombinedContextsTask","ItemTemplateParamsTask","HighlightItemTask","CursorItemTask"],It.default,g.Colors.Green),s.addTask("DrawLevelAnnotationBackgroundTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask"],Lt.default,g.Colors.Green),s.addTask("DrawLevelAnnotationTitlesTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask","LevelTitlePlacementOptionTask"],xt.default,g.Colors.Green),s}},"./src/OrgDiagram.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var i=n("./src/templates/html/AnnotationLabelTemplate.js"),a=n("./src/templates/html/ButtonsTemplate.js"),s=n("./src/templates/html/CheckBoxTemplate.js"),r=n("./src/templates/html/CursorTemplate.js"),o=n("./src/templates/html/DotHighlightTemplate.js"),l=n("./src/templates/html/GroupTitleTemplate.js"),u=n("./src/templates/html/HighlightTemplate.js"),c=n("./src/templates/html/ItemTemplate.js"),d=n("./src/templates/html/UserTemplate.js"),h=n("./src/templates/html/LabelAnnotationTemplate.js"),f=n("./src/templates/html/LevelTitleTemplate.js"),p=n("./src/templates/html/LevelBackgroundTemplate.js"),m=n("./src/OrgTaskManagerFactory.js"),g=n("./src/OrgEventArgsFactory.js"),T=n("./src/BaseControl.js");function y(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function k(i){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(Object(a),!0).forEach(function(t){var e,n;e=i,t=a[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):y(Object(a)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(a,t))})}return i}function v(t,e,n){return Object(T.default)(t,e,m.default,g.default,k({AnnotationLabelTemplate:i.default,ButtonsTemplate:a.default,CheckBoxTemplate:s.default,CursorTemplate:r.default,DotHighlightTemplate:o.default,GroupTitleTemplate:l.default,HighlightTemplate:u.default,ItemTemplate:c.default,UserTemplate:d.default,LevelTitleTemplate:f.default,LevelBackgroundTemplate:p.default,LabelAnnotationTemplate:h.default},n))}},"./src/OrgDiagramPdfkit.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return y});var i=n("./src/templates/pdf/AnnotationLabelTemplate.js"),a=n("./src/templates/pdf/CheckBoxTemplate.js"),s=n("./src/templates/pdf/CursorTemplate.js"),r=n("./src/templates/pdf/DummyTemplate.js"),o=n("./src/templates/pdf/GroupTitleTemplate.js"),l=n("./src/templates/pdf/HighlightTemplate.js"),u=n("./src/templates/pdf/ItemTemplate.js"),c=n("./src/templates/pdf/UserTemplate.js"),d=n("./src/templates/pdf/LabelAnnotationTemplate.js"),h=n("./src/templates/pdf/LevelTitleTemplate.js"),f=n("./src/templates/pdf/LevelBackgroundTemplate.js"),p=n("./src/BasePdfkitPlugin.js"),m=n("./src/OrgPdfkitTaskManagerFactory.js");function g(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function T(i){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach(function(t){var e,n;e=i,t=a[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(a,t))})}return i}function y(t,e){return Object(p.default)(t,m.default,T({AnnotationLabelTemplate:i.default,ButtonsTemplate:r.default,CheckBoxTemplate:a.default,CursorTemplate:s.default,DotHighlightTemplate:r.default,GroupTitleTemplate:o.default,HighlightTemplate:l.default,ItemTemplate:u.default,UserTemplate:c.default,LevelTitleTemplate:h.default,LevelBackgroundTemplate:f.default,LabelAnnotationTemplate:d.default},e))}},"./src/OrgEventArgsFactory.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var l=n("./src/events/OrgEventArgs.js"),u=n("./src/graphics/structs/Rect.js"),c=n("./src/graphics/dom.js");function i(t,e,n,i){var a=new l.default,s=t.tasks.getTask("CombinedContextsTask"),r=t.tasks.getTask("AlignDiagramTask"),o=s.getConfig(e),e=s.getConfig(n);return o&&null!=o.id&&(a.oldContext=o),e&&null!=e.id&&(null!==(a.context=e).parent&&(a.parentItem=s.getConfig(e.parent)),e=Object(c.getElementOffset)(t.layout.mousePanel),t=Object(c.getElementOffset)(t.layout.element),n=r.getItemPosition(n),a.position=new u.default(n.actualPosition).translate(e.left,e.top).translate(-t.left,-t.top)),null!=i&&(a.name=i),a}},"./src/OrgPdfkitTaskManagerFactory.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/configs/OrgConfig.js"),r=n("./src/configs/OrgItemConfig.js"),o=n("./src/configs/TemplateConfig.js"),l=n("./src/configs/BackgroundAnnotationConfig.js"),u=n("./src/configs/ConnectorAnnotationConfig.js"),c=n("./src/configs/HighlightPathAnnotationConfig.js"),d=n("./src/configs/ShapeAnnotationConfig.js"),h=n("./src/configs/LevelAnnotationConfig.js"),f=n("./src/enums.js"),p=n("./src/tasks/options/OptionsTask.js"),m=n("./src/tasks/options/CalloutOptionTask.js"),g=n("./src/tasks/options/ConnectorsOptionTask.js"),T=n("./src/tasks/options/OrgItemsOptionTask.js"),y=n("./src/tasks/options/ItemsSizesOptionTask.js"),k=n("./src/tasks/options/TemplatesOptionTask.js"),v=n("./src/tasks/options/OrientationOptionTask.js"),C=n("./src/tasks/options/OrgVisualTreeOptionTask.js"),w=n("./src/tasks/options/selection/CursorItemOptionTask.js"),b=n("./src/tasks/options/selection/HighlightItemOptionTask.js"),O=n("./src/tasks/options/selection/SelectedItemsOptionTask.js"),P=n("./src/tasks/options/annotations/SplitAnnotationsOptionTask.js"),j=n("./src/tasks/options/annotations/ShapeAnnotationOptionTask.js"),S=n("./src/tasks/options/annotations/HighlightPathAnnotationOptionTask.js"),A=n("./src/tasks/options/annotations/ConnectorAnnotationOptionTask.js"),I=n("./src/tasks/options/annotations/BackgroundAnnotationOptionTask.js"),x=n("./src/tasks/options/annotations/LevelAnnotationOptionTask.js"),L=n("./src/tasks/options/ScaleOptionTask.js"),z=n("./src/tasks/options/FrameOptionTask.js"),M=n("./src/tasks/options/LevelTitlePlacementOptionTask.js"),F=n("./src/tasks/options/LevelTitleTemplateOptionTask.js"),R=n("./src/tasks/transformations/CombinedContextsTask.js"),B=n("./src/tasks/transformations/OrgTreeTask.js"),D=n("./src/tasks/templates/ReadTemplatesTask.js"),V=n("./src/tasks/templates/ItemTemplateParamsTask.js"),N=n("./src/tasks/templates/GroupTitleTemplateTask.js"),H=n("./src/tasks/templates/CheckBoxTemplateTask.js"),E=n("./src/tasks/templates/ButtonsTemplateTask.js"),G=n("./src/tasks/templates/AnnotationLabelTemplateTask.js"),W=n("./src/tasks/templates/LevelAnnotationTemplateTask.js"),_=n("./src/tasks/transformations/VisualTreeTask.js"),K=n("./src/tasks/transformations/VisualTreeLevelsTask.js"),q=n("./src/tasks/transformations/ConnectionsGraphTask.js"),Y=n("./src/tasks/transformations/selection/HighlightItemTask.js"),U=n("./src/tasks/transformations/selection/CursorItemTask.js"),X=n("./src/tasks/transformations/selection/SelectedItemsTask.js"),Z=n("./src/tasks/transformations/selection/DummyCombinedNormalVisibilityItemsTask.js"),Q=n("./src/tasks/layout/FrameSizeTask.js"),J=n("./src/tasks/layout/LevelTitleSizeTask.js"),$=n("./src/tasks/layout/ApplyLayoutChangesTask.js"),tt=n("./src/tasks/layout/DummyCurrentControlSizeTask.js"),et=n("./src/tasks/transformations/OrgItemsPositionsTask.js"),nt=n("./src/tasks/layout/AlignDiagramTask.js"),it=n("./src/tasks/layout/CreateTransformTask.js"),at=n("./src/tasks/transformations/PaletteManagerTask.js"),st=n("./src/tasks/layout/ViewPortPlacementTask.js"),rt=n("./src/tasks/layout/VerticalOffsetTask.js"),ot=n("./src/tasks/layout/OrgLogicalLevelsPlacementTask.js"),lt=n("./src/tasks/layout/MergeLevelIntervalsTask.js"),ut=n("./src/tasks/renders/DrawBackgroundAnnotationTask.js"),ct=n("./src/tasks/renders/DrawHighlightPathAnnotationTask.js"),dt=n("./src/tasks/renders/DrawConnectorAnnotationTask.js"),ht=n("./src/tasks/renders/DrawShapeAnnotationTask.js"),ft=n("./src/tasks/renders/DrawCursorTask.js"),pt=n("./src/tasks/renders/DrawHighlightTask.js"),mt=n("./src/tasks/renders/DrawTreeItemsTask.js"),gt=n("./src/tasks/renders/DrawConnectorsTask.js"),Tt=n("./src/tasks/renders/DrawLevelAnnotationTitlesTask.js"),yt=n("./src/tasks/renders/DrawLevelAnnotationBackgroundTask.js"),kt=n("./src/managers/TaskManager.js");function i(t,e,n,i){var a=new kt.default;return a.addDependency("options",t),a.addDependency("graphics",e),a.addDependency("setLayout",n),a.addDependency("templates",i),a.addDependency("defaultConfig",new s.default),a.addDependency("defaultItemConfig",new r.default),a.addDependency("defaultTemplateConfig",new o.default),a.addDependency("defaultBackgroundAnnotationConfig",new l.default),a.addDependency("defaultConnectorAnnotationConfig",new u.default),a.addDependency("defaultHighlightPathAnnotationConfig",new c.default),a.addDependency("defaultShapeAnnotationConfig",new d.default),a.addDependency("defaultLevelAnnotationConfig",new h.default),a.addDependency("isFamilyChartMode",!1),a.addDependency("showElbowDots",!1),a.addDependency("null",null),a.addDependency("foreground",f.ZOrderType.Foreground),a.addDependency("background",f.ZOrderType.Background),a.addTask("OptionsTask",["options"],p.default,f.Colors.Black),a.addTask("CalloutOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],m.default,f.Colors.Navy),a.addTask("ConnectorsOptionTask",["OptionsTask","defaultConfig"],g.default,f.Colors.Navy),a.addTask("ItemsOptionTask",["OptionsTask","defaultItemConfig"],T.default,f.Colors.Navy),a.addTask("ItemsSizesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],y.default,f.Colors.Navy),a.addTask("TemplatesOptionTask",["OptionsTask","defaultConfig","defaultTemplateConfig"],k.default,f.Colors.Navy),a.addTask("OrientationOptionTask",["OptionsTask","defaultConfig"],v.default,f.Colors.Navy),a.addTask("VisualTreeOptionTask",["OptionsTask","defaultConfig"],C.default,f.Colors.Navy),a.addTask("CursorItemOptionTask",["OptionsTask","defaultConfig"],w.default,f.Colors.Navy),a.addTask("HighlightItemOptionTask",["OptionsTask","defaultConfig"],b.default,f.Colors.Navy),a.addTask("SelectedItemsOptionTask",["OptionsTask"],O.default,f.Colors.Navy),a.addTask("SplitAnnotationsOptionTask",["OptionsTask"],P.default,f.Colors.Cyan),a.addTask("ForegroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","foreground"],j.default,f.Colors.Navy),a.addTask("BackgroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","background"],j.default,f.Colors.Navy),a.addTask("ForegroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","foreground"],S.default,f.Colors.Navy),a.addTask("BackgroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","background"],S.default,f.Colors.Navy),a.addTask("ForegroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","foreground"],A.default,f.Colors.Navy),a.addTask("BackgroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","background"],A.default,f.Colors.Navy),a.addTask("BackgroundAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultBackgroundAnnotationConfig"],I.default,f.Colors.Navy),a.addTask("LevelAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultLevelAnnotationConfig"],x.default,f.Colors.Navy),a.addTask("ScaleOptionTask",["OptionsTask","defaultConfig"],L.default,f.Colors.Navy),a.addTask("FrameOptionTask",["OptionsTask","defaultConfig"],z.default,f.Colors.Navy),a.addTask("LevelTitlePlacementOptionTask",["OptionsTask","defaultConfig"],M.default,f.Colors.Navy),a.addTask("LevelTitleTemplateOptionTask",["OptionsTask","defaultConfig"],F.default,f.Colors.Navy),a.addTask("CombinedContextsTask",["ItemsOptionTask"],R.default,f.Colors.Cyan),a.addTask("OrgTreeTask",["ItemsOptionTask"],B.default,f.Colors.Red),a.addTask("ReadTemplatesTask",["TemplatesOptionTask","templates"],D.default,f.Colors.Cyan),a.addTask("ItemTemplateParamsTask",["ItemsSizesOptionTask","CursorItemOptionTask","ReadTemplatesTask"],V.default,f.Colors.Cyan),a.addTask("GroupTitleTemplateTask",["TemplatesOptionTask","templates"],N.default,f.Colors.Cyan),a.addTask("CheckBoxTemplateTask",["ItemsSizesOptionTask","templates"],H.default,f.Colors.Cyan),a.addTask("ButtonsTemplateTask",["ItemsSizesOptionTask","templates"],E.default,f.Colors.Cyan),a.addTask("AnnotationLabelTemplateTask",["ItemsOptionTask","templates"],G.default,f.Colors.Cyan),a.addTask("LevelAnnotationTemplateTask",["OrientationOptionTask","LevelTitleTemplateOptionTask","templates"],W.default,f.Colors.Cyan),a.addTask("VisualTreeTask",["OrgTreeTask","null","VisualTreeOptionTask","isFamilyChartMode"],_.default,f.Colors.Red),a.addTask("VisualTreeLevelsTask",["VisualTreeTask","ItemTemplateParamsTask"],K.default,f.Colors.Red),a.addTask("ConnectionsGraphTask",["graphics","CreateTransformTask","ConnectorsOptionTask","VisualTreeLevelsTask","AlignDiagramTask"],q.default,f.Colors.Cyan),a.addTask("HighlightItemTask",["HighlightItemOptionTask","null"],Y.default,f.Colors.Cyan),a.addTask("CursorItemTask",["CursorItemOptionTask","null"],U.default,f.Colors.Cyan),a.addTask("SelectedItemsTask",["SelectedItemsOptionTask","ItemsOptionTask"],X.default,f.Colors.Cyan),a.addTask("CombinedNormalVisibilityItemsTask",["OptionsTask"],Z.default,f.Colors.Cyan),a.addTask("FrameSizeTask",["FrameOptionTask","ReadTemplatesTask","ScaleOptionTask"],Q.default,f.Colors.Navy),a.addTask("LevelTitleSizeTask",["LevelTitlePlacementOptionTask","LevelAnnotationOptionTask","OrientationOptionTask","ScaleOptionTask"],J.default,f.Colors.Navy),a.addTask("CurrentControlSizeTask",["OptionsTask"],tt.default,f.Colors.Cyan),a.addTask("ItemsPositionsTask",["CurrentControlSizeTask","ScaleOptionTask","OrientationOptionTask","ItemsSizesOptionTask","ConnectorsOptionTask","VisualTreeOptionTask","VisualTreeTask","VisualTreeLevelsTask","ItemTemplateParamsTask","CursorItemTask","CombinedNormalVisibilityItemsTask"],et.default,f.Colors.Red),a.addTask("AlignDiagramTask",["OrientationOptionTask","ItemsSizesOptionTask","VisualTreeOptionTask","ScaleOptionTask","CurrentControlSizeTask","null","ItemsPositionsTask","isFamilyChartMode"],nt.default,f.Colors.Red),a.addTask("CreateTransformTask",["OrientationOptionTask","AlignDiagramTask"],it.default,f.Colors.Cyan),a.addTask("PaletteManagerTask",["ConnectorsOptionTask","null"],at.default,f.Colors.Cyan),a.addTask("ApplyLayoutChangesTask",["graphics","setLayout","ItemsSizesOptionTask","CurrentControlSizeTask","ScaleOptionTask","AlignDiagramTask","FrameSizeTask","LevelTitleSizeTask"],$.default,f.Colors.Green),a.addTask("ViewPortPlacementTask",["ScaleOptionTask","CenterOnCursorTask","CreateTransformTask","ApplyLayoutChangesTask"],st.default,f.Colors.Green),a.addTask("VerticalOffsetTask",["ViewPortPlacementTask"],rt.default,f.Colors.Green),a.addTask("LogicalLevelsPlacementTask",["OrgTreeTask","AlignDiagramTask"],ot.default,f.Colors.Green),a.addTask("MergeLevelIntervalsTask",["LevelAnnotationOptionTask","LogicalLevelsPlacementTask"],lt.default,f.Colors.Green),a.addTask("DrawBackgroundAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","BackgroundAnnotationOptionTask","VisualTreeTask","AlignDiagramTask"],ut.default,f.Colors.Green),a.addTask("DrawBackgroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background","DrawBackgroundAnnotationTask"],ht.default,f.Colors.Green),a.addTask("DrawBackgroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background","DrawBackgroundShapeAnnotationTask"],dt.default,f.Colors.Green),a.addTask("DrawTreeItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","null","ItemsSizesOptionTask","CombinedContextsTask","AlignDiagramTask","null","ItemTemplateParamsTask","CursorItemTask","SelectedItemsTask","GroupTitleTemplateTask","CheckBoxTemplateTask","ButtonsTemplateTask","DrawBackgroundConnectorAnnotationTask"],mt.default,f.Colors.Green),a.addTask("DrawBackgroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","ForegroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","foreground","DrawTreeItemsTask"],ct.default,f.Colors.Cyan),a.addTask("DrawConnectorsTask",["graphics","ConnectionsGraphTask","ConnectorsOptionTask","showElbowDots","PaletteManagerTask","DrawBackgroundHighlightPathAnnotationTask"],gt.default,f.Colors.Green),a.addTask("DrawForegroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","BackgroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","background","DrawConnectorsTask"],ct.default,f.Colors.Cyan),a.addTask("DrawForegroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground","DrawForegroundHighlightPathAnnotationTask"],ht.default,f.Colors.Green),a.addTask("DrawForegroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground","DrawForegroundShapeAnnotationTask"],dt.default,f.Colors.Green),a.addTask("DrawCursorTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","ItemTemplateParamsTask","CursorItemTask","SelectedItemsTask","DrawForegroundConnectorAnnotationTask"],ft.default,f.Colors.Green),a.addTask("DrawHighlightTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","ItemTemplateParamsTask","HighlightItemTask","CursorItemTask","SelectedItemsTask","DrawCursorTask"],pt.default,f.Colors.Green),a.addTask("DrawLevelAnnotationBackgroundTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask"],yt.default,f.Colors.Green),a.addTask("DrawLevelAnnotationTitlesTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask","LevelTitlePlacementOptionTask"],Tt.default,f.Colors.Green),a}},"./src/OrgTaskManagerFactory.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/managers/TaskManager.js"),o=n("./src/enums.js"),l=n("./src/configs/OrgConfig.js"),u=n("./src/configs/OrgItemConfig.js"),c=n("./src/configs/TemplateConfig.js"),d=n("./src/configs/BackgroundAnnotationConfig.js"),h=n("./src/configs/ConnectorAnnotationConfig.js"),f=n("./src/configs/HighlightPathAnnotationConfig.js"),p=n("./src/configs/ShapeAnnotationConfig.js"),m=n("./src/configs/LevelAnnotationConfig.js"),g=n("./src/tasks/options/OptionsTask.js"),T=n("./src/tasks/options/CalloutOptionTask.js"),y=n("./src/tasks/options/ConnectorsOptionTask.js"),k=n("./src/tasks/options/OrgItemsOptionTask.js"),v=n("./src/tasks/options/ItemsContentOptionTask.js"),C=n("./src/tasks/options/ItemsSizesOptionTask.js"),w=n("./src/tasks/options/LabelsOptionTask.js"),b=n("./src/tasks/options/TemplatesOptionTask.js"),O=n("./src/tasks/options/OrientationOptionTask.js"),P=n("./src/tasks/options/OrgVisualTreeOptionTask.js"),j=n("./src/tasks/options/MinimizedItemsOptionTask.js"),S=n("./src/tasks/options/selection/CursorItemOptionTask.js"),A=n("./src/tasks/options/selection/HighlightItemOptionTask.js"),I=n("./src/tasks/options/selection/SelectedItemsOptionTask.js"),x=n("./src/tasks/options/selection/CursorSelectionPathModeOptionTask.js"),L=n("./src/tasks/options/annotations/SplitAnnotationsOptionTask.js"),z=n("./src/tasks/options/annotations/ShapeAnnotationOptionTask.js"),M=n("./src/tasks/options/annotations/HighlightPathAnnotationOptionTask.js"),F=n("./src/tasks/options/annotations/ConnectorAnnotationOptionTask.js"),R=n("./src/tasks/options/annotations/BackgroundAnnotationOptionTask.js"),B=n("./src/tasks/options/annotations/LevelAnnotationOptionTask.js"),D=n("./src/tasks/options/ScaleOptionTask.js"),V=n("./src/tasks/options/FrameOptionTask.js"),N=n("./src/tasks/options/LevelTitlePlacementOptionTask.js"),H=n("./src/tasks/options/LevelTitleTemplateOptionTask.js"),E=n("./src/tasks/transformations/CombinedContextsTask.js"),G=n("./src/tasks/transformations/OrgTreeTask.js"),W=n("./src/tasks/templates/ReadTemplatesTask.js"),_=n("./src/tasks/templates/ActiveItemsTask.js"),K=n("./src/tasks/templates/ItemTemplateParamsTask.js"),q=n("./src/tasks/templates/GroupTitleTemplateTask.js"),Y=n("./src/tasks/templates/CheckBoxTemplateTask.js"),U=n("./src/tasks/templates/ButtonsTemplateTask.js"),X=n("./src/tasks/templates/AnnotationLabelTemplateTask.js"),Z=n("./src/tasks/templates/LevelAnnotationTemplateTask.js"),Q=n("./src/tasks/transformations/VisualTreeTask.js"),J=n("./src/tasks/transformations/VisualTreeLevelsTask.js"),$=n("./src/tasks/transformations/ConnectionsGraphTask.js"),tt=n("./src/tasks/transformations/selection/HighlightItemTask.js"),et=n("./src/tasks/transformations/selection/CursorItemTask.js"),nt=n("./src/tasks/transformations/selection/OrgCursorNeighboursTask.js"),it=n("./src/tasks/transformations/selection/SelectedItemsTask.js"),at=n("./src/tasks/transformations/selection/OrgSelectionPathItemsTask.js"),st=n("./src/tasks/transformations/selection/NormalVisibilityItemsByAnnotationTask.js"),rt=n("./src/tasks/transformations/selection/NormalVisibilityItemsByConnectorAnnotationTask.js"),ot=n("./src/tasks/transformations/selection/CombinedNormalVisibilityItemsTask.js"),lt=n("./src/tasks/layout/FrameSizeTask.js"),ut=n("./src/tasks/layout/LevelTitleSizeTask.js"),ct=n("./src/tasks/options/LayoutOptionsTask.js"),dt=n("./src/tasks/layout/CurrentControlSizeTask.js"),ht=n("./src/tasks/layout/CurrentScrollPositionTask.js"),ft=n("./src/tasks/transformations/OrgItemsPositionsTask.js"),pt=n("./src/tasks/layout/AlignDiagramTask.js"),mt=n("./src/tasks/layout/CreateTransformTask.js"),gt=n("./src/tasks/transformations/PaletteManagerTask.js"),Tt=n("./src/tasks/layout/ApplyLayoutChangesTask.js"),yt=n("./src/tasks/layout/CenterOnCursorTask.js"),kt=n("./src/tasks/layout/ProjectItemsToFrameTask.js"),vt=n("./src/tasks/layout/ViewPortPlacementTask.js"),Ct=n("./src/tasks/layout/VerticalOffsetTask.js"),wt=n("./src/tasks/layout/OrgLogicalLevelsPlacementTask.js"),bt=n("./src/tasks/layout/MergeLevelIntervalsTask.js"),Ot=n("./src/tasks/renders/DrawBackgroundAnnotationTask.js"),Pt=n("./src/tasks/renders/DrawHighlightPathAnnotationTask.js"),jt=n("./src/tasks/renders/DrawConnectorAnnotationTask.js"),St=n("./src/tasks/renders/DrawShapeAnnotationTask.js"),At=n("./src/tasks/renders/DrawCursorTask.js"),It=n("./src/tasks/renders/DrawHighlightTask.js"),xt=n("./src/tasks/renders/DrawHighlightAnnotationTask.js"),Lt=n("./src/tasks/renders/DrawTreeItemsTask.js"),zt=n("./src/tasks/renders/DrawMinimizedItemsTask.js"),Mt=n("./src/tasks/renders/DrawConnectorsTask.js"),Ft=n("./src/tasks/renders/DrawItemLabelsTask.js"),Rt=n("./src/tasks/renders/DrawFrameItemsTask.js"),Bt=n("./src/tasks/renders/DrawFrameHighlightTask.js"),Dt=n("./src/tasks/renders/DrawLevelAnnotationTitlesTask.js"),Vt=n("./src/tasks/renders/DrawLevelAnnotationBackgroundTask.js");function i(t,e,n,i,a){var s=new r.default;return s.addDependency("options",t),s.addDependency("graphics",e),s.addDependency("getLayout",n),s.addDependency("setLayout",i),s.addDependency("templates",a),s.addDependency("defaultConfig",new l.default),s.addDependency("defaultItemConfig",new u.default),s.addDependency("defaultTemplateConfig",new c.default),s.addDependency("defaultBackgroundAnnotationConfig",new d.default),s.addDependency("defaultConnectorAnnotationConfig",new h.default),s.addDependency("defaultHighlightPathAnnotationConfig",new f.default),s.addDependency("defaultShapeAnnotationConfig",new p.default),s.addDependency("defaultLevelAnnotationConfig",new m.default),s.addDependency("isFamilyChartMode",!1),s.addDependency("showElbowDots",!1),s.addDependency("null",null),s.addDependency("foreground",o.ZOrderType.Foreground),s.addDependency("background",o.ZOrderType.Background),s.addTask("OptionsTask",["options"],g.default,o.Colors.Black),s.addTask("CalloutOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],T.default,o.Colors.Navy),s.addTask("ConnectorsOptionTask",["OptionsTask","defaultConfig"],y.default,o.Colors.Navy),s.addTask("ItemsOptionTask",["OptionsTask","defaultItemConfig"],k.default,o.Colors.Navy),s.addTask("ItemsContentOptionTask",["OptionsTask","defaultItemConfig"],v.default,o.Colors.Navy),s.addTask("ItemsSizesOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],C.default,o.Colors.Navy),s.addTask("LabelsOptionTask",["OptionsTask","defaultConfig","defaultItemConfig"],w.default,o.Colors.Navy),s.addTask("TemplatesOptionTask",["OptionsTask","defaultConfig","defaultTemplateConfig"],b.default,o.Colors.Navy),s.addTask("OrientationOptionTask",["OptionsTask","defaultConfig"],O.default,o.Colors.Navy),s.addTask("VisualTreeOptionTask",["OptionsTask","defaultConfig"],P.default,o.Colors.Navy),s.addTask("MinimizedItemsOptionTask",["OptionsTask"],j.default,o.Colors.Navy),s.addTask("CursorItemOptionTask",["OptionsTask","defaultConfig"],S.default,o.Colors.Navy),s.addTask("HighlightItemOptionTask",["OptionsTask","defaultConfig"],A.default,o.Colors.Navy),s.addTask("SelectedItemsOptionTask",["OptionsTask"],I.default,o.Colors.Navy),s.addTask("CursorSelectionPathModeOptionTask",["OptionsTask","defaultConfig"],x.default,o.Colors.Navy),s.addTask("SplitAnnotationsOptionTask",["OptionsTask"],L.default,o.Colors.Cyan),s.addTask("ForegroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","foreground"],z.default,o.Colors.Navy),s.addTask("BackgroundShapeAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultShapeAnnotationConfig","background"],z.default,o.Colors.Navy),s.addTask("ForegroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","foreground"],M.default,o.Colors.Navy),s.addTask("BackgroundHighlightPathAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultHighlightPathAnnotationConfig","background"],M.default,o.Colors.Navy),s.addTask("ForegroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","foreground"],F.default,o.Colors.Navy),s.addTask("BackgroundConnectorAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultConnectorAnnotationConfig","background"],F.default,o.Colors.Navy),s.addTask("BackgroundAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultBackgroundAnnotationConfig"],R.default,o.Colors.Navy),s.addTask("LevelAnnotationOptionTask",["SplitAnnotationsOptionTask","defaultLevelAnnotationConfig"],B.default,o.Colors.Navy),s.addTask("ScaleOptionTask",["OptionsTask","defaultConfig"],D.default,o.Colors.Navy),s.addTask("FrameOptionTask",["OptionsTask","defaultConfig"],V.default,o.Colors.Navy),s.addTask("LevelTitlePlacementOptionTask",["OptionsTask","defaultConfig"],N.default,o.Colors.Navy),s.addTask("LevelTitleTemplateOptionTask",["OptionsTask","defaultConfig"],H.default,o.Colors.Navy),s.addTask("CombinedContextsTask",["ItemsContentOptionTask"],E.default,o.Colors.Cyan),s.addTask("OrgTreeTask",["ItemsOptionTask"],G.default,o.Colors.Red),s.addTask("ReadTemplatesTask",["TemplatesOptionTask","templates"],W.default,o.Colors.Cyan),s.addTask("ActiveItemsTask",["ItemsSizesOptionTask","ReadTemplatesTask"],_.default,o.Colors.Cyan),s.addTask("ItemTemplateParamsTask",["ItemsSizesOptionTask","CursorItemOptionTask","ReadTemplatesTask"],K.default,o.Colors.Cyan),s.addTask("GroupTitleTemplateTask",["TemplatesOptionTask","templates"],q.default,o.Colors.Cyan),s.addTask("CheckBoxTemplateTask",["ItemsSizesOptionTask","templates"],Y.default,o.Colors.Cyan),s.addTask("ButtonsTemplateTask",["ItemsSizesOptionTask","templates"],U.default,o.Colors.Cyan),s.addTask("AnnotationLabelTemplateTask",["ItemsOptionTask","templates"],X.default,o.Colors.Cyan),s.addTask("LevelAnnotationTemplateTask",["OrientationOptionTask","LevelTitleTemplateOptionTask","templates"],Z.default,o.Colors.Cyan),s.addTask("VisualTreeTask",["OrgTreeTask","ActiveItemsTask","VisualTreeOptionTask","isFamilyChartMode"],Q.default,o.Colors.Red),s.addTask("VisualTreeLevelsTask",["VisualTreeTask","ItemTemplateParamsTask"],J.default,o.Colors.Red),s.addTask("ConnectionsGraphTask",["graphics","CreateTransformTask","ConnectorsOptionTask","VisualTreeLevelsTask","AlignDiagramTask"],$.default,o.Colors.Cyan),s.addTask("HighlightItemTask",["HighlightItemOptionTask","ActiveItemsTask"],tt.default,o.Colors.Cyan),s.addTask("CursorItemTask",["CursorItemOptionTask","ActiveItemsTask"],et.default,o.Colors.Cyan),s.addTask("CursorNeighboursTask",["CursorItemTask","VisualTreeTask"],nt.default,o.Colors.Cyan),s.addTask("SelectedItemsTask",["SelectedItemsOptionTask","ItemsOptionTask"],it.default,o.Colors.Cyan),s.addTask("SelectionPathItemsTask",["VisualTreeTask","CursorItemTask","SelectedItemsTask","CursorSelectionPathModeOptionTask"],at.default,o.Colors.Cyan),s.addTask("NormalVisibilityItemsByForegroundShapeAnnotationTask",["ForegroundShapeAnnotationOptionTask"],st.default,o.Colors.Cyan),s.addTask("NormalVisibilityItemsByBackgroundShapeAnnotationTask",["BackgroundShapeAnnotationOptionTask"],st.default,o.Colors.Cyan),s.addTask("NormalVisibilityItemsByBackgroundAnnotationTask",["BackgroundAnnotationOptionTask"],st.default,o.Colors.Cyan),s.addTask("NormalVisibilityItemsByForegroundHighlightPathAnnotationTask",["ForegroundHighlightPathAnnotationOptionTask"],st.default,o.Colors.Cyan),s.addTask("NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask",["BackgroundHighlightPathAnnotationOptionTask"],st.default,o.Colors.Cyan),s.addTask("NormalVisibilityItemsByForegroundConnectorAnnotationTask",["ForegroundConnectorAnnotationOptionTask"],rt.default,o.Colors.Cyan),s.addTask("NormalVisibilityItemsByBackgroundConnectorAnnotationTask",["BackgroundConnectorAnnotationOptionTask"],rt.default,o.Colors.Cyan),s.addTask("CombinedNormalVisibilityItemsTask",["ItemsSizesOptionTask","CursorItemTask","CursorNeighboursTask","SelectedItemsTask","SelectionPathItemsTask","NormalVisibilityItemsByForegroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundShapeAnnotationTask","NormalVisibilityItemsByBackgroundAnnotationTask","NormalVisibilityItemsByForegroundHighlightPathAnnotationTask","NormalVisibilityItemsByBackgroundHighlightPathAnnotationTask","NormalVisibilityItemsByForegroundConnectorAnnotationTask","NormalVisibilityItemsByBackgroundConnectorAnnotationTask"],ot.default,o.Colors.Cyan),s.addTask("FrameSizeTask",["FrameOptionTask","ReadTemplatesTask","ScaleOptionTask"],lt.default,o.Colors.Navy),s.addTask("LevelTitleSizeTask",["LevelTitlePlacementOptionTask","LevelAnnotationOptionTask","OrientationOptionTask","ScaleOptionTask"],ut.default,o.Colors.Navy),s.addTask("LayoutOptionsTask",["getLayout","OptionsTask"],ct.default,o.Colors.Black),s.addTask("CurrentControlSizeTask",["LayoutOptionsTask","ItemsSizesOptionTask","FrameSizeTask","LevelTitleSizeTask"],dt.default,o.Colors.Black),s.addTask("CurrentScrollPositionTask",["LayoutOptionsTask"],ht.default,o.Colors.Black),s.addTask("ItemsPositionsTask",["CurrentControlSizeTask","ScaleOptionTask","OrientationOptionTask","ItemsSizesOptionTask","ConnectorsOptionTask","VisualTreeOptionTask","VisualTreeTask","VisualTreeLevelsTask","ItemTemplateParamsTask","CursorItemTask","CombinedNormalVisibilityItemsTask"],ft.default,o.Colors.Red),s.addTask("AlignDiagramTask",["OrientationOptionTask","ItemsSizesOptionTask","VisualTreeOptionTask","ScaleOptionTask","CurrentControlSizeTask","ActiveItemsTask","ItemsPositionsTask","isFamilyChartMode"],pt.default,o.Colors.Red),s.addTask("CreateTransformTask",["OrientationOptionTask","AlignDiagramTask"],mt.default,o.Colors.Cyan),s.addTask("PaletteManagerTask",["ConnectorsOptionTask","null"],gt.default,o.Colors.Cyan),s.addTask("ApplyLayoutChangesTask",["graphics","setLayout","ItemsSizesOptionTask","CurrentControlSizeTask","ScaleOptionTask","AlignDiagramTask","FrameSizeTask","LevelTitleSizeTask"],Tt.default,o.Colors.Green),s.addTask("CenterOnCursorTask",["LayoutOptionsTask","ApplyLayoutChangesTask","CurrentScrollPositionTask","CursorItemTask","AlignDiagramTask","CreateTransformTask","ScaleOptionTask"],yt.default,o.Colors.Cyan),s.addTask("ProjectItemsToFrameTask",["CreateTransformTask","FrameSizeTask","ApplyLayoutChangesTask","ScaleOptionTask","AlignDiagramTask","CenterOnCursorTask","ItemTemplateParamsTask","SelectedItemsTask"],kt.default,o.Colors.Green),s.addTask("ViewPortPlacementTask",["ScaleOptionTask","CenterOnCursorTask","CreateTransformTask","ApplyLayoutChangesTask"],vt.default,o.Colors.Green),s.addTask("VerticalOffsetTask",["ViewPortPlacementTask"],Ct.default,o.Colors.Green),s.addTask("LogicalLevelsPlacementTask",["OrgTreeTask","AlignDiagramTask"],wt.default,o.Colors.Green),s.addTask("MergeLevelIntervalsTask",["LevelAnnotationOptionTask","LogicalLevelsPlacementTask"],bt.default,o.Colors.Green),s.addTask("DrawBackgroundAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","BackgroundAnnotationOptionTask","VisualTreeTask","AlignDiagramTask"],Ot.default,o.Colors.Green),s.addTask("DrawBackgroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","ForegroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","foreground"],Pt.default,o.Colors.Cyan),s.addTask("DrawForegroundHighlightPathAnnotationTask",["graphics","ConnectorsOptionTask","BackgroundHighlightPathAnnotationOptionTask","ConnectionsGraphTask","background"],Pt.default,o.Colors.Cyan),s.addTask("DrawForegroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],jt.default,o.Colors.Green),s.addTask("DrawBackgroundConnectorAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundConnectorAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],jt.default,o.Colors.Green),s.addTask("DrawForegroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","ForegroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","foreground"],St.default,o.Colors.Green),s.addTask("DrawBackgroundShapeAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","OrientationOptionTask","BackgroundShapeAnnotationOptionTask","AlignDiagramTask","AnnotationLabelTemplateTask","background"],St.default,o.Colors.Green),s.addTask("DrawCursorTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","ItemTemplateParamsTask","CursorItemTask","SelectedItemsTask"],At.default,o.Colors.Green),s.addTask("DrawHighlightTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","CombinedContextsTask","AlignDiagramTask","ItemTemplateParamsTask","HighlightItemTask","CursorItemTask","SelectedItemsTask"],It.default,o.Colors.Green),s.addTask("DrawHighlightAnnotationTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","CombinedContextsTask","CalloutOptionTask","ReadTemplatesTask","AlignDiagramTask","CenterOnCursorTask","HighlightItemTask","CursorItemTask","SelectedItemsTask","FrameSizeTask"],xt.default,o.Colors.Green),s.addTask("DrawTreeItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","ScaleOptionTask","ItemsSizesOptionTask","CombinedContextsTask","AlignDiagramTask","CenterOnCursorTask","ItemTemplateParamsTask","CursorItemTask","SelectedItemsTask","GroupTitleTemplateTask","CheckBoxTemplateTask","ButtonsTemplateTask"],Lt.default,o.Colors.Green),s.addTask("DrawMinimizedItemsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","MinimizedItemsOptionTask","ItemTemplateParamsTask","AlignDiagramTask"],zt.default,o.Colors.Green),s.addTask("DrawConnectorsTask",["graphics","ConnectionsGraphTask","ConnectorsOptionTask","showElbowDots","PaletteManagerTask"],Mt.default,o.Colors.Green),s.addTask("DrawItemLabelsTask",["graphics","CreateTransformTask","ApplyLayoutChangesTask","LabelsOptionTask","AlignDiagramTask"],Ft.default,o.Colors.Green),s.addTask("DrawFrameItemsTask",["graphics","ApplyLayoutChangesTask","ProjectItemsToFrameTask","ItemTemplateParamsTask","MinimizedItemsOptionTask"],Rt.default,o.Colors.Green),s.addTask("DrawFrameHighlightTask",["graphics","ProjectItemsToFrameTask","CombinedContextsTask","ItemTemplateParamsTask","HighlightItemTask","CursorItemTask"],Bt.default,o.Colors.Green),s.addTask("DrawLevelAnnotationBackgroundTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask"],Vt.default,o.Colors.Green),s.addTask("DrawLevelAnnotationTitlesTask",["graphics","VerticalOffsetTask","CreateTransformTask","ApplyLayoutChangesTask","LevelAnnotationOptionTask","MergeLevelIntervalsTask","LevelAnnotationTemplateTask","LevelTitlePlacementOptionTask"],Dt.default,o.Colors.Green),s}},"./src/algorithms/Family.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return p});var I=n("./src/common/index.js"),x=n("./src/algorithms/Graph.js"),L=n("./src/algorithms/LinkedHashItems.js");function p(t){var e,o={},l={},M={},v={},F={},C={},R={};function B(t,e,n,i){var a,s;if(null!=i&&null!=(s=e[n]))for(a in s)if(s.hasOwnProperty(a)&&i.call(t,a,s[a]))break}function i(t,e){var n=!1;return null!=M[t]&&null!=M[t][e]&&(delete M[t][e],--v[t],delete F[e][t],--C[e],v[t]||(delete M[t],delete v[t]),F[e]||(delete F[e],delete C[e],null==o.null&&(o.null={},l.null=0),o.null[e]=!0,l.null+=1),n=!0),n}function u(t,e){if(null!=e)for(var n in R)if(R.hasOwnProperty(n)&&e.call(t,n,R[n]))break}function a(t,e,n,i){for(var a,s,r={},o=0,l=!0;l;){for(s in l=!(a={}),n)if(n.hasOwnProperty(s)&&!r[s])switch(r[s]=!0,i.call(t,s,R[s],o)){case 1:l=!(a={});break;case 2:break;default:B(this,e,s,function(t){r[t]||(a[t]=!0,l=!0)})}n=a,o+=1}}function w(t,e,n){null!=n&&null!=e&&null!=R[e]&&null!=M[e]&&a(t,M,M[e],n)}function k(t,e,n){null!=n&&null!=e&&null!=R[e]&&null!=F[e]&&a(t,F,F[e],n)}function n(t,e,n,i,a,s){var r,o,l,u,c,d,h;if(null!=s){for(l in c=[],u={},R)R.hasOwnProperty(l)&&(u[l]=n[l]||0,u[l]||c.push(l));for(h=0;0<c.length;){for(d=[],r=0,o=c.length;r<o;r+=1){if(l=c[r],s.call(t,l,R[l],h)){d=[];break}h+=1,B(this,i,l,function(t){--u[t],0===u[t]&&d.push(t)})}c=d}}}function D(t,e){n(t,0,C,M,0,e)}function V(t,e){n(t,0,v,F,0,e)}function b(t,e,n,i,a,s,r,o,l){var u,c,d,h=!1;if(null!=R[t]&&null!=r[t]){if(h=!0,l)for(u=0,c=e.length;u<c;u+=1)d=e[u],null!=R[d]&&null!=r[t][d]||(h=!1);if(h&&(null!=i&&(R[n]=i),null!=R[n]))for(a[n]||(a[n]={},s[n]=0),r[n]||(r[n]={},o[n]=0),a[n][t]||(a[n][t]=!0,s[n]+=1),r[t][n]||(r[t][n]=!0,o[t]+=1),u=0,c=e.length;u<c;u+=1)n!=(d=e[u])&&(null!=r[t][d]&&(delete r[t][d],--o[t]),null!=a[d][t]&&(delete a[d][t],--s[d]),a[d][n]||(a[d][n]=!0,s[d]+=1),r[n][d]||(r[n][d]=!0,o[n]+=1))}return h}function s(t,e,n,i){return b(t,e,n,i,F,C,M,v,!0)}function O(){this.id="",this.key="",this.children=[],this.childrenHash={},this.processed=!1}function h(t){this.items=[],this.weight=0,(this.difference=0)<arguments.length&&(this.difference=t)}function P(t,e){this.parentid=t,this.childid=e,this.key=t+","+e}function c(t,e,n){this.from=t,this.to=e,this.distance=0}function j(t){return v[t]||0}function S(t){return C[t]||0}function A(t){var e=null,n=M[t]||{};for(e in n)if(n.hasOwnProperty(e))return e;return null}function d(t){var e=null,n=F[t]||{};for(e in n)if(n.hasOwnProperty(e))return e;return null}function f(t,e){this.parentid=t,this.childid=e,this.ids=[],this.nodes=[]}function r(){return p({roots:o,rootsCount:l,children:M,childrenCount:v,parents:F,parentsCount:C,nodes:R})}return e=t,Object(I.isObject)(e)&&(o=Object(I.cloneObject)(e.roots,!1),l=Object(I.cloneObject)(e.rootsCount,!0),M=Object(I.cloneObject)(e.children,!1),v=Object(I.cloneObject)(e.childrenCount,!0),F=Object(I.cloneObject)(e.parents,!1),C=Object(I.cloneObject)(e.parentsCount,!0),R=Object(I.cloneObject)(e.nodes,!0)),{add:function(t,e,n){var i,a,s,r={};if(t&&0!==t.length||(t=[null]),null==R[e]&&null!=n){for(R[e]=n,i=0,a=t.length;i<a;i+=1)null==r[s=t[i]]&&s!=e&&(r[s]=!0,null!=R[s]?(null==F[e]&&(F[e]={},C[e]=0),F[e][s]||(F[e][s]=!0,C[e]+=1),null==M[s]&&(M[s]={},v[s]=0),M[s][e]||(M[s][e]=!0,v[s]+=1)):(null==o[s]&&(o[s]={},l[s]=0),o[s][e]||(o[s][e]=!0,l[s]+=1)));null!=o[e]&&(M[e]=o[e],v[e]=l[e],delete o[e],delete l[e],B(this,M,e,function(t){null==F[t]&&(F[t]={},C[t]=0),F[t][e]||(F[t][e]=!0,C[t]+=1)}))}},adopt:function(t,e){var n,i,a;if(null==R[e])throw"Child should be in hierarchy!";for(n=0,i=t.length;n<i;n+=1){if(a=t[n],null==F[e]&&(F[e]={},C[e]=0),a==e||null==R[a])throw"Item cannot be parent of itself and parent should exist in the structure!";F[e][a]||(F[e][a]=!0,C[e]+=1),null==M[a]&&(M[a]={},v[a]=0),M[a][e]||(M[a][e]=!0,v[a]+=1)}},bundleChildren:s,bundleParents:function(t,e,n,i){return b(t,e,n,i,M,v,F,C,!0)},optimizeReferences:function(f){var t,e,p,m,n,i,g,T={},y={},k={},a=0;if(null!=f){for(t in R)a+=1,R.hasOwnProperty(t)&&(e=new O,B(this,M,t,function(t){e.children.push(t),e.childrenHash[t]=!0}),e.children.sort(),e.id=t,e.key=e.children.join(","),k[e.id]=e);for(i=Math.pow(10,a.toString().length);!Object(I.isEmptyObject)(k);){for(t in p={},g={},m=function(n){var t,i,a,s,r,o,l,u,c=Object(x.default)(),d={};for(t in n)n.hasOwnProperty(t)&&B(this,M,t,function(t){if(!d.hasOwnProperty(t))for(d[t]=!0,i=[],B(this,F,t,function(t){i.push(t)}),a=0,r=i.length;a<r-1;a+=1)if(o=i[a],n.hasOwnProperty(o))for(s=a+1;s<r;s+=1){var e;l=i[s],n.hasOwnProperty(l)&&(u=Math.abs(n[o].children.length-n[l].children.length),null==(e=c.edge(o,l))&&(e=new h(u),c.addEdge(o,l,e)),e.items.push(t),e.weight+=1)}});return c}(k),k)k.hasOwnProperty(t)&&(k[t].processed||(n=m.getSpanningTree(t,function(t){return t.weight*i+i-t.difference})).loopLevels(this,function(d,h,t){k[d].processed=!0,n.loopChildren(this,d,function(t,e){var n,i,a,s,r,o,l,u=m.edge(d,t),c=null;if(k[t].processed=!0,1<u.weight){if(u.items.sort(),i=u.items.join(","),T.hasOwnProperty(i))c=T[i];else{for(n=f(),R[n.id]=n,(c=new O).id=n.id,c.key=i,a=0,s=u.items.length;a<s;a+=1)l=u.items[a],c.children.push(l),c.childrenHash[l]=!0,g[l]=!0;c.children.sort(),T[c.key]=c,y[c.id]=c,p[c.id]=c,g[c.id]=c,r=c.children.slice(0),w(this,h.replacementItem||d,function(t,e,n){return c.childrenHash[t]||null==y[t]||(o=!0,w(this,t,function(t,e,n){return c.childrenHash[t]?g.hasOwnProperty(t)?void 0:2:(o=!1,1)}),o&&r.push(t)),2}),b(h.replacementItem||d,r,c.id,n,F,C,M,v,!1),(v[d]||0)<=1&&null==h.replacementItem&&(h.replacementItem=c.id)}c.id!=t&&(r=c.children.slice(0),w(this,e.replacementItem||t,function(t,e,n){return null==y[t]||c.childrenHash[t]||(o=!0,w(this,t,function(t,e,n){return c.childrenHash[t]?(g.hasOwnProperty(t),2):(o=!1,1)}),o&&r.push(t)),2}),b(e.replacementItem||t,r,c.id,null,F,C,M,v,!1),(v[t]||0)<=1&&null==e.replacementItem&&(e.replacementItem=c.id))}})}));k=p}}},eliminateManyToMany:function(e){var n,i;for(n in M)M.hasOwnProperty(n)&&1<(v[n]||0)&&B(this,M,n,function(t){1<(C[t]||0)&&(i=e(),s(n,[t],i.id,i))})},groupBy:function(t,e,n){if(null!=n){var i,a={};for(i in R){var s,r=C[i]||0,o=v[i]||0;r<=1&&o<=1&&(s=(r=d(i))+" * "+(o=A(i)),a.hasOwnProperty(s)||(a[s]=new f(r,o)),a[s].ids.push(i),a[s].nodes.push(R[i]))}for(s in a)if(a.hasOwnProperty(s)){var l=a[s];if(l.ids.length>=e&&n.call(t,l.parentid,l.childid,l.ids,l.nodes))break}}},getPlanarFamily:function(T){var y,k,v=new p;return T.loopLevels(this,function(t,e){var u=new L.default,a={},c={},i=[];T.loopLevelItems(this,t,function(l,t,e){var n;w(this,l,function(t,e){var s=T.getItemPosition(t),r=new P(l,t);c[r.key]=r;var o=[];u.isEmpty()?u.add(s,[r]):(u.iterateBack(function(t,e){if(e<s)return u.insertAfter(e,s,[r]),!0;if(e==s)return t.push(r),!0;for(var n=0,i=t.length;n<i;n+=1){var a=t[n];a.parentid!=l&&o.push(a)}}),u.startKey()>s&&u.unshift(s,[r]));for(var n=0,i=(a[r.key]=o).length;n<i;n+=1)a[o[n].key].push(r);return 2}),1!=j(l)||1==S(n=A(l))&&(n=new P(l,n),i.push(n.key))});var n,s,r=[];for(s in a){var o=(n=a[s]).length;null!=r[o]?r[o].push(s):r[o]=[s]}var l={};r.unshift(i);for(var d=0,h=r.length;d<h;d+=1){var f=r[d];if(null!=f)for(y=0,k=f.length;y<k;y+=1)if(s=f[y],!l.hasOwnProperty(s)){l[s]=!0;var p=c[s];null==v.node(p.parentid)&&v.add(null,p.parentid,{}),null==v.node(p.childid)?v.add([p.parentid],p.childid,{}):v.adopt([p.parentid],p.childid);for(var m=0,g=(n=a[s]).length;m<g;m+=1)l[n[m].key]=!0}}}),v},getFamilyWithoutGrandParentsRelations:function(){var i=new p,a={},n=[],s=0;for(l in F)F.hasOwnProperty(l)&&B(this,F,l,function(t){var e=a[l];null==e&&(e={},a[l]=e),e.hasOwnProperty(t)||(e=new c(l,t),n.push(e),a[l][t]=e)});for(;0<n.length;){var r=[];s+=1;for(var t=0,e=n.length;t<e;t+=1){var o=n[t],l=o.to;F.hasOwnProperty(l)&&B(this,F,l,function(t){var e,n=a[o.from];null==n&&(n={},a[o.from]=n),n.hasOwnProperty(t)?n[t].distance=s:(e=new c(l,t),r.push(e),n[t]=e)})}n=r}return u(this,function(e,t){var n=[];B(this,F,e,function(t){0===a[e][t].distance&&n.push(t)}),i.add(n,e,t)}),i},getGraph:function(n,i){var a,s=Object(x.default)();for(a in M)M.hasOwnProperty(a)&&B(this,M,a,function(t){var e=s.edge(a,t);null==e&&(e=null==i?new h({}):i.call(n,a,t),s.addEdge(a,t,e))});return s},removeNode:function(e){null!=R[e]&&(B(this,M,e,function(t){delete F[t][e],--C[t],C[t]||(delete F[t],delete C[t],null==o.null&&(o.null={},l.null=0),o.null[t]||(o.null[t]=!0,l.null+=1))}),B(this,F,e,function(t){delete M[t][e],--v[t],v[t]||(delete M[t],delete v[t])}),null!=o.null&&null!=o.null[e]&&(delete o.null[e],--l.null,l.null||(delete o.null,delete l.null)),delete M[e],delete v[e],delete F[e],delete C[e],delete R[e])},removeRelation:function(t,e){var n=!1;return null!=R[t]&&null!=R[e]&&(n=i(t,e)||i(e,t)),n},removeChildRelation:function(t,e){var n=!1;return null!=R[t]&&null!=R[e]&&(n=i(t,e)),n},node:function(t){return R[t]},loop:u,loopLevels:function(t,e,n){var i,a,s,r,o,l,u,c,d,h,f,p,m,g,T,y,k,v,C,w,b=[],O={},P={},j=[],S={},A={},I=null,x=e?D:V;function L(){this.items={},this.minimumLevel=null}function z(t,e,n){var i=A[e];i||(i=new L,A[e]=i),i.addItemToLevel(t,n),I=null==I?n:Math.min(I,n),S[t]=n,P[t]=!0}if(L.prototype.addItemToLevel=function(t,e){var n=this.items[e];n?n.push(t):(n=[t],this.items[e]=n),this.minimumLevel=null==this.minimumLevel?e:Math.min(this.minimumLevel,e)},null!=n){for(x(this,function(t,e,n){b.push(t),O[t]=n}),c=0,d=b.length;c<d;c+=1)if(g=b[c],null==P[g])for(j.push(g),z(g,c,0);0<j.length;){for(k=y=T=null,v=!e,C=[],h=0,f=j.length;h<f;h+=1)p=j[h],m=S[p],w=!1,e?(B(this,F,p,function(t){var e;P[t]||(w=!0,e=O[t],(null==T||!v||T<e||T==e&&m-1<k)&&(T=e,y=t,k=m-1,v=!0))}),B(this,M,p,function(t){var e;P[t]||(w=!0,e=O[t],(null==T||!v&&(e<T||T==e&&k<m+1))&&(T=e,y=t,k=m+1,v=!1))})):(B(this,M,p,function(t){var e;P[t]||(w=!0,e=O[t],(null==T||v||T<e||T==e&&k<m+1)&&(T=e,y=t,k=m+1,v=!1))}),B(this,F,p,function(t){var e;P[t]||(w=!0,e=O[t],(null==T||v&&(e<T||T==e&&m-1<k))&&(T=e,y=t,k=m-1,v=!0))})),w&&C.push(p);null!=y&&(C.push(y),z(y,c,k)),j=C}for(a=!0,i=I;a;){for(r in a=!(s={}),A)if(A.hasOwnProperty(r)&&null!=(l=(o=A[r]).items[o.minimumLevel-I+i]))for(s[r]=o,a=!0,c=0,d=l.length;c<d;c+=1)if(u=l[c],n.call(t,u,R[u],i-I))return!(a=!1);A=s,i+=1}}},loopTopo:D,loopTopoReversed:V,loopChildren:w,loopParents:k,findLargestRoot:function(){var r,n=null,o={},l={},i=null;return V(this,function(s,t,e){o.hasOwnProperty(s)||(o[s]={},l[s]=0),o[s][s]=!0,l[s]+=1,r=!0,k(this,t.id,function(t,e,n){var i,a;if(r=!1,o.hasOwnProperty(t)||(o[t]={},l[t]=0),l[t]||1!=C[s])for(a in i=o[s])i.hasOwnProperty(a)&&(o[t][a]=!0,l[t]+=1);else o[t]=o[s],l[t]=l[s];return 2}),r&&(!i||l[s]>i)&&(i=l[s],n=s)}),n},loopRoots:function(t,e){var n,r,i,a,s,o,l,u,c,d,h,f=null,p=0,m={},g={},T={},y={};for(o in V(this,function(s,t,e){m.hasOwnProperty(s)||(m[s]={},g[s]=0),m[s][s]=!0,g[s]+=1,r=!0,k(this,t.id,function(t,e,n){var i,a;if(r=!1,m.hasOwnProperty(t)||(m[t]={},g[t]=0),g[t]||1!=C[s])for(a in i=m[s])i.hasOwnProperty(a)&&(m[t][a]||(m[t][a]=!0,g[t]+=1));else m[t]=m[s],g[t]=g[s];return 2}),r&&(T[s]=!0,p+=1)}),l={},T)if(T.hasOwnProperty(o))for(a in s=m[o])s.hasOwnProperty(a)&&(l[a]||(l[a]=[]),l[a].push(o.toString()));for(;0<p;){for(i in n=null,T)T.hasOwnProperty(i)&&(!n||g[i]<n)&&(n=g[i],f=i);if(null!=f){for(a in null!=e&&e.call(t,f,R[f]),s=m[f])if(s.hasOwnProperty(a)&&!y[a]){for(d=0,h=(u=l[a]).length;d<h;d+=1)c=u[d],--g[c];y[a]=!0}delete T[f],--p}}},hasNodes:function(){return!Object(I.isEmptyObject)(R)},hasCommonChild:function(t){for(var e,n,i,a=!1,s={},r=0,o=0,l=t.length;o<l;o+=1)n=t[o],null==R[n]||s[n]||(s[n]=!0,r+=1);for(n in e={},s)s.hasOwnProperty(n)&&B(this,M,n,function(t){e[t]?e[t]+=1:e[t]=1});for(i in e)if(e.hasOwnProperty(i)&&null!=F[i]&&(C[i]||0)==e[i]&&e[i]==r){a=!0;break}return a},loopNeighbours:function(i,t,a){var s={};null!=a&&(w(this,t,function(t,e,n){return s.hasOwnProperty(t)||(s[t]=null,a.call(i,t,e,1)&&(s[t]=2),k(this,t,function(t,e,n){return s.hasOwnProperty(t)||(s[t]=null,a.call(i,t,e,2)&&(s[t]=2)),s[t]})),s[t]}),k(this,t,function(t,e,n){return s.hasOwnProperty(t)||(s[t]=null,a.call(i,t,e,1)&&(s[t]=2),w(this,t,function(t,e,n){return s.hasOwnProperty(t)||(s[t]=!0,a.call(i,t,e,2)&&(s[t]=2)),s[t]})),s[t]}))},countChildren:j,countParents:S,firstParent:d,firstChild:A,validate:function(n){var t,e;function i(t){var e,n=0;if(null!=t)for(e in t)t.hasOwnProperty(e)&&(n+=1);return n}for(t in u(this,function(e,t){B(this,M,e,function(t){if(!F.hasOwnProperty(t)||!F[t].hasOwnProperty(e))return null!=n&&(n.message="Child #"+t+" does not reference parent #"+e),!1}),B(this,F,e,function(t){if(!M.hasOwnProperty(t)||!M[t].hasOwnProperty(e))return null!=n&&(n.message="Parent #"+t+" does not reference child #"+e),!1})}),F)if(F.hasOwnProperty(t)){if((C[t]||0)!=i(F[t]))return null!=n&&(n.message="Parents count for item #"+t+" missmatch."),!1;if(F.hasOwnProperty(t)&&!R.hasOwnProperty(t))return null!=n&&(n.message="Orphant parents for item #"+t),!1}for(e in M)if(M.hasOwnProperty(e)){if((v[e]||0)!=i(M[e]))return null!=n&&(n.message="Children count for item "+e+" missmatch."),!1;if(M.hasOwnProperty(e)&&!R.hasOwnProperty(e))return null!=n&&(n.message="Orphant children of item "+e),!1}for(e in o)if(o.hasOwnProperty(e)){if((l[e]||0)!=i(o[e]))return null!=n&&(n.message="Root children count for item @"+e+" missmatch."),!1;B(this,o,e,function(t){if(!R.hasOwnProperty(t))return null!=n&&(n.message="Child #"+t+"of root #"+e+" does not exists."),!1})}return!0},hasLoops:function(){var i=r();return D(this,function(t,e,n){i.removeNode(t)}),i.hasNodes()},clone:r,BREAK:1,SKIP:2}}},"./src/algorithms/FamilyAlignment.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var a=n("./src/algorithms/getFamilyUnits.js"),o=n("./src/algorithms/FamilyMargins.js");function i(s,t,e,r){var n,i,T={};function y(t,e){var n=t[e];return null==n&&(n=new o.default,t[e]=n),n}return null!=r&&e.loopItems(this,function(t,e,n,i,a){T[t]=r.call(s,t,e)}),i=function(f,p){var m={},g={},i=null;return p.loopLevelsReversed(this,function(t,e){var n=new o.default;null!=i&&(i.add(0,Number.MAX_VALUE),n.merge(i,0));var h=i=n;p.loopLevelItems(this,t,function(i,t,e){var a=y(g,i);switch(a.add(T[i],e),f.countParents(i)){case 0:null!=h&&(m[i]=h.attach(a));break;case 1:f.loopParents(this,i,function(t,e,n){t=y(g,t);return m[i]=t.merge(a),h=t,f.BREAK});break;default:var s=0,r=null,o=null,l={};f.loopParents(this,i,function(t,e,n){if(0<n)return f.BREAK;s+=T[t];n=p.getItemPosition(t);r=null==r?n:Math.min(r,n),o=null==o?n:Math.max(o,n),l[n]=t});for(var n=-s/2,u=r;u<=o;u+=1){var c=l[u];n+=T[c]/2;var d=y(g,c);d.attach(a,-n),h=d,n+=T[c]/2}}})}),m}(t,e),n=function(t,u,c){var d={},h=Object(a.default)(t),f={};return u.loopLevels(this,function(l,t){u.loopLevelItems(this,l,function(t,e,n){var i,a;d.hasOwnProperty(t)||((i=0)===n?null!=c[t]&&(i+=c[t]+T[t]/2):(a=u.getItemAtPosition(l,n-1),i+=d[a]+T[a]/2+(c[t]||0)+T[t]/2),d[t]=i);var s=h[t];if(null!=s)for(var r=0;r<s.length;r+=1){var o=s[r];f.hasOwnProperty(o.id)||(f[o.id]=!0,function(t,e,n,i,a,s,r,o){var l=s,u=s;n.loopSiblings(this,e,function(t){t=r.getItemPosition(t);l=Math.min(l,t),u=Math.max(u,t)});for(var c=s-1;l<=c;--c){var d,h=r.getItemAtPosition(i,c);t.hasOwnProperty(h)||(d=r.getItemAtPosition(i,c+1),t[h]=t[d]-(T[h]/2+(o[d]||0)+T[d]/2))}for(c=s+1;c<=u;c+=1)h=r.getItemAtPosition(i,c),t.hasOwnProperty(h)||(d=r.getItemAtPosition(i,c-1),t[h]=t[d]+(T[d]/2+(o[h]||0)+T[h]/2));h=r.getItemAtPosition(i,l),s=t[h]-T[h]/2,h=r.getItemAtPosition(i,u),s+=t[h]+T[h]/2,s/=2,u=l=null,n.loopNonSiblings(this,e,function(t){t=r.getItemPosition(t);l=null!=l?Math.min(l,t):t,u=null!=u?Math.max(u,t):t});var f=0;for(c=l;c<=u;c+=1){var p=r.getItemAtPosition(a,c);f+=T[p],l<c&&(f+=o[p]||0)}for(s-=f/2,p=r.getItemAtPosition(a,l),t.hasOwnProperty(p)||(t[p]=s+T[p]/2),c=l+1;c<=u;c+=1)p=r.getItemAtPosition(a,c),t.hasOwnProperty(p)||(d=r.getItemAtPosition(a,c-1),t[p]=t[d]+(T[d]/2+(o[p]||0)+T[p]/2))}(d,t,o,l,l+1,n,u,c))}})}),d}(t,e,i),{getOffset:function(t){return n[t]}}}},"./src/algorithms/FamilyMargins.js":function(t,e,n){"use strict";function i(){function f(t,e,n,i){this.left=t,this.right=e,this.leftIndex=n,this.rightIndex=i}this.items=[],this.add=function(t,e,n,i){switch(arguments.length){case 2:this.items.push(new f(-t/2,t/2,e,e));break;case 4:this.items.push(new f(t,e,n,i))}},this.merge=function(t,e){for(var n=this.getDistanceTo(t),i=0,a=0,s=this.items.length,r=t.items.length,o=Math.min(s,r),l=Math.max(s,r),u=0;u<o;u+=1){var c,d=this.items[s-1-u],h=t.items[r-1-u];0===u&&(i=(c=d.right-d.left+(n||0)+(e||0)+h.right-h.left)/2+d.left,a=c/2-h.right),d.left-=i,d.right=h.right+a,d.rightIndex=h.rightIndex,this.items[l-1-u]=d}for(u=o;u<l;u+=1)d=this.items[s-1-u],h=t.items[r-1-u],null==d?this.items[l-1-u]=new f(h.left+a,h.right+a,h.leftIndex,h.rightIndex):(d.left-=i,d.right-=i);return n},this.attach=function(t,e){for(var n=this.getDistanceTo(t),i=e||0,a=this.items.length,s=t.items.length,r=Math.min(a,s),o=Math.max(a,s),l=0;l<r;l+=1){var u=this.items[a-1-l],c=t.items[s-1-l];0===l&&(i=u.right+(n||0)+(e||0)-c.left),u.right=c.right+i,u.rightIndex=c.rightIndex,this.items[o-1-l]=u}for(l=r;l<o;l+=1)null==(u=this.items[a-1-l])&&(c=t.items[s-1-l],this.items[o-1-l]=new f(c.left+i,c.right+i,c.leftIndex,c.rightIndex));return n},this.getDistanceTo=function(t){var e=null,n=0,i=this.items.length,a=t.items.length,s=Math.min(i,a);if(0<s){for(var r=0;r<s;r+=1){var o=this.items[i-1-r],l=t.items[a-1-r];0===r?e=n=o.right-l.left:o.rightIndex<l.leftIndex&&(e=Math.max(e,o.right-l.left))}e-=n}return e},this.loop=function(t,e){if(null!=e)for(var n=0,i=this.items.length;n<i;n+=1){var a=this.items[i-1-n];if(e.call(t,n,a.left,a.right,a.leftIndex,a.rightIndex))break}},this.getLeft=function(t){var e=this.items.length-1;if(t<=e)return this.items[e-t].left}}n.r(e),n.d(e,"default",function(){return i})},"./src/algorithms/FibonacciHeap.js":function(t,e,n){"use strict";function f(t){this.key=t.key,this.priority=t.priority,this.item=t.item}function i(o){var d=null,h={};function i(t,e,n){this.key=t,this.priority=e,this.item=n,this.degree=0,this.marked=!1,this.parent=null,this.child=null,this.left=null,this.right=null}function a(t,e){var n=h[t.right];e.right=t.right,e.left=t.key,t.right=e.key,n.left=e.key}function s(t){var e=h[t.left],n=h[t.right];e.right=n.key,n.left=e.key,t.right=t.key,t.left=t.key}function r(){var t=null;return null!=d&&(t=new f(h[d])),t}function e(){var t,e,n,i,a=r();return null!=a&&(t=h[d],e=h[t.right],null!=t.child?(n=h[t.child],i=h[n.left],t.right=n.key,e.left=i.key,n.left=t.key,i.right=e.key,s(t),delete h[t.key],d=null,l(n.key)):(s(t),delete h[t.key],d=null,e.key!=t.key&&l(e.key)),0),a}function l(t){for(var e,n=[],i={},a=t;!i.hasOwnProperty(a);){var s=h[a],r=s.right;for(i[a]=!0,s.parent=null;null!=(e=n[s.degree]);)(o?s.priority>e.priority:s.priority<e.priority)?u(s,e):(u(e,s),s=e),n[s.degree-1]=null;n[s.degree]=s,null!=d&&null!=h[d]&&!(o?h[d].priority<=s.priority:h[d].priority>=s.priority)||(d=s.key),a=r}}function u(t,e){t.degree+=1,s(e);var n=h[t.child];null!=n?(a(n,e),(o?n.priority<e.priority:n.priority>e.priority)&&(t.child=e.key)):t.child=e.key,e.parent=t.key}function n(t,e){t=h[t];if(o?t.priority>e:t.priority<e)throw"Priority increase is not supported";t.priority=e,null!=t.parent&&(e=h[t.parent],(o?e.priority<t.priority:e.priority>t.priority)&&(c(e,t),function t(e){{var n;null!=e.parent&&(e.marked?(c(n=h[e.parent],e),t(n)):e.marked=!0)}}(e))),(o?h[d].priority<t.priority:h[d].priority>t.priority)&&(d=t.key)}function c(t,e){e.marked=!1,e.parent=null,e.right==e.key?t.child=null:(t.child=e.right,s(e)),--t.degree,a(h[d],e)}return{add:function(t,e,n){if(h.hasOwnProperty(t))throw"Duplicate keys are not supported!";e=new i(t,e,n),h[t]=e,null==d?(e.left=t,e.right=t,d=t):(a(n=h[d],e),(o?n.priority<e.priority:n.priority>e.priority)&&(d=t)),0},getPriority:function(t){var e=null;return h.hasOwnProperty(t)&&(e=h[t].priority),e},setPriority:n,heapRoot:r,extractRoot:e,deleteKey:function(t){n(t,o?1/0:-1),e()},validate:function(){var t,e=0;for(t in h)if(h.hasOwnProperty(t)){var n=h[t];if(e+=1,null!=n.child){if(!h.hasOwnProperty(n.child))throw"Child does not exists";var i=h[n.child];if(i.parent!=n.key)throw"Child references wrong parent"}if(null!=n.parent&&!h.hasOwnProperty(n.parent))throw"Parent does not exists";if(null!=n.left){if(!h.hasOwnProperty(n.left))throw"Left does not exists";if((i=h[n.left]).right!=n.key)throw"Left references wrong right"}if(null!=n.right){if(!h.hasOwnProperty(n.right))throw"Right does not exists";if((i=h[n.right]).left!=n.key)throw"Right references wrong left"}}if(null==d&&0<e)throw"Orphans";if(null!=d){if(!h.hasOwnProperty(d))throw"Root node does not exists";if(null!=(n=h[d]).parent)throw"Root node has parent reference";for(var a=[d],s={},r=0;0<a.length;){for(var o=[],l=0,u=a.length;l<u;l+=1)for(var c=h[a[l]];!s.hasOwnProperty(c.key);)s[c.key]=!0,r+=1,null!=c.child&&o.push(c.child),c=h[c.right];a=o}if(e!=r)throw"Tree has loops or orpants"}}}}n.r(e),n.d(e,"HeapResult",function(){return f}),n.d(e,"default",function(){return i})},"./src/algorithms/Graph.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return f});var c=n("./src/algorithms/Tree.js"),b=n("./src/algorithms/FibonacciHeap.js");function f(){var k={},v=1,C=2;function a(t,e,n,i){var a,s,r,o,l,u,c=[];if(c.push(e),n[e]=!0,null!=i)for(;0<c.length;){for(s=[],r=0,o=c.length;r<o;r+=1){if(a=c[r],i.call(t,a))return;for(u in l=k[a])l.hasOwnProperty(u)&&!n.hasOwnProperty(u)&&(n[u]=!0,s.push(u))}c=s}}function w(t,e){var n,i,a,s=null,r=0,o=null;for(n in k)if(k.hasOwnProperty(n)){for(a in r=0,i=k[n])i.hasOwnProperty(a)&&(r+=e.call(t,i[a],n,a));(o<r||null==o)&&(s=n,o=r)}return s}function s(t,e,n,i,a){var s,r,o,l,u,c,d,h,f,p,m={},g=[],T={},y=0;if(null!=n&&null!=i&&(null==e&&(e=w(t,n)),null!=e))for(i.call(t,e),m[e]=!0,y+=1,T[e]=null;0<y;){for(s in g=[],l=o=null,u={},m)if(m.hasOwnProperty(s)){for(d in r=!1,c=k[s])if(c.hasOwnProperty(d)&&!T.hasOwnProperty(d))switch(h=n.call(t,c[d],s,d),r=!0,a){case v:null==u[d]&&(u[d]=0),u[d]+=h,(!l||u[d]>l)&&(l=u[o=d]);break;case C:null==u[d]?u[d]=h:u[d]=Math.min(u[d],h),(!l||u[d]<l)&&(l=u[o=d])}r||g.push(s)}if(null==o)break;for(m[o]=!0,y+=1,T[o]=!0,i.call(t,o),f=0,p=g.length;f<p;f+=1)delete m[g[f]],--y}}return{addEdge:function(t,e,n){null!=k[t]&&null!=k[t][e]||null==n||(null==k[t]&&(k[t]={}),k[t][e]=n,null==k[e]&&(k[e]={}),k[e][t]=n)},edge:function(t,e){var n=null;return null!=k[t]&&k[t][e]&&(n=k[t][e]),n},hasNode:function(t){return k.hasOwnProperty(t)},loopNodes:function(t,e,n){var i={};if(null==e)for(e in k)k.hasOwnProperty(e)&&(i.hasOwnProperty[e]||a(t,e,i,n));else a(t,e,i,n)},loopNodeEdges:function(t,e,n){var i,a;if(null!=n&&null!=(i=k[e]))for(a in i)i.hasOwnProperty(a)&&n.call(t,a,i[a])},getSpanningTree:function(t,e){var n,i,a,s,r,o=Object(c.default)(),l=Object(b.default)(!0),u={};for(l.add(t,0,null),u[t]=null;null!=(n=l.extractRoot());){for(a in i=k[n.key])i.hasOwnProperty(a)&&!o.node(a)&&(s=null!=e?e(i[a]):i[a],null==(r=l.getPriority(a))?(l.add(a,s,null),u[a]=n.key.toString()):r<=s&&(l.setPriority(a,s),u[a]=n.key.toString()));o.add(u[n.key],n.key.toString(),{})}return o},getTotalWeightGrowthSequence:function(t,e,n){s(t,w(t,e),e,n,v)},getMinimumWeightGrowthSequence:function(t,e,n,i){s(t,e,n,i,C)},getShortestPath:function(t,e,n,i,a){for(var s,r,o,l,u,c,d,h=Object(b.default)(!1),f={},p={},m=0,g=0,T=0,y=n.length;T<y;T+=1)r=n[T],p.hasOwnProperty(r)||(m+=1,p[r]=!0);for(h.add(e,0,null),f[e]=null;null!=(s=h.extractRoot());){for(r in o=k[s.key])o.hasOwnProperty(r)&&(u=1,l=null!=i?(u=i.call(t,o[r],s,r),s.priority+u):s.priority+1,0<=u&&(null!=(u=h.getPriority(r))?l<u&&(h.setPriority(r,l),f[r]=s.key):f.hasOwnProperty(r)||(h.add(r,l,null),f[r]=s.key)));if(p.hasOwnProperty(s.key)){for(c=[],d=s.key;null!=d;)c.push(d),d=f[d];if(a.call(t,c,s.key),m<=(g+=1))break}}},dfsPath:function(t,e,n,i){var a=[],s={};if(a.push(e),s[e]=null,e!=n)for(;0<a.length&&!s.hasOwnProperty(n);){var r=a[a.length-1];--a.length;var o,l=k[r];for(o in l)if(l.hasOwnProperty(o)&&!s.hasOwnProperty(o)&&i.call(t,r,o,l[o])&&(a.push(o),s[o]=r,o==n))break}r=n;for(var u=[];s.hasOwnProperty(r);)u.push(r),r=s[r];var c=[];if(0<u.length)for(var d=u.length-1;0<=d;--d)c.push(u[d]);return c},getLevelGraph:function(t,e,n){var i,a,s,r={},o=[];for(o.push(e),r[e]=1;0<o.length;){for(var l=[],u=0,c=o.length;u<c;u+=1)for(var d in a=r[i=o[u]],s=k[i])s.hasOwnProperty(d)&&(r.hasOwnProperty(d)||n.call(t,i,d,s[d])&&(l.push(d),r[d]=a+1));o=l}var h=f();for(i in k)if(r.hasOwnProperty(i))for(d in a=r[i],s=k[i])r.hasOwnProperty(d)&&a+1==r[d]&&h.addEdge(i,d,s[d]);return h},dfsLoop:function(t,e,n,i){var a,s=[],r={};for(s.push(e),r[e]=!0;0<s.length;){a=s[s.length-1],--s.length;var o,l=k[a];for(o in l)if(l.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&n.call(t,a,o,l[o])&&(s.push(o),r[o]=!0,i.call(t,o)))return}}}}},"./src/algorithms/LCA.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var o=n("./src/algorithms/RMQ.js");function i(t){var n,a=[],s=[],r={};return function(){var i=0;t.loopEulerWalk(this,function(t,e,n){a.push(t),s.push(n),r.hasOwnProperty(t)||(r[t]=i),i+=1}),n=Object(o.default)(s)}(),{getLowestCommonAncestor:function(t,e){return t=r[t],e=r[e],t=t<e?n.getRangeMinimumIndex(t,e):n.getRangeMinimumIndex(e,t),a[t]}}}},"./src/algorithms/LinkedHashItems.js":function(t,e,n){"use strict";function i(){var r={},o={},l={},u=null,c=null;function a(t,e){if(r.hasOwnProperty(t))throw"Duplicate segments are not supported!";r[t]=e,(o[t]=null)==c?l[u=t]=null:(o[c]=t,l[t]=c),c=t}function s(t,e){if(r.hasOwnProperty(t))throw"Duplicate segments are not supported!";r[t]=e,(l[t]=null)==u?o[c=t]=null:(l[u]=t,o[t]=u),u=t}function i(t,e,n){if(r.hasOwnProperty(e))throw"Duplicate segments are not supported!";var i;null==t?s(e,n):null==(i=o[t])?a(e,n):(r[e]=n,o[t]=e,o[e]=i,l[i]=e,l[e]=t)}function d(t,e,n,i){var a,s=n;if(null==s&&(s=t?u:c),null!=e)for(;null!=s;){if(a=r[s],null!=a&&e(a,s))return;s=s==i?null:(t?o:l)[s]}}function t(t,e,n){d(!0,t,e,n)}return{add:a,item:function(t){return r[t]},nextKey:function(t){return o[t]},prevKey:function(t){return l[t]},startKey:function(){return u},endKey:function(){return c},unshift:s,insertAfter:i,insertBefore:function(t,e,n){if(r.hasOwnProperty(e))throw"Duplicate segments are not supported!";if(null==t||!r.hasOwnProperty(t))throw"Before key should be defined!";null==(t=l[t])?s(e,n):i(t,e,n)},remove:function(t){var e=l[t],n=o[t];null!=e?o[e]=n:u=n,null!=n?l[n]=e:c=e,delete r[t],delete o[t],delete l[t]},isEmpty:function(){return null==u},attach:function(t){t.iterate(function(t,e){a(e,t)})},iterate:t,iterateBack:function(t,e,n){d(!1,t,e,n)},empty:function(){r={},o={},l={},c=u=null},toArray:function(){var e=[];return t(function(t){e.push(t)}),e},validate:function(t){var e,n,i;for(e in r)if(r.hasOwnProperty(e)&&(!o.hasOwnProperty(e)||!l.hasOwnProperty(e)))return null!=t&&(t.message="Orphant key found!"),!1;if(!r.hasOwnProperty(u)||!r.hasOwnProperty(c))return null!=t&&(t.message="Start or end values are missing!"),!1;for(e in o)if(o.hasOwnProperty(e)){if(!r.hasOwnProperty(e)||!l.hasOwnProperty(e))return null!=t&&(t.message="Orphant key found!"),!1;if((i=o[e])&&!o.hasOwnProperty(i))return null!=t&&(t.message="Next key not found!"),!1}for(e in l)if(l.hasOwnProperty(e)){if(!r.hasOwnProperty(e)||!o.hasOwnProperty(e))return null!=t&&(t.message="Orphant key found!"),!1;if((n=l[e])&&!l.hasOwnProperty(n))return null!=t&&(t.message="Prev key not found!"),!1}return!0}}}n.r(e),n.d(e,"default",function(){return i})},"./src/algorithms/Pile.js":function(t,e,n){"use strict";function i(){var d=[];function i(t,e,n,i){this.context=n,this.from=t,this.to=e,this.offset=null,this.direction=i}return{add:function(t,e,n){t<e?d.push(new i(t,e,n,1)):d.push(new i(e,t,n,-1))},resolve:function(t,e){var n,i,a,s,r,o,l,u,c=0;if(null!=e){for((a=d.slice(0)).sort(function(t,e){return t.from-e.from}),o=[];0<a.length;){for(function t(e,n,i,a,s){if(e>=n.length)return 0;if(i.hasOwnProperty(e))return i[e];var r=n[e];var o=t(e+1,n,i,a,s);var l=e+1;for(;l<n.length;){var u=n[l];if(u.from>=r.to)break;l+=1}var c=1+t(l,n,i,a,s);o<c?(i[e]=c,a[e]=l,s[e]=!0):(i[e]=o,a[e]=e+1,s[e]=!1);return i[e]}(0,a,{},n={},i={}),r=[],o[c]=[],u=0;n.hasOwnProperty(u);)i[u]&&(r.push(u),o[c].push(a[u])),u=n[u];for(u=r.length-1;0<=u;--u)a.splice(r[u],1);c+=1}for(l=0;l<c;l+=1)for(r=o[l],u=0;u<r.length;u+=1)if(s=r[u],e.call(t,s.from,s.to,s.context,l,c,s.direction))return c}return c}}}n.r(e),n.d(e,"default",function(){return i})},"./src/algorithms/QuadTree.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var c=n("./src/graphics/structs/Rect.js");function i(t){var e,s=Math.max(1,(e=t,Math.floor(Math.log(e)/Math.log(2)))),r=8,o=256,p=null;function l(t,e,n,i){this.x=t,this.y=e,this.scale=n,this.size=i,this.quadrants=[],this.points=[]}function u(t){var e=t.size/2;t.quadrants=[new l(t.x,t.y,t.scale-1,e),new l(t.x+e,t.y,t.scale-1,e),new l(t.x,t.y+e,t.scale-1,e),new l(t.x+e,t.y+e,t.scale-1,e)];for(var n=0,i=t.points.length;n<i;n+=1){var a=t.points[n],s=Math.floor(a.x),r=Math.floor(a.y);t.quadrants[t.getQuadrantIndex(s,r)].points.push(a)}t.points=null}return p=new l(0,0,r,o),l.prototype.notEnclosed=function(t){return this.x<t.x||this.x+this.size>t.x+t.width||this.y<t.y||this.y+this.size>t.y+t.height},l.prototype.overlaps=function(t){return!(this.x+this.size<t.x||t.x+t.width<this.x||this.y+this.size<t.y||t.y+t.height<this.y)},l.prototype.getQuadrantIndex=function(t,e){var n=this.scale-1;return t>>n&1|(e>>n&1)<<1},{addPoint:function(t){for(var e=Math.floor(t.x),n=Math.floor(t.y),i=Math.max(e,n);o<=i;){var a=new l(0,0,r+=1,o*=2);u(a),a.quadrants[0]=p,p=a}!function(t){var e=Math.floor(t.x),n=Math.floor(t.y),i=p;if(e<0||n<0)throw"Negative values are not supported in the quad tree.";for(;(null==i.points||0<i.points.length)&&(i.scale!=s||null==i.points);)null!=i.points&&0<i.points.length&&u(i),i=i.quadrants[i.getQuadrantIndex(e,n)];i.points.push(t)}(t)},loopArea:function(t,e,n){var i;if(null!=n)for(var a=[p],s=[];0<a.length||0<s.length;){for(var r=[],o=[],l=0,u=a.length;l<u;l+=1)if((i=a[l]).overlaps(e))if(i.notEnclosed(e))if(null==i.points)for(var c=0;c<4;c+=1)r.push(i.quadrants[c]);else for(var d=0,h=i.points.length;d<h;d+=1){var f=i.points[d];if(e.contains(f)&&n.call(t,f))return}else s.push(i);for(l=0,u=s.length;l<u;l+=1)if(null==(i=s[l]).points)for(c=0;c<4;c+=1)o.push(i.quadrants[c]);else for(d=0,h=i.points.length;d<h;d+=1)if(n.call(t,i.points[d]))return;a=r,s=o}},validate:function(){for(var t=[p];0<t.length;){for(var e=[],n=0,i=t.length;n<i;n+=1){var a=t[n],s=new c.default(a.x,a.y,a.size,a.size);if(null!=a.points&&0<a.quadrants.length)return!1;if(null==a.points)for(var r=0;r<4;r+=1)e.push(a.quadrants[r]);else for(var o=0,l=a.points.length;o<l;o+=1){var u=a.points[o];if(!s.contains(u))return!1}}t=e}return!0},getPositions:function(t){for(var e=[],n=[p];0<n.length;){for(var i=[],a=0,s=n.length;a<s;a+=1){var r=n[a],o=new c.default(r.x,r.y,r.size,r.size);o.context={isHighlighted:!1},null!=t&&t.overlaps(o)&&null!=r.points&&0<r.points.length&&(o.context.isHighlighted=!0),e.push(o);for(var l=0;l<4;l+=1){var u=r.quadrants[l];null!=u&&i.push(u)}}n=i}return e}}}},"./src/algorithms/RMQ.js":function(t,e,n){"use strict";function i(i){var a=[],s=Math.log(2);function n(t,e){var n=Math.floor(Math.log(e-t+1)/s);return(i[a[t][n]]<=i[a[e-(1<<n)+1][n]]?a[t]:a[e-(1<<n)+1])[n]}return function(){for(var t,e=0,n=i.length;e<n;e+=1)a[e]=[e];for(t=1,n=i.length;1<<t<n;t+=1)for(e=0;e+(1<<t)-1<n;e+=1)i[a[e][t-1]]<i[a[e+(1<<t-1)][t-1]]?a[e][t]=a[e][t-1]:a[e][t]=a[e+(1<<t-1)][t-1]}(),{getRangeMinimumIndex:n,getRangeMinimum:function(t,e){return i[n(t,e)]}}}n.r(e),n.d(e,"default",function(){return i})},"./src/algorithms/SortedList.js":function(t,e,n){"use strict";function i(){var l=null;function o(t,e){this.value=t,this.context=e,this.left=null,this.right=null,this.balance=0}function u(t){var e,n,i,a;return 2==t.balance?0<=(e=(n=t.right).balance)?(s(i=n,a=t),1==i.balance?(a.balance=0,i.balance=0):(a.balance=-1,i.balance=1)):function(t,e){var n=t.left;switch(r(n,t),s(t,e),e.balance=0,n.balance){case 1:t.balance=-1,n.balance=0;break;case 0:n.balance=0,t.balance=0;break;default:n.balance=1,t.balance=0}}(n,t):-2==t.balance&&((e=t.left.balance)<=0?(r(i=t.left,n=t),-1==i.balance?(n.balance=0,i.balance=0):(n.balance=1,i.balance=-1)):function(t,e){var n=t.right;switch(s(n,t),r(t,e),e.balance=0,n.balance){case-1:n.balance=0,t.balance=1;break;case 0:n.balance=0,t.balance=0;break;default:n.balance=-1,t.balance=0}}(t.left,t)),e}function s(t,e){n(t,e),e.right=t.right,t.right=t.left,t.left=e.left,e.left=t}function r(t,e){n(t,e),e.left=t.left,t.left=t.right,t.right=e.right,e.right=t}function c(t,e){var n=null!=t.right?t.right:t.left;null!=e?e.value>t.value?e.left=n:e.right=n:l=n}function n(t,e){var n=t.value;t.value=e.value,e.value=n;n=t.context;t.context=e.context,e.context=n}function e(t,e,n){if(null!=n){for(var i=[],a=null,s=l;null!=s;)s=(a=s).value>=e||null==e?(i.push(a),a.left):a.right;for(;null!=(a=i.pop());){if(n.call(t,a.value,a.context))return;for(s=a.right;null!=s;)if(null!=(a=s).left)i.push(a),s=a.left;else{if(n.call(t,a.value,a.context))return;s=a.right}}}}function i(t,e,n){if(null!=n){for(var i=[],a=null,s=l;null!=s;)s=(a=s).value<=e||null==e?(i.push(a),a.right):a.left;for(;null!=(a=i.pop());){if(n.call(t,a.value,a.context))return;for(s=a.left;null!=s;)if(null!=(a=s).right)i.push(a),s=a.right;else{if(n.call(t,a.value,a.context))return;s=a.left}}}}function a(t){var e=[],n=0;if(null!=t)for(e.push(t);0<e.length;){for(var i=[],a=0;a<e.length;a+=1)null!=(t=e[a]).left&&i.push(t.left),null!=t.right&&i.push(t.right);e=i,n+=1}return n}return{add:function(t,e,n,i){if(null==l)l=new o(t,e);else{for(var a=[],s=null,r=l;null!=r;)if(null!=s&&a.push(s),(s=r).value==t){if(null==i)throw"Structure does not support duplicates.";i.call(n,s.context)}else r=s.value>t?s.left:s.right;a.push(s);e=new o(t,e);for(s.value>t?s.left=e:s.right=e,s=e;null!=(r=a.pop());){if(s.value<r.value){if(r.balance<0){--r.balance,u(r);break}if(0<r.balance){--r.balance;break}--r.balance}else{if(0<r.balance){r.balance+=1,u(r);break}if(r.balance<0){r.balance+=1;break}r.balance+=1}s=r}}},remove:function(t){for(var e,n,i=[],a=l;null!=a;){if(a.value==t){if(null!=a.right&&null!=a.left){i.push(a);for(var s=a.right;null!=s.left;)i.push(s),s=s.left;e=s,(n=a).value=e.value,n.context=e.context,c(s,i[i.length-1]),i.push(s)}else c(a,i[i.length-1]),i.push(a);for(var r=i.length-2;0<=r;--r){var o=i[r],a=i[r+1];if(o.value>a.value)if(0<o.balance){if(o.balance+=1,0===u(o))break}else{if(0===o.balance){o.balance+=1;break}o.balance+=1}else if(o.balance<0){if(--o.balance,0===u(o))break}else{if(0===o.balance){--o.balance;break}--o.balance}}break}i.push(a),a=a.value>t?a.left:a.right}},loopForward:e,loopBackward:i,nextContext:function(t){var n=null;return e(this,t,function(t,e){return n=e,!0}),n},previousContext:function(t){var n=null;return i(this,t,function(t,e){return n=e,!0}),n},validate:function(){if(null!=l)for(var t=[l];0<t.length;){for(var e=[],n=0;n<t.length;n+=1){var i=t[n];if(null==i.value)return!1;if(null!=i.left&&(e.push(i.left),i.left.value>=i.value))return!1;if(null!=i.right&&(e.push(i.right),i.right.value<=i.value))return!1;if(i.balance!=a(i.right)-a(i.left))return console.log("Disbalanced node: "+i.value+" - "+JSON.stringify(l)),!1}t=e}return!0}}}n.r(e),n.d(e,"default",function(){return i})},"./src/algorithms/SpatialIndex.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var u=n("./src/algorithms/getLiniarBreaks.js"),c=n("./src/algorithms/QuadTree.js"),d=n("./src/graphics/structs/Rect.js");function i(t){var o=[];switch(t.sort(function(t,e){return t-e}),t.length){case 0:o.push(new l(0,1e6));break;case 1:var e=t[0];o.push(new l(0,e));break;case 2:e=t[0];var n=t[1];2*e<n?(o.push(new l(0,e)),o.push(new l(e,n))):o.push(new l(0,n));break;default:for(var i=Object(u.default)(t),a=0,s=0;s<i.length;s+=1){var r=t[i[s]];o.push(new l(a,r)),a=r}}function l(t,e){this.minimum=t,this.maximum=e,this.quadTree=Object(c.default)(2*e)}return{addRect:function(t){for(var e=Math.max(t.width,t.height),n=t.centerPoint(),i=0,a=o.length;i<a;i+=1){var s=o[i];if(e<=s.maximum||i==a-1){n.context=t,s.quadTree.addPoint(n);break}}},loopArea:function(e,n,i){if(null!=i)for(var t=0,a=o.length;t<a;t+=1){var s=o[t],r=new d.default(n);r.offset(s.maximum/2),s.quadTree.loopArea(this,r,function(t){t=t.context;if(n.overlaps(t))return i.call(e,t)})}},validate:function(){for(var t=!0,e=0,n=o.length;e<n;e+=1)var i=o[e],t=t&&i.quadTree.validate();return t},getPositions:function(t){for(var e=[],n=0,i=o.length;n<i;n+=1)var a=o[n],e=e.concat(a.quadTree.getPositions(t));return e}}}},"./src/algorithms/Tree.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/common/index.js");function a(t){var e,d={},h={},f={},l={},p={};function m(t,e,n){var i,a,s,r;if(null!=d[e]&&null!=(i=f[e]))for(s=0,r=i.length;s<r&&(a=i[s],!n.call(t,a,d[a],s,r-1));s+=1);}function g(t){var e=null;return null!=h[t]&&(e=h[t]),e}function n(t,e){for(var n=t.length,i=0;i<n;i+=1)if(t[i]==e)return t.splice(i,1),n-1;return n}return e=t,Object(i.isObject)(e)&&(d=Object(i.cloneObject)(e.nodes,!0),h=Object(i.cloneObject)(e.parents,!0),f=Object(i.cloneObject)(e.children,!1),l=Object(i.cloneObject)(e.roots,!1),p=Object(i.cloneObject)(e.rootChildren,!0)),{loop:function(t,e){if(null!=e)for(var n in d)if(d.hasOwnProperty(n)&&e.call(t,n,d[n]))break},loopLevels:function(t,e,n){var i,a,s,r,o,l,u=0,c=[];switch(arguments.length){case 2:a=e;break;case 3:i=e,a=n}if(null!=a){if(null==i)for(r in p)p.hasOwnProperty(r)&&(c=c.concat(p[r]));else null!=f[i]&&(c=c.concat(f[i]));for(;0<c.length;){for(s=[],o=0,l=c.length;o<l;o+=1)switch(i=c[o],a.call(t,i,d[i],u)){case 1:s=[];break;case 2:break;default:null!=f[i]&&(s=s.concat(f[i]))}c=s,u+=1}}},loopParents:function(t,e,n,i){var a=e;if(null!=d[a]&&null!=n&&(!0!==i||!n.call(t,a,d[a])))for(;null!=(a=h[a])&&!n.call(t,a,d[a]););},loopChildren:m,loopChildrenRange:function(t,e,n,i,a){var s,r,o;if(null!=d[e]&&null!=(s=f[e]))if(n<i)for(n=Math.max(n,0),i=Math.min(i,s.length-1),o=n;o<=i&&(r=s[o],!a.call(t,r,d[r],o,NaN));o+=1);else for(n=Math.min(n,s.length-1),i=Math.max(0,i),o=n;i<=o&&(r=s[o],!a.call(t,r,d[r],o,NaN));--o);},loopChildrenReversed:function(t,e,n){var i,a,s,r;if(null!=d[e]&&(r=(i=f[e]).length-1,null!=i))for(s=r;0<=s&&(a=i[s],!n.call(t,a,d[a],s,r));--s);},loopPostOrder:function(t,e){var n,i,a,s,r,o=[];if(null!=e){for(i in p)p.hasOwnProperty(i)&&(o=o.concat(p[i]));for(;0<o.length;)if((n=o[o.length-1])!=s&&null!=(r=f[n]))for(a=r.length-1;0<=a;--a)o.push(r[a]);else if(o.pop(),s=h[n],e.call(t,n,d[n],s,d[s]))break}},loopPreOrder:function(t,e){var n,i,a,s,r,o,l=[];if(null!=e){for(i in p)p.hasOwnProperty(i)&&(l=l.concat(p[i]));for(;0<l.length&&((n=l[l.length-1])==r||(s=h[n],!e.call(t,n,d[n],s,d[s])));)if(n!=r&&null!=(o=f[n]))for(a=o.length-1;0<=a;--a)l.push(o[a]);else l.pop(),r=h[n]}},loopEulerWalk:function(t,e){var n,i,a,s,r,o,l,u=[],c=[];if(null!=e){for(a in p)if(p.hasOwnProperty(a))for(s=0,r=(l=p[a]).length;s<r;s+=1)u.push(l[s]),c.push(0);for(;0<u.length&&(n=u[s=u.length-1],i=c[s],!e.call(t,n,d[n],i));)if(n!=o&&null!=(l=f[n]))for(s=l.length-1;0<=s;--s)u.push(l[s]),c.push(i+1),0<s&&(u.push(n),c.push(i));else u.pop(),c.pop(),o=h[n]}},loopNeighbours:function(t,e,n,i){var a,s={},r=[e],o=0;if(null!=i&&d.hasOwnProperty(e))for(s[e]=!0;0<r.length;){a=[];for(var l=0,u=r.length;l<u;l+=1){var c=r[l];if(0<o&&i.call(t,c,d[c],o))return;o<n&&function(n,i,a){var t;null!=a&&d.hasOwnProperty(i)&&(null!=(t=g(i))&&a.call(n,t,d[t])||(m(n,t,function(t,e){t!=i&&a.call(n,t,e)}),m(n,i,function(t,e){a.call(n,t,e)})))}(this,c,function(t,e){s.hasOwnProperty(t)||(a.push(t),s[t]=!0)})}r=a,o+=1}},zipUp:function(t,e,n,i){var a,s;if(null!=i)for(;null!=e&&null!=n&&e!=n&&(a=h[e],s=h[n],!i.call(t,e,a,n,s));)e=a,n=s},parentid:g,parent:function(t){var e=null;return null!=h[t]&&(e=d[h[t]]),e},adopt:function(t,e){if(null==d[t]||null==d[e])throw"Both parent and child should be in hierarchy!";if(t==e)throw"Item cannot be parent of itself!";l.hasOwnProperty(e)&&(n(p[l[e]],e)||delete p[l[e]],delete l[e]),h.hasOwnProperty(e)&&(n(f[h[e]],e)||delete f[h[e]]),h[e]=t,null!=f[t]?f[t].push(e):f[t]=[e]},moveChildren:function(t,i){null!=d[t]&&null!=d[i]&&t!=i&&null!=f[t]&&(m(this,t,function(t,e,n){h[t]=i}),null!=f[i]?f[i]=f[i].concat(f[t]):f[i]=f[t],delete f[t])},node:function(t){return d[t]},add:function(t,e,n,i){var a,s,r,o;if(null!=d[e])throw"Node already exists";if(null!=e&&null!=n&&null==d[e]&&(null!=d[t]?(h[e]=t,null!=f[t]?null==i?f[t].push(e):f[t].splice(i,0,e):f[t]=[e]):(l[e]=t,null!=p[t]?null==i?p[t].push(e):p[t].splice(i,0,e):p[t]=[e]),d[e]=n,null!=p[e]))for(f[e]=p[e],delete p[e],a=0,s=(r=f[e]).length;a<s;a+=1)o=r[a],delete l[o],h[o]=e},insert:function(t,i,e){null!=d[t]&&null!=i&&null==d[i]&&null!=e&&(d[i]=e,null!=f[t]&&(f[i]=f[t]),f[t]=[i],m(this,i,function(t,e,n){h[t]=i}),h[i]=t)},hasNodes:function(){return!Object(i.isEmptyObject)(p)},hasChildren:function(t){return null!=f[t]},countChildren:function(t){return null!=f[t]?f[t].length:0},countSiblings:function(t){return null!=(t=g(t))?f[t].length:0},indexOf:function(e){var t=g(e);return null!=t?f[t].findIndex(function(t){return t===e}):null},getChild:function(t,e){var n=null;return null!=(t=f[t])&&(n=d[t[e]]),n},arrangeChildren:function(t,e){var n,i,a;if(e=e.slice(0),null!=d[t])if(null!=f[t]){if(f[t].length!=e.length)throw"Collections of children don't match each other!";for(i=0,a=e.length;i<a;i+=1)if(n=e[i],h[n]!=t)throw"Child "+n+" does not belong to given node!";f[t]=e}else if(0<e.length)throw"Collections of children don't match each other!"},validate:function(){var t,e=!0;for(t in l)if(l.hasOwnProperty(t)&&null!=l[t]){e=!1;break}return e},clone:function(){return a({nodes:d,parents:h,children:f,roots:l,rootChildren:p})},BREAK:1,SKIP:2}}},"./src/algorithms/TreeLevels.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/common/index.js"),o=n("./src/algorithms/binarySearch.js"),f=n("./src/algorithms/mergeSort.js");function a(t){var e,c=[],d={},u=null,h=null;function n(t){this.context=t,this.items=[]}function s(t,e,n){this.context=t,this.positions={},this.positions[n]=e,this.startLevel=n,this.endLevel=n}function r(t){return null==c[t]&&(c[t]=new n(null),u=null===u?t:Math.min(u,t),h=null===h?t:Math.max(h,t)),c[t]}return e=t,Object(i.isObject)(e)&&(c=Object(i.cloneObject)(e.levels,!0),d=Object(i.cloneObject)(e.items,!0),u=Object(i.cloneObject)(e.minimum,!0),h=Object(i.cloneObject)(e.maximum,!0)),{addlevel:function(t,e){r(t).context=e},hasLevel:function(t){return null!=c[t]},hasItem:function(t){return d.hasOwnProperty(t)},addItem:function(t,e,n){var i,a;d.hasOwnProperty(e)?((i=r(t)).items.push(e),(a=d[e]).positions[t]=i.items.length-1,a.startLevel=Math.min(a.startLevel,t),a.endLevel=Math.max(a.endLevel,t)):((i=r(t)).items.push(e),d[e]=new s(n,i.items.length-1,t))},getItemContext:function(t){var e=null;return d.hasOwnProperty(t)&&(e=d[t].context),e},getLevelIndex:function(t){return d.hasOwnProperty(t)?d[t].startLevel:null},getEndLevelIndex:function(t){return d.hasOwnProperty(t)?d[t].endLevel:null},getItemPosition:function(t,e){return null!=(t=d[t])?null!=e?t.positions[e]:t.positions[t.startLevel]:null},getItemAtPosition:function(t,e){var n=c[t],t=null;return null!=n&&(t=n.items[e]),t},loopLevels:function(t,e){var n,i;if(null!=e)for(n=u;n<=h&&(null==(i=c[n])||!e.call(t,n,i.context));n+=1);},loopLevelsReversed:function(t,e){var n,i;if(null!=e)for(n=h;u<=n&&(null==(i=c[n])||!e.call(t,n,i.context));--n);},loopLevelItems:function(t,e,n){var i,a,s,r;if(null!=n&&null!=(s=c[e]))for(i=0,a=s.items.length;i<a&&(r=s.items[i],!n.call(t,r,d[r].context,i));i+=1);},getLevelLength:function(t){var e=0;return null!=(t=c[t])&&(e=t.items.length),e},loopItems:function(t,e){var n,i,a,s,r,o,l={};if(null!=e)for(s=u;s<=h;s+=1)if(null!=(a=c[s]))for(n=0,i=(r=a.items).length;n<i;n+=1)if(o=r[n],!l.hasOwnProperty(o)&&(l[o]=!0,e.call(t,o,d[o].context,n,s,a.context)))return},binarySearch:function(e,t,n){var i,a=null;return null!=n&&null!=(i=c[t])&&(a=Object(o.default)(i.items,function(t){return n.call(e,t,d[t].context)})),a.item},loopMerged:function(t,e,n){for(var i,a,s,r=[],o=0,l=c.length;o<l;o+=1)null!=(i=c[o])&&r.push(i.items);if(s=Object(f.default)(r,e,!0),null!=n)for(o=0,l=s.length;o<l&&(a=s[o],!n.call(t,a,d[a].context));o+=1);},loopFromItem:function(t,e,n,i,a){var s,r,o,l,u;if(d.hasOwnProperty(e)&&(e=d[e],u=a||e.startLevel,o=c[u].items,u=e.positions[u],null!=i))if(n)for(s=u-1;0<=s&&(l=o[s],!i.call(t,l,d[l].context));--s);else for(s=u+1,r=o.length;s<r&&(l=o[s],!i.call(t,l,d[l].context));s+=1);},loopLevelsFromItem:function(t,e,n,i){var a,s,r;if(d.hasOwnProperty(e)&&(a=d[e],null!=i))if(n)for(s=a.endLevel+1;s<=h&&(r=c[s],!i.call(t,s,null!=r?r.context:null));s+=1);else for(s=a.startLevel-1;u<=s&&(r=c[s],!i.call(t,s,null!=r?r.context:null));--s);},getPrevItem:function(t,e){var n=null;return d.hasOwnProperty(t)&&(t=d[t],e=e||t.startLevel,n=c[e].items[t.positions[e]-1]),n},getNextItem:function(t,e){var n=null;return d.hasOwnProperty(t)&&(t=d[t],e=e||t.startLevel,n=c[e].items[t.positions[e]+1]),n},length:function(){return c.length},isEmpty:function(){return!c.length},clone:function(){return a({levels:c,items:d,minimum:u,maximum:h})}}}},"./src/algorithms/binarySearch.js":function(t,e,n){"use strict";function i(t,e,n,i){var a,s,r,o,l=null,u=n||0,c=i||t.length-1;if(0<t.length&&(l={index:u,item:o=t[u]},0<(a=e(o,u))))if(s=Math.abs(a),0<=(a=e(o=t[c],c)))l={index:c,item:o};else for((a=Math.abs(a))<s&&(s=a,l={index:c,item:o});u+1<c;){if(0===(a=e(o=t[r=Math.round((u+c)/2)],r))){l={index:r,item:o};break}0<a?u=r:c=r,(a=Math.abs(a))<s&&(s=a,l={index:r,item:o})}return l}n.r(e),n.d(e,"default",function(){return i})},"./src/algorithms/getCrossingRectangles.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var y=n("./src/algorithms/SortedList.js");function i(o,l,u){function t(t,e,n,i){this.isStart=t,this.index=e,this.x=n,this.rect=i}function e(){this.count=0,this.rectangles={},this.add=function(t){this.count+=1,this.rectangles[t]=!0},this.remove=function(t){return--this.count,delete this.rectangles[t],0==this.count}}function n(t,e,a,s,r){t.loopForward(this,e,function(t,e){if(a<t)return!0;for(var n in e.rectangles){var i;e.rectangles.hasOwnProperty(n)&&(i=n<s?s+"-"+n:n+"-"+s,d.hasOwnProperty(i)||(d[i]=!0,u.call(o,r,l[n])))}})}if(null!=u){for(var i=[],a=0;a<l.length;a+=1){var s=l[a];i.push(new t(1,a,s.x,s)),i.push(new t(0,a,s.right(),s))}i.sort(function(t,e){return t.x==e.x?e.isStart-t.isStart:t.x-e.x});for(var r=Object(y.default)(),c={},d={},a=0;a<i.length;a+=1){var h=i[a],f=[h.rect.y,h.rect.bottom()];if(1==h.isStart){n(r,f[0],f[1],h.index,h.rect);for(var p=0,m=f.length;p<m;p+=1){var g=f[p],T=c[g];null==T&&(T=new e,c[g]=T,r.add(g,T)),T.add(h.index)}}else{for(p=0,m=f.length;p<m;p+=1)(T=c[g=f[p]]).remove(h.index)&&(delete c[g],r.remove(g));n(r,f[0],f[1],h.index,h.rect)}}}}},"./src/algorithms/getFamilyLoops.js":function(t,e,n){"use strict";function P(t,e){this.from=t,this.to=e}function i(t,e){var n,i,a,s,r,o,l=[],u=t.clone();t.loopTopo(this,function(t){u.removeNode(t)}),t.loopTopoReversed(this,function(t){u.removeNode(t)});var c=u.clone();for(c.loop(this,function(e){if(null!=u.node(e)){c.loopParents(this,e,function(t){return l.push(new P(t,e)),u.removeChildRelation(t,e),c.SKIP});var n=[];u.loopTopo(this,function(t){n.push(t)}),u.loopTopoReversed(this,function(t){n.push(t)});for(var t=0;t<n.length;t+=1)u.removeNode(n[t])}}),T=0,y=l.length;T<y;T+=1)if(n=l[T],!c.removeChildRelation(n.from,n.to))throw"Relation does not exists";if(e&&c.hasLoops())throw"Failed to clean loops in family";var d=c.getGraph(this,function(t,e){return{from:t,to:e,capacity:1,flow:0}}),h="__1000__",f="__2000__",e=l.length;for(T=0,y=l.length;T<y;T+=1)n=l[T],null==(o=d.edge(n.from,f))?d.addEdge(n.from,f,{from:n.from,to:f,capacity:1,flow:0,tos:[n.to]}):(o.capacity+=1,o.tos.push(n.to)),null==(o=d.edge(h,n.to))?d.addEdge(h,n.to,{from:h,to:n.to,capacity:1,flow:0,froms:[n.from]}):(o.capacity+=1,o.froms.push(n.from));for(var p=0;d.getLevelGraph(this,h,function(t,e,n){return t==n.from?n.capacity>n.flow:0<n.flow}).hasNode(f);)for(;;){var m=d.dfsPath(this,h,f,function(t,e,n){return t==n.from?n.capacity>n.flow:0<n.flow});if(0==m.length)break;for(var g=1/0,T=0,y=m.length;T<y-1;T+=1){s=m[T],r=m[T+1];var k=0;if(0==(k=(o=d.edge(s,r)).from==s?o.capacity-o.flow:o.flow))throw"Broken flow path";g=Math.min(g,k)}for(T=0,y=m.length;T<y-1;T+=1)s=m[T],r=m[T+1],(o=d.edge(s,r)).from==s?o.flow+=g:o.flow-=g;p+=g}if(p<e){var v=d.getLevelGraph(this,h,function(t,e,n){return t==n.from&&n.capacity>n.flow}),C=[];v.loopNodes(this,h,function(i){d.loopNodeEdges(this,i,function(t,e){var n;e.to==t&&(v.hasNode(t)||(n=!0,d.dfsLoop(this,t,function(t,e,n){return n.from==t&&0<n.capacity},function(t){return!!v.hasNode(t)&&!(n=!1)}),n&&C.push(new P(i,t))))})});var w=[],b=0;for(T=0,y=C.length;T<y;T+=1){var O=C[T];if(O.from==h)for(i=0,a=(o=d.edge(O.from,O.to)).froms.length;i<a;i+=1)w.push(new P(o.froms[i],O.to)),b+=1;else if(O.to==f)for(i=0,a=(o=d.edge(O.from,O.to)).tos.length;i<a;i+=1)w.push(new P(O.from,o.tos[i])),b+=1;else w.push(O),b+=1}if(b!=p)throw"Failed to properly collect edges cutting maximum flow";l=w}return l}n.r(e),n.d(e,"Edge",function(){return P}),n.d(e,"default",function(){return i})},"./src/algorithms/getFamilyUnits.js":function(t,e,n){"use strict";function i(a){var s=[],r={};function e(){this.fromIndex=0,this.toIndex=0,this.items=[],this.hash={}}function o(t){this.id=t,this.parents=new e,this.children=new e,this.loopSiblings=function(t,e,n){this._loop(t,(this.parents.hash.hasOwnProperty(e)?this.parents:this.children).items,n)},this.loopNonSiblings=function(t,e,n){this._loop(t,(this.parents.hash.hasOwnProperty(e)?this.children:this.parents).items,n)},this.loop=function(t,e){this._loop(t,this.parents.items,e),this._loop(t,this.children.items,e)},this._loop=function(t,e,n){if(null!=n)for(var i=0,a=e.length;i<a;i+=1){var s=e[i];n.call(t,s)}},this.addParent=function(t){this._add(t,this.parents)},this.addChild=function(t){this._add(t,this.children)},this._add=function(t,e){e.hash.hasOwnProperty(t)||(e.items.push(t),e.hash[t]=!0)}}l=0,a.loop(this,function(t,e){var n,i=a.countChildren(t);0<i&&(r.hasOwnProperty(t)||(n=new o(l),l+=1,n.addParent(t),a.loopChildren(this,t,function(t,e){return n.addChild(t),1==i&&a.loopParents(this,t,function(t){return n.addParent(t),r[t]=n,a.SKIP}),a.SKIP}),s.push(n),r[t]=n))});for(var n={},l=0,t=s.length;l<t;l+=1){var i=s[l];i.loop(this,function(t){n.hasOwnProperty(t)?n[t].push(i):n[t]=[i]})}return n}n.r(e),n.d(e,"default",function(){return i})},"./src/algorithms/getLiniarBreaks.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var h=n("./src/algorithms/binarySearch.js");function i(s){for(var r=[],i=s.length,t=0,e=0;e<i;e+=1)t+=s[e],r[e]=t;function a(t,e){var n=0,i=(r[e]-r[t]+s[t])/(e-t+1),a=Object(h.default)(s,function(t){return i-t},t,e);return a.item<=i?(n+=i*(a.index+1-t)-(r[a.index]-r[t]+s[t]),n+=r[e]-r[a.index]-i*(e-a.index)):(n+=i*(a.index-t)-(r[a.index]-r[t]-s[a.index]+s[t]),n+=r[e]-r[a.index]+s[a.index]-i*(e-a.index+1)),n}function n(t,e){var n=0;return n+=a(0,t),t+1<e&&(n+=a(t+1,e-1)),n+=a(e,i-1)}for(var o=0,l=i-1,u=n(o,l);o<l+1;){var c=n(o+1,l),d=n(o,l-1);if(c<d){if(u<=c)break;o+=1,u=c}else{if(u<=d)break;--l,u=d}}return[o,l-1,i-1]}},"./src/algorithms/getMergedIntervals.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var d=n("./src/graphics/structs/Interval.js");function h(t,e,n){this.value=t,this.index=e,this.isStart=n}function i(t,e,n){for(var i=[],a=0;a<e.length;a+=1){var s=e[a];i.push(new h(s.from,a,!0)),i.push(new h(s.to,a,!1))}i.sort(function(t,e){return t.value===e.value?e.isStart-t.isStart:t.value-e.value});for(var r=0,o=null,l=null,a=0,u=i.length;a<u;a+=1){var c=i[a];null==o&&(o=new d.default(e[c.index])),o.to=c.value,c.isStart?(r++,(null===l||l>c.index)&&(l=c.index,o.context=e[c.index].context)):r--,r||(null!=n&&n.call(t,o),l=o=null)}}},"./src/algorithms/getMergedRectangles.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var E=n("./src/graphics/structs/Point.js"),G=n("./src/graphics/structs/Vector.js"),W=n("./src/algorithms/LinkedHashItems.js");function i(t,e,n){e.sort(function(t,e){return t.x==e.x?t.y-e.y:t.x-e.x});for(var i=[],a={},s=0,r=e.length;s<r;s+=1)for(var o=e[s],l=[o.x,o.right()],u=0;u<l.length;u+=1){var c,d=l[u];null==(c=a[d])&&(c={x:d,add:[],remove:[]},a[d]=c,i.push(c)),(d==o.x?c.add:c.remove).push(s)}function h(t,e){this.start=t,this.startHead=null,this.end=e,this.endHead=null,this.overlap=function(t){return!(this.end<t.start||this.start>t.end)}}function f(t,e){this.x=t,this.ranges=e}i.sort(function(t,e){return t.x-e.x});var p={},m=[];for(m.push(new f(null,[])),s=0,r=i.length;s<r;s+=1){for(C=0,w=(c=i[s]).add.length;C<w;C+=1)p[c.add[C]]=!0;for(C=0,w=c.remove.length;C<w;C+=1)delete p[c.remove[C]];var g,T=[];for(g in p)p.hasOwnProperty(g)&&T.push(e[g]);T.sort(function(t,e){return t.y-e.y});for(var y=[],k=null,v=null,C=0,w=T.length;C<w;C+=1)var b=T[C],v=null==k?(k=b.y,b.bottom()):v<b.y?(y.push(new h(k,v)),k=b.y,b.bottom()):Math.max(v,b.bottom());null!=k&&y.push(new h(k,v)),m.push(new f(c.x,y))}var O,P=[],j={},S=1;function A(t,e){this.isHead=t,this.list=e,j.hasOwnProperty(e)||(j[e]=[]),j[e].push(this),this.add=function(t){t.from.equalTo(t.to)||(this.isHead?P[this.list].add(S,t):P[this.list].unshift(S,t),S+=1)},this.getTail=function(){return new A(!this.isHead,this.list)},this.attach=function(t){if(this.list!=t.list){P[this.list].attach(P[t.list]);var e=j[t.list];if(delete j[t.list],null!=e)for(var n=0,i=e.length;n<i;n+=1){var a=e[n];a!=t&&(a.list=this.list,j[this.list].push(a))}}}}function I(t){return P.push(new W.default),new A(t,P.length-1)}for(s=1,r=m.length;s<r;s+=1)for(var x=m[s-1],L=m[s],z=0,M=0;z<x.ranges.length||M<L.ranges.length;){var F=z<x.ranges.length?x.ranges[z]:null,R=M<L.ranges.length?L.ranges[M]:null;if(null!=R)if(null!=F)if(R.overlap(F)){for(i=[new E.default(x.x,F.start),new E.default(L.x,F.start),new E.default(L.x,R.start)],H=1;H<i.length;H+=1)F.startHead.add(new G.default(i[H],i[H-1]));R.startHead=F.startHead;for(var B=!0;B;)if(B=!1,F.end>R.end){var D,V,N=M+1<L.ranges.length?L.ranges[M+1]:null;null!=N&&N.overlap(F)&&(D=new E.default(L.x,N.start),V=new E.default(L.x,R.end),R.endHead=I(!0),R.endHead.add(new G.default(D,V)),N.startHead=R.endHead.getTail(),M+=1,R=N,B=!0)}else{N=z+1<x.ranges.length?x.ranges[z+1]:null;if(null!=N&&N.overlap(R)){for(i=[new E.default(x.x,F.end),new E.default(L.x,F.end),new E.default(L.x,N.start),new E.default(x.x,N.start)],H=1;H<i.length;H+=1)F.endHead.add(new G.default(i[H-1],i[H]));F.endHead.attach(N.startHead),z+=1,F=N,B=!0}}for(i=[new E.default(x.x,F.end),new E.default(L.x,F.end),new E.default(L.x,R.end)],H=1;H<i.length;H+=1)F.endHead.add(new G.default(i[H-1],i[H]));R.endHead=F.endHead,z+=1,M+=1}else if(F.start<R.start){for(i=[new E.default(x.x,F.end),new E.default(L.x,F.end),new E.default(L.x,F.start),new E.default(x.x,F.start)],H=1;H<i.length;H+=1)F.endHead.add(new G.default(i[H-1],i[H]));F.endHead.attach(F.startHead),z+=1}else R.endHead=I(!0),R.endHead.add(new G.default(new E.default(L.x,R.start),new E.default(L.x,R.end))),R.startHead=R.endHead.getTail(),M+=1;else R.endHead=I(!0),R.endHead.add(new G.default(new E.default(L.x,R.start),new E.default(L.x,R.end))),R.startHead=R.endHead.getTail(),M+=1;else{i=[new E.default(x.x,F.end),new E.default(L.x,F.end),new E.default(L.x,F.start),new E.default(x.x,F.start)];for(var H=1;H<i.length;H+=1)F.endHead.add(new G.default(i[H-1],i[H]));F.endHead.attach(F.startHead),z+=1}}if(null!=n)for(s=0;s<P.length;s+=1)j.hasOwnProperty(s)&&(O=P[s],i=[],O.iterate(function(t,e){0==i.length&&i.push(t.from),i.push(t.to)}),n.call(t,i))}},"./src/algorithms/getMinimumCrossingRows.js":function(t,e,n){"use strict";function i(t,e,n){var i=null,a=null;if(null!=n){e.sort(function(t,e){return t.y-e.y});for(var s=0;s<e.length;s+=1){var r=e[s],o=r.bottom();null===i?(i=r.y,a=o):r.y>=a?(n.call(t,i),i=r.y,a=o):(r.y>i&&(i=r.y),o<a&&(a=o))}null!==i&&n.call(t,i)}}n.r(e),n.d(e,"default",function(){return i})},"./src/algorithms/mergeSort.js":function(t,e,n){"use strict";function i(t,e,n){var i,a,s,r,o,l,u,c,d,h,f,p,m,g=null;if(0===t.length)g=[];else{for(i=[],r=0;r<t.length;r+=1){for(a=t[r],s=[],u=i.length,c=a.length,p=h=f=d=null,(l=o=0)<u&&(d=i[o],f=e?e(d):d),0<c&&(h=a[l],p=e?e(h):h),m=null;o<u||l<c;)!(u<=o)&&(c<=l||f<p)?(n&&m==d||(s.push(d),m=d),(o+=1)<u&&(d=i[o],f=e?e(d):d)):(n&&m==h||(s.push(h),m=h),(l+=1)<c&&(h=a[l],p=e?e(h):h));i=s}g=i}return g}n.r(e),n.d(e,"default",function(){return i})},"./src/common/colors.js":function(t,e,n){"use strict";n.r(e),n.d(e,"getColorHexValue",function(){return r}),n.d(e,"getColorName",function(){return o}),n.d(e,"getRed",function(){return l}),n.d(e,"getGreen",function(){return u}),n.d(e,"getBlue",function(){return c}),n.d(e,"beforeOpacity",function(){return d}),n.d(e,"highestContrast",function(){return f}),n.d(e,"luminosity",function(){return p});var a,i,s=n("./src/enums.js");function r(t){var e,n,i;if("#"===t.substr(0,1))return t;if(null!==(e=/(.*?)rgb\((\d+), (\d+), (\d+)\)/.exec(t))&&0<e.length)return n=(parseInt(e[2],10)<<16|parseInt(e[3],10)<<8|parseInt(e[4],10)).toString(16),e[1]+"000000".substr(0,6-n.length)+n;if(void 0===a)for(i in a={},s.Colors)s.Colors.hasOwnProperty(i)&&(a[i.toUpperCase()]=s.Colors[i],0);return a[t.toUpperCase()]}function o(t){if(t=r(t),void 0===i)for(var e in i={},s.Colors)s.Colors.hasOwnProperty(e)&&(i[s.Colors[e]]=e,0);return i[t]}function l(t){return"#"===t.substr(0,1)&&7===t.length?parseInt(t.substr(1,2),16):null}function u(t){return"#"===t.substr(0,1)&&7===t.length?parseInt(t.substr(3,2),16):null}function c(t){return"#"===t.substr(0,1)&&7===t.length?parseInt(t.substr(5,2),16):null}function d(t,e){return t=r(t),e=(Math.ceil((l(t)-255*(1-e))/e)<<16|Math.ceil((u(t)-255*(1-e))/e)<<8|Math.ceil((c(t)-255*(1-e))/e)).toString(16),"#"+"000000".substr(0,6-e.length)+e}var h={};function f(t,e,n){var i=e,a=t+","+e+","+n;return h.hasOwnProperty(a)?i=h[a]:(p(e,t)<p(n,t)&&(i=n),h[a]=i),i}function p(t,e){var t=r(t),e=r(e),t=.2126*Math.pow(l(t)/255,2.2)+.7152*Math.pow(l(t)/255,2.2)+.0722*Math.pow(l(t)/255,2.2),e=.2126*Math.pow(l(e)/255,2.2)+.7152*Math.pow(l(e)/255,2.2)+.0722*Math.pow(l(e)/255,2.2),t=e<t?(.05+t)/(.05+e):(.05+e)/(.05+t);return t}},"./src/common/index.js":function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){return t%2==0}function a(t){var e=!0;return null!=t&&0<t.toString().length&&(e=!1),e}function s(t,e,n){var i,a,s;if(null!=n)if(Array.isArray(e))for(a=0,s=e.length;a<s&&!n.call(t,a,e[a]);a+=1);else for(i in e)if(e.hasOwnProperty(i)&&n.call(t,i,e[i]))break}function o(t){for(var e=[],n="",i=0;i<t.length;i+=1){var a=t[i];"A"<=a&&a<="Z"?(""!==n&&e.push(n),n=a):n+=a}return""!==n&&e.push(n),e}function l(t){return null!==t&&"object"==r(t)}function u(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function c(t,e){var n;if(null===t)n=null;else if(Array.isArray(t))if(e)n=t.slice(0);else{n=[];for(var i=0,a=t.length;i<a;i+=1)n.push(c(t[i],e))}else if("object"===r(t))for(var s in n={},t)t.hasOwnProperty(s)&&(n[s]=e?t[s]:c(t[s],e));else n=t;return n}function d(t,e){for(var n=1;n<arguments.length;n+=1){var i=arguments[n];if(void 0!==i)for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}return t}function h(t){var e,n=0;if(0<t.length)for(e=0;e<t.length;e+=1)n=(n<<5)-n+t.charCodeAt(e),n&=n;return n}function f(t,e,n){var i,a,s,r,o=!0;if(t.length!=e.length)o=!1;else{for(r={},i=0,a=t.length;i<a;i+=1)s=null!=n?n(t[i]):t[i],r.hasOwnProperty(s)?r[s]+=1:r[s]=1;for(i=0,a=e.length;i<a;i+=1){if(s=null!=n?n(e[i]):e[i],!r.hasOwnProperty(s)){o=!1;break}if(--r[s],r[s]<0){o=!1;break}}}return o}n.r(e),n.d(e,"isEven",function(){return i}),n.d(e,"isNullOrEmpty",function(){return a}),n.d(e,"loop",function(){return s}),n.d(e,"splitCamelCaseName",function(){return o}),n.d(e,"isObject",function(){return l}),n.d(e,"isEmptyObject",function(){return u}),n.d(e,"cloneObject",function(){return c}),n.d(e,"mergeObjects",function(){return d}),n.d(e,"getHashCode",function(){return h}),n.d(e,"compareArrays",function(){return f})},"./src/common/jsonml-html.js":function(t,e,n){"use strict";function P(t){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n.r(e);n={};"undefined"!=typeof document&&function(s,o){var l={accesskey:"accessKey",bgcolor:"bgColor",cellpadding:"cellPadding",cellspacing:"cellSpacing",checked:"defaultChecked",class:"className",colspan:"colSpan",contenteditable:"contentEditable",defaultchecked:"defaultChecked",for:"htmlFor",formnovalidate:"formNoValidate",hidefocus:"hideFocus",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",readonly:"readOnly",rowspan:"rowSpan",spellcheck:"spellCheck",tabindex:"tabIndex",usemap:"useMap",willvalidate:"willValidate"},u={enctype:"encoding",onscroll:"DOMMouseScroll"},c={autocapitalize:1,autocomplete:1,autocorrect:1},d={async:1,autofocus:1,checked:1,defaultchecked:1,defer:1,disabled:1,formnovalidate:1,hidden:1,indeterminate:1,ismap:1,multiple:1,novalidate:1,readonly:1,required:1,spellcheck:1,willvalidate:1},e=/^[\r\n]+/,n=/[\r\n]+$/;function i(t){this.value=t}i.prototype.toString=function(){return this.value},s.raw=function(t){return new i(t)};var r=s.isRaw=function(t){return t instanceof i},h=Array.isArray||function(t){return t instanceof Array};function f(t){return"function"==typeof t}function p(t){switch(P(t)){case"object":return t?h(t)?2:r(t)?5:t instanceof Date?4:3:0;case"function":return 1;case"undefined":return 0;default:return 4}}function m(t){if(t){if("!"===t.charAt(0))return o.createComment("!"===t?"":t.substr(1)+" ")}else{if(o.createDocumentFragment)return o.createDocumentFragment();t=""}return"style"===t.toLowerCase()&&o.createStyleSheet?o.createStyleSheet():o.createElement(t)}function g(t,e,n){switch("on"===e.substr(0,2)&&(e=e.substr(2)),P(n)){case"function":var i;t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&0!==p(t[e])?t.attachEvent("on"+e,n):(i=t["on"+e]||t[e],t["on"+e]=t[e]=f(i)?function(t){return!1!==i.call(this,t)&&!1!==n.call(this,t)}:n);break;case"string":t["on"+e]=new Function("event",n)}}function a(t){return!(!t||3!==t.nodeType||t.nodeValue&&/\S/.exec(t.nodeValue))}function T(t,e){t&&3===t.nodeType&&e.exec(t.nodeValue)&&(t.nodeValue=t.nodeValue.replace(e,""))}function y(t){if(t){for(;a(t.firstChild);)t.removeChild(t.firstChild);for(T(t.firstChild,e);a(t.lastChild);)t.removeChild(t.lastChild);T(t.lastChild,n)}}function k(t){var e=m("div");if(e.innerHTML=""+t,y(e),1===e.childNodes.length)return e.firstChild;for(var n=m("");e.firstChild;)n.appendChild(e.firstChild);return n}function v(t){return o.createTextNode("["+t+"]")}var C=s.applyStyles=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);return t},w=s.appendDOM=function(t,e){if(e){var n=(t.tagName||"").toLowerCase();if(8===t.nodeType)3===e.nodeType&&(t.nodeValue+=e.nodeValue);else if("table"===n&&t.tBodies){if(e.tagName){var i,a=e.tagName.toLowerCase();a&&"tbody"!==a&&"thead"!==a?((i=0<t.tBodies.length?t.tBodies[t.tBodies.length-1]:null)||(i=m("th"===a?"thead":"tbody"),t.appendChild(i)),i.appendChild(e)):!1!==t.canHaveChildren&&t.appendChild(e)}else if(11===e.nodeType)for(;e.firstChild;)w(t,e.removeChild(e.firstChild))}else if("style"===n&&o.createStyleSheet)t.cssText=e;else if(!1!==t.canHaveChildren)t.appendChild(e);else if("object"===n&&e.tagName&&"param"===e.tagName.toLowerCase()){try{t.appendChild(e)}catch(t){}try{t.object&&(t.object[e.name]=e.value)}catch(t){}}}};s.onerror=null;var b=s.patch=function(t,e,n){for(var i=1;i<e.length;i+=1)h(e[i])||"string"==typeof e[i]?w(t,O(e[i],n)):r(e[i])?w(t,k(e[i].value)):"object"===P(e[i])&&null!==e[i]&&1===t.nodeType&&(t=function(t,e){if(e.name&&o.attachEvent&&!t.parentNode)try{var n=m("<"+t.tagName+' name="'+e.name+'">');t.tagName===n.tagName&&(t=n)}catch(t){}for(var i in e)if(e.hasOwnProperty(i)){var a=e[i],s=p(a);if(i)if(0===s&&(a="",s=4),"$"===(i=l[i.toLowerCase()]||i))a(t);else if("className"==i)if(h(a))for(var r=0;r<a.length;r+=1)t.className+=" "+a[r];else t.className+=" "+a;else"style"===i?0!==p(t.style.cssText)?"string"==typeof a?t.style.cssText=a:C(t,a):t.style=a:"on"===i.substr(0,2)?(g(t,i,a),(i=u[i])&&g(t,i,a)):c[i.toLowerCase()]||4===s&&"$"!==i.charAt(0)&&0===p(t[i])&&0===p(t[u[i]])?d[i.toLowerCase()]?a&&(t.setAttribute(i,i),(i=u[i])&&t.setAttribute(i,i)):(t.setAttribute(i,a),(i=u[i])&&t.setAttribute(i,a)):(t[i]=a,(i=u[i])&&(t[i]=a))}return t}(t,e[i]));return t},O=s.toHTML=function(e,n){try{if(!e)return null;if("string"==typeof e)return o.createTextNode(e);if(r(e))return k(e.value);if(!h(e)||"string"!=typeof e[0])throw new SyntaxError("invalid JsonML");var t=e[0];if(!t){for(var i=m(""),a=1;a<e.length;a+=1)w(i,O(e[a],n));return y(i),1===i.childNodes.length?i.firstChild:i}if("style"===t.toLowerCase()&&o.createStyleSheet)return b(o.createStyleSheet(),e,n),null;t=b(m(t),e,n);return y(t),t&&f(n)?n(t):t}catch(t){try{return(f(s.onerror)?s.onerror:v)(t,e,n)}catch(t){return o.createTextNode("["+t+"]")}}};s.toHTMLText=function(t,e){var n=O(t,e);if(n.outerHTML)return n.outerHTML;t=m("div");t.appendChild(n);e=t.innerHTML;return t.removeChild(n),e}}(n,document),e.default=n},"./src/configs/BackgroundAnnotationConfig.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return r});var i=n("./src/graphics/structs/Thickness.js"),a=n("./src/enums.js");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){if(this.annotationType=a.AnnotationType.Background,this.items=[],this.includeChildren=!1,this.zOrderType=a.ZOrderType.Auto,this.offset=new i.default(18,18,18,18),this.lineWidth=2,this.opacity=1,this.borderColor=null,this.fillColor=null,this.lineType=a.LineType.Solid,this.selectItems=!1,1===arguments.length)if(null!==t)if(t instanceof Array)this.items=t;else if("object"==s(t))for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}},"./src/configs/ConnectorAnnotationConfig.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return r});var i=n("./src/graphics/structs/Thickness.js"),a=n("./src/graphics/structs/Size.js"),s=n("./src/enums.js");function r(t,e){switch(this.annotationType=s.AnnotationType.Connector,this.zOrderType=s.ZOrderType.Foreground,this.fromItem=null,this.toItem=null,this.connectorShapeType=s.ConnectorShapeType.OneWay,this.connectorPlacementType=s.ConnectorPlacementType.Offbeat,this.labelPlacementType=s.ConnectorLabelPlacementType.Between,this.offset=new i.default(0,0,0,0),this.lineWidth=2,this.color=s.Colors.Black,this.lineType=s.LineType.Solid,this.selectItems=!0,this.label=null,this.labelSize=new a.default(60,30),arguments.length){case 1:for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);break;case 2:this.fromItem=t,this.toItem=e}}},"./src/configs/FamConfig.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return r});var i=n("./src/enums.js"),a=n("./src/graphics/structs/Thickness.js"),s=n("./src/graphics/structs/Size.js");function r(t){this.name=void 0!==t?t:"FamDiagram",this.classPrefix="famdiagram",this.navigationMode=i.NavigationMode.Default,this.pageFitMode=i.PageFitMode.FitToPage,this.minimalVisibility=i.Visibility.Dot,this.orientationType=i.OrientationType.Top,this.verticalAlignment=i.VerticalAlignmentType.Middle,this.loopsLayoutMode=i.LoopsLayoutMode.Optimized,this.arrowsDirection=i.GroupByType.None,this.showExtraArrows=!0,this.extraArrowsMinimumSpace=30,this.groupByType=i.GroupByType.Children,this.alignBylevels=!0,this.enableMatrixLayout=!1,this.minimumMatrixSize=4,this.maximumColumnsInMatrix=6,this.hideGrandParentsConnectors=!1,this.elbowType=i.ElbowType.Round,this.bevelSize=4,this.elbowDotSize=4,this.emptyDiagramMessage="Diagram is empty.",this.items=[],this.annotations=[],this.cursorItem=null,this.highlightItem=null,this.highlightGravityRadius=40,this.selectedItems=[],this.hasSelectorCheckbox=i.Enabled.Auto,this.selectCheckBoxLabel="Selected",this.selectionPathMode=i.SelectionPathMode.None,this.neighboursSelectionMode=i.NeighboursSelectionMode.ParentsAndChildren,this.showFrame=!1,this.frameInnerPadding=new a.default(2,2,2,2),this.frameOuterPadding=new a.default(2,2,2,2),this.templates=[],this.defaultTemplateName=null,this.defaultLabelAnnotationTemplate=null,this.hasButtons=i.Enabled.Auto,this.onButtonsRender=null,this.onHighlightChanging=null,this.onHighlightChanged=null,this.onCursorChanging=null,this.onCursorChanged=null,this.onSelectionChanging=null,this.onSelectionChanged=null,this.onButtonClick=null,this.onMouseClick=null,this.onMouseDblClick=null,this.onItemRender=null,this.onHighlightRender=null,this.onCursorRender=null,this.normalLevelShift=20,this.dotLevelShift=20,this.lineLevelShift=10,this.normalItemsInterval=10,this.dotItemsInterval=1,this.lineItemsInterval=2,this.cousinsIntervalMultiplier=5,this.itemTitleFirstFontColor=i.Colors.White,this.itemTitleSecondFontColor=i.Colors.Navy,this.minimizedItemShapeType=i.ShapeType.None,this.linesColor=i.Colors.Silver,this.linesWidth=1,this.linesType=i.LineType.Solid,this.showNeigboursConnectorsHighlighted=!1,this.highlightLinesColor=i.Colors.Red,this.highlightLinesWidth=1,this.highlightLinesType=i.LineType.Solid,this.linesPalette=[],this.showCallout=!0,this.calloutMaximumVisibility=i.Visibility.Dot,this.calloutPlacementOffset=100,this.defaultCalloutTemplateName=null,this.calloutfillColor="#000000",this.calloutBorderColor=null,this.calloutOffset=4,this.calloutCornerRadius=4,this.calloutPointerWidth="10%",this.calloutLineWidth=1,this.calloutOpacity=.2,this.buttonsPanelSize=28,this.groupTitlePanelSize=24,this.checkBoxPanelSize=24,this.groupTitlePlacementType=i.AdviserPlacementType.Left,this.groupTitleOrientation=i.TextOrientationType.RotateRight,this.groupTitleVerticalAlignment=i.VerticalAlignmentType.Middle,this.groupTitleHorizontalAlignment=i.HorizontalAlignmentType.Center,this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleColor=i.Colors.RoyalBlue,this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.levelTitlePanelSize=24,this.levelTitlePlacementType=i.AdviserPlacementType.Left,this.levelTitlePlaceInside=!1,this.levelTitleOrientation=i.TextOrientationType.Auto,this.levelTitleVerticalAlignment=i.VerticalAlignmentType.Middle,this.levelTitleHorizontalAlignment=i.HorizontalAlignmentType.Center,this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontColor=i.Colors.White,this.levelTitleColor=i.Colors.RoyalBlue,this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.distance=3,this.scale=1,this.minimumScale=.5,this.maximumScale=1,this.showLabels=i.Enabled.Auto,this.labelSize=new s.default(80,24),this.labelOffset=1,this.labelOrientation=i.TextOrientationType.Horizontal,this.labelPlacement=i.PlacementType.Top,this.labelFontSize="10px",this.labelFontFamily="Arial",this.labelColor=i.Colors.Black,this.labelFontWeight="normal",this.labelFontStyle="normal",this.enablePanning=!0,this.autoSizeMinimum=new s.default(800,600),this.autoSizeMaximum=new s.default(1024,768)}},"./src/configs/FamItemConfig.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/enums.js");function i(t,e,n,i,a){switch(this.id=null,this.parents=[],this.spouses=[],this.relativeItem=null,this.placementType=r.AdviserPlacementType.Right,this.position=null,this.primaryParent=null,this.title=null,this.description=null,this.image=null,this.context=null,this.itemTitleColor=r.Colors.RoyalBlue,this.minimizedItemShapeType=null,this.groupTitle=null,this.groupTitleColor=r.Colors.RoyalBlue,this.isActive=!0,this.hasSelectorCheckbox=r.Enabled.Auto,this.hasButtons=r.Enabled.Auto,this.templateName=null,this.showCallout=r.Enabled.Auto,this.calloutTemplateName=null,this.label=null,this.showLabel=r.Enabled.Auto,this.labelSize=null,this.labelOrientation=r.TextOrientationType.Auto,this.labelPlacement=r.PlacementType.Auto,arguments.length){case 1:for(var s in t)t.hasOwnProperty(s)&&(this[s]=t[s]);break;case 5:this.id=t,this.parents=e,this.title=n,this.description=i,this.image=a}}},"./src/configs/HighlightPathAnnotationConfig.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var i=n("./src/enums.js");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t){if(this.annotationType=i.AnnotationType.HighlightPath,this.zOrderType=i.ZOrderType.Foreground,this.items=[],this.lineWidth=2,this.color=i.Colors.Red,this.lineType=i.LineType.Solid,this.opacity=1,this.showArrows=!0,this.selectItems=!1,1===arguments.length)if(null!==t)if(t instanceof Array)this.items=t;else if("object"==a(t))for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}},"./src/configs/LabelAnnotationConfig.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/enums.js");function a(t,e){switch(this.annotationType=i.AnnotationType.Label,this.fromItem=null,this.toItems=[],this.title=null,this.itemTitleColor=i.Colors.RoyalBlue,this.templateName=null,arguments.length){case 1:for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n]);break;case 2:this.fromItem=t,this.toItem=e}}},"./src/configs/LevelAnnotationConfig.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return r});var i=n("./src/graphics/structs/Thickness.js"),a=n("./src/enums.js");function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t){if(this.annotationType=a.AnnotationType.Level,this.levels=[],this.title=null,this.titleFontColor=null,this.titleColor=null,this.offset=new i.default(0,0,0,0),this.lineWidth=new i.default(0,0,0,0),this.opacity=1,this.borderColor=null,this.fillColor="#D4D4D4",this.lineType=a.LineType.Solid,1===arguments.length)if(null!==t)if(t instanceof Array)this.items=t;else if("object"==s(t))for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}},"./src/configs/OrgConfig.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return r});var i=n("./src/enums.js"),a=n("./src/graphics/structs/Thickness.js"),s=n("./src/graphics/structs/Size.js");function r(t){this.name=void 0!==t?t:"OrgDiagram",this.classPrefix="orgdiagram",this.navigationMode=i.NavigationMode.Default,this.pageFitMode=i.PageFitMode.FitToPage,this.minimalVisibility=i.Visibility.Dot,this.orientationType=i.OrientationType.Top,this.horizontalAlignment=i.HorizontalAlignmentType.Center,this.verticalAlignment=i.VerticalAlignmentType.Middle,this.arrowsDirection=i.GroupByType.None,this.showExtraArrows=!1,this.extraArrowsMinimumSpace=30,this.connectorType=i.ConnectorType.Squared,this.bevelSize=4,this.elbowType=i.ElbowType.None,this.elbowDotSize=4,this.emptyDiagramMessage="Diagram is empty.",this.items=[],this.annotations=[],this.cursorItem=null,this.highlightItem=null,this.highlightGravityRadius=40,this.selectedItems=[],this.hasSelectorCheckbox=i.Enabled.Auto,this.selectCheckBoxLabel="Selected",this.selectionPathMode=i.SelectionPathMode.FullStack,this.showFrame=!1,this.frameInnerPadding=new a.default(2,2,2,2),this.frameOuterPadding=new a.default(2,2,2,2),this.templates=[],this.defaultTemplateName=null,this.hasButtons=i.Enabled.Auto,this.onButtonsRender=null,this.onHighlightChanging=null,this.onHighlightChanged=null,this.onCursorChanging=null,this.onCursorChanged=null,this.onSelectionChanging=null,this.onSelectionChanged=null,this.onButtonClick=null,this.onMouseClick=null,this.onMouseDblClick=null,this.onItemRender=null,this.onHighlightRender=null,this.onCursorRender=null,this.normalLevelShift=20,this.dotLevelShift=20,this.lineLevelShift=10,this.normalItemsInterval=10,this.dotItemsInterval=1,this.lineItemsInterval=2,this.cousinsIntervalMultiplier=5,this.itemTitleFirstFontColor=i.Colors.White,this.itemTitleSecondFontColor=i.Colors.Navy,this.minimizedItemShapeType=i.ShapeType.None,this.linesColor=i.Colors.Silver,this.linesWidth=1,this.linesType=i.LineType.Solid,this.highlightLinesColor=i.Colors.Red,this.highlightLinesWidth=1,this.highlightLinesType=i.LineType.Solid,this.showCallout=!0,this.calloutMaximumVisibility=i.Visibility.Dot,this.calloutPlacementOffset=100,this.defaultCalloutTemplateName=null,this.calloutfillColor="#000000",this.calloutBorderColor=null,this.calloutOffset=4,this.calloutCornerRadius=4,this.calloutPointerWidth="10%",this.calloutLineWidth=1,this.calloutOpacity=.2,this.childrenPlacementType=i.ChildrenPlacementType.Horizontal,this.leavesPlacementType=i.ChildrenPlacementType.Horizontal,this.placeAssistantsAboveChildren=!0,this.placeAdvisersAboveChildren=!0,this.maximumColumnsInMatrix=6,this.buttonsPanelSize=28,this.groupTitlePanelSize=24,this.checkBoxPanelSize=24,this.groupTitlePlacementType=i.AdviserPlacementType.Left,this.groupTitleOrientation=i.TextOrientationType.RotateRight,this.groupTitleVerticalAlignment=i.VerticalAlignmentType.Middle,this.groupTitleHorizontalAlignment=i.HorizontalAlignmentType.Center,this.groupTitleFontSize="12px",this.groupTitleFontFamily="Arial",this.groupTitleColor=i.Colors.RoyalBlue,this.groupTitleFontWeight="normal",this.groupTitleFontStyle="normal",this.levelTitlePanelSize=24,this.levelTitlePlacementType=i.AdviserPlacementType.Left,this.levelTitlePlaceInside=!1,this.levelTitleOrientation=i.TextOrientationType.Auto,this.levelTitleVerticalAlignment=i.VerticalAlignmentType.Middle,this.levelTitleHorizontalAlignment=i.HorizontalAlignmentType.Center,this.levelTitleFontSize="12px",this.levelTitleFontFamily="Arial",this.levelTitleFontColor=i.Colors.White,this.levelTitleColor=i.Colors.RoyalBlue,this.levelTitleFontWeight="normal",this.levelTitleFontStyle="normal",this.distance=3,this.scale=1,this.minimumScale=.5,this.maximumScale=2,this.showLabels=i.Enabled.Auto,this.labelSize=new s.default(80,24),this.labelOffset=1,this.labelOrientation=i.TextOrientationType.Horizontal,this.labelPlacement=i.PlacementType.Top,this.labelFontSize="10px",this.labelFontFamily="Arial",this.labelColor=i.Colors.Black,this.labelFontWeight="normal",this.labelFontStyle="normal",this.enablePanning=!0,this.autoSizeMinimum=new s.default(800,600),this.autoSizeMaximum=new s.default(1024,768)}},"./src/configs/OrgItemConfig.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});n("./src/graphics/structs/Size.js");var r=n("./src/enums.js");function i(t,e,n,i,a){switch(this.id=null,this.parent=null,this.title=null,this.description=null,this.image=null,this.context=null,this.itemTitleColor=r.Colors.RoyalBlue,this.minimizedItemShapeType=null,this.groupTitle=null,this.groupTitleColor=r.Colors.RoyalBlue,this.isVisible=!0,this.isActive=!0,this.hasSelectorCheckbox=r.Enabled.Auto,this.hasButtons=r.Enabled.Auto,this.itemType=r.ItemType.Regular,this.levelOffset=null,this.adviserPlacementType=r.AdviserPlacementType.Auto,this.childrenPlacementType=r.ChildrenPlacementType.Auto,this.placeAssistantsAboveChildren=r.Enabled.Auto,this.placeAdvisersAboveChildren=r.Enabled.Auto,this.templateName=null,this.showCallout=r.Enabled.Auto,this.calloutTemplateName=null,this.label=null,this.showLabel=r.Enabled.Auto,this.labelSize=null,this.labelOrientation=r.TextOrientationType.Auto,this.labelPlacement=r.PlacementType.Auto,arguments.length){case 1:for(var s in t)t.hasOwnProperty(s)&&(this[s]=t[s]);break;case 5:this.id=t,this.parent=e,this.title=n,this.description=i,this.image=a}}},"./src/configs/PaletteItemConfig.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var a=n("./src/enums.js");function i(t,e,n){switch(this.lineColor=a.Colors.Silver,this.lineWidth=1,this.lineType=a.LineType.Solid,arguments.length){case 1:for(var i in t)t.hasOwnProperty(i)&&(this[i]=t[i]);break;case 3:this.lineColor=t,this.lineWidth=e,this.lineType=n}}},"./src/configs/ShapeAnnotationConfig.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return o});var i=n("./src/graphics/structs/Thickness.js"),a=n("./src/graphics/structs/Size.js"),s=n("./src/enums.js");function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){if(this.annotationType=s.AnnotationType.Shape,this.zOrderType=s.ZOrderType.Auto,this.items=[],this.shapeType=s.ShapeType.Rectangle,this.offset=new i.default(0,0,0,0),this.lineWidth=2,this.cornerRadius="10%",this.opacity=1,this.borderColor=null,this.fillColor=null,this.lineType=s.LineType.Solid,this.selectItems=!1,this.label=null,this.labelSize=new a.default(60,30),this.labelPlacement=s.PlacementType.Auto,this.labelOffset=4,1===arguments.length)if(null!==t)if(t instanceof Array)this.items=t;else if("object"==r(t))for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}},"./src/configs/TemplateConfig.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return r});var i=n("./src/graphics/structs/Thickness.js"),a=n("./src/graphics/structs/Size.js"),s=n("./src/enums.js");function r(){this.name=null,this.isActive=!0,this.itemSize=new a.default(120,100),this.itemBorderWidth=1,this.itemTemplate=null,this.minimizedItemShapeType=null,this.minimizedItemSize=new a.default(4,4),this.minimizedItemCornerRadius=null,this.minimizedItemLineWidth=1,this.minimizedItemBorderColor=null,this.minimizedItemLineType=s.LineType.Solid,this.minimizedItemFillColor=null,this.minimizedItemOpacity=1,this.highlightPadding=new i.default(2,2,2,2),this.highlightBorderWidth=1,this.highlightTemplate=null,this.cursorPadding=new i.default(3,3,3,3),this.cursorBorderWidth=2,this.cursorTemplate=null,this.hasButtons=s.Enabled.Auto,this.onButtonsRender=null}},"./src/connectors/BaseConnectorBundle.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var P=n("./src/enums.js"),h=n("./src/graphics/structs/Rect.js"),j=n("./src/graphics/structs/Point.js"),S=n("./src/graphics/structs/Polyline.js"),A=n("./src/graphics/structs/MoveSegment.js"),I=n("./src/graphics/structs/LineSegment.js"),x=n("./src/graphics/structs/CubicArcSegment.js"),f=n("./src/graphics/structs/QuadraticArcSegment.js");function i(){this.NORMAL_ITEM_WEIGHT=10010,this.LINE_ITEM_WEIGHT=1e4}i.prototype.trace=function(t,e,n){},i.prototype.getId=function(t){var e="_"+t.nodeid;return t.nodeid+=1,e},i.prototype.ConnectorEdge=function(t,e,n,i,a,s,r,o,l,u,c){this.polyline=n,this.from=t,this.to=e,this.weight=r||0,this.fromOffset=o||0,this.hasArrow=c||!1,this.parentsArrowId=i,this.childrenArrowId=a,this.dotId=s,this.hasMiddle=l,this.middleParent=u,this.isOppositeFlow=!1},i.prototype.ConnectorDestination=function(t){for(var e in this.id=null,this.x=null,this.y=null,this.bundleid=null,this.hasElbow=!1,this.elbowPoint1=null,this.elbowPoint2=null,this.visibility=null,this.isSquared=!0,t)t.hasOwnProperty(e)&&(this[e]=t[e])},i.prototype.traceFork=function(t,e,r,n,i,a,s,o,l){var u,c,d,h,f,p,m,g,T,y,k,v,C,w=[];if(a){for(w=[],u=0,d=i.length;u<d&&((h=i[u]).x<n.x&&!h.isSquared);u+=1)w.push(h);for(0<(d=w.length)&&(f=(p=w[d-1]).x==n.x?n:new this.ConnectorDestination({id:p.bundleid,x:p.x,y:n.y}),this.traceAngularSegments(t,e,r,f,w,!1)),w=[],c=i.length-1;u<=c&&((h=i[c]).x>n.x&&!h.isSquared);--c)w.push(h);for(0<(d=w.length)&&(f=(p=w[d-1]).x==n.x?n:new this.ConnectorDestination({id:p.bundleid,x:p.x,y:n.y}),this.traceAngularSegments(t,e,r,f,w,!1)),m=u;m<=c;m+=1){switch(h=i[m],(T=r.bevelSize)<2&&(T=0),r.elbowType){case P.ElbowType.Bevel:case P.ElbowType.Round:0<T&&Math.abs(n.x-h.x)>T&&Math.abs(n.y-h.y)>T&&(h.hasElbow=!0,h.elbowPoint1=new j.default(h.x,n.y+(n.y>h.y?-T:T)),h.elbowPoint2=new j.default(h.x+(n.x>h.x?T:-T),n.y))}g=new S.default,h.hasElbow?(e.transform.transform3Points(h.elbowPoint2.x,h.elbowPoint2.y,h.elbowPoint1.x,h.elbowPoint2.y,h.elbowPoint1.x,h.elbowPoint1.y,!0,this,function(t,e,n,i,a,s){switch(r.elbowType){case P.ElbowType.Bevel:g.addSegment(new A.default(t,e)),g.addSegment(new I.default(a,s));break;case P.ElbowType.Round:g.addSegment(new A.default(t,e)),g.addSegment(new x.default(t,e,n,i,a,s))}}),e.transform.transformPoints(h.elbowPoint1.x,h.elbowPoint1.y,h.x,h.y,!0,this,function(t,e,n,i){g.addSegment(new I.default(n,i))})):e.transform.transformPoints(h.x,n.y,h.x,h.y,!0,this,function(t,e,n,i){g.addSegment(new A.default(t,e)),g.addSegment(new I.default(n,i))});var b=h.x==n.x?n.id:h.bundleid,O=h.visibility!==P.Visibility.Invisible;t.graph.addEdge(b,h.id,new this.ConnectorEdge(b,h.id,g,s?h.id:null,s?null:h.id,null,O?this.NORMAL_ITEM_WEIGHT:this.LINE_ITEM_WEIGHT,o,null,null,O))}for(u=Math.max(u-1,0),c=Math.min(c+1,i.length-1),k=(y=n).id,m=u;m<=c;m+=1)C=(v=i[m]).bundleid,v.x>y.x&&(g=new S.default,e.transform.transformPoints(y.x,n.y,(null!=v.elbowPoint2?v.elbowPoint2:v).x,n.y,!0,this,function(t,e,n,i){g.addSegment(new A.default(t,e)),g.addSegment(new I.default(n,i))}),t.graph.addEdge(k,C,new this.ConnectorEdge(k,C,g,null,null,k,Math.abs(v.x-y.x)/1e4,o,l,s?C:k)),y=v.elbowPoint2||v,k=C);for(k=(y=n).id,m=c;u<=m;--m)C=(v=i[m]).bundleid,v.x<y.x&&(g=new S.default,e.transform.transformPoints(y.x,n.y,(null!=v.elbowPoint2?v.elbowPoint2:v).x,n.y,!0,this,function(t,e,n,i){g.addSegment(new A.default(t,e)),g.addSegment(new I.default(n,i))}),t.graph.addEdge(k,C,new this.ConnectorEdge(k,C,g,null,null,k,Math.abs(v.x-y.x)/1e4,o,l,s?C:k)),y=v.elbowPoint2||v,k=C)}else this.traceAngularSegments(t,e,r,n,i,!0)},i.prototype.traceAngularSegments=function(t,e,n,i,a,s){for(var r,o,l,u=0,c=a.length;u<c;u+=1){switch(o=a[u],l=new S.default,e.transform.transformPoint(i.x,i.y,!0,this,function(t,e){l.addSegment(new A.default(t,e))}),n.connectorType){case P.ConnectorType.Angular:e.transform.transformPoint(o.x,o.y,!0,this,function(t,e){l.addSegment(new I.default(t,e))});break;case P.ConnectorType.Curved:r=new h.default(i,o),s?i.x>r.x?e.transform.transform3Points(r.right(),r.verticalCenter(),r.x,r.verticalCenter(),r.x,r.bottom(),!0,this,function(t,e,n,i,a,s){l.addSegment(new x.default(t,e,n,i,a,s))}):e.transform.transform3Points(r.x,r.verticalCenter(),r.right(),r.verticalCenter(),r.right(),r.bottom(),!0,this,function(t,e,n,i,a,s){l.addSegment(new x.default(t,e,n,i,a,s))}):i.x>r.x?e.transform.transformPoints(r.x,r.y,r.x,r.bottom(),!0,this,function(t,e,n,i){l.addSegment(new f.default(t,e,n,i))}):e.transform.transformPoints(r.right(),r.y,r.right(),r.bottom(),!0,this,function(t,e,n,i){l.addSegment(new f.default(t,e,n,i))})}var d=o.visibility!==P.Visibility.Invisible;t.graph.addEdge(i.id,o.id,new this.ConnectorEdge(i.id,o.id,l,null,d?o.id:null,d?this.NORMAL_ITEM_WEIGHT:this.LINE_ITEM_WEIGHT,null,null,null,!0))}}},"./src/connectors/HorizontalConnectorBundle.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var e=n("./src/connectors/BaseConnectorBundle.js"),l=n("./src/graphics/structs/Polyline.js"),u=n("./src/graphics/structs/MoveSegment.js"),c=n("./src/graphics/structs/LineSegment.js"),d=n("./src/enums.js");function i(t,e){this.fromItem=t,this.toItem=e}(i.prototype=new e.default).trace=function(t,e,n){var i=this.fromItem,a=this.toItem,s=e.treeItemsPositions[i],r=e.treeItemsPositions[a],o=new l.default;s.actualPosition.x<r.actualPosition.x?e.transform.transformPoints(s.actualPosition.right(),s.horizontalConnectorsShift,r.actualPosition.x,r.horizontalConnectorsShift,!0,this,function(t,e,n,i){o.addSegment(new u.default(t,e)),o.addSegment(new c.default(n,i))}):e.transform.transformPoints(s.actualPosition.x,s.horizontalConnectorsShift,r.actualPosition.right(),s.horizontalConnectorsShift,!0,this,function(t,e,n,i){o.addSegment(new u.default(t,e)),o.addSegment(new c.default(n,i))});r=r.actualVisibility!==d.Visibility.Invisible,s=s.actualVisibility!==d.Visibility.Invisible;t.graph.addEdge(i,a,new this.ConnectorEdge(i,a,o,r?a:null,s?i:null,r||s?this.NORMAL_ITEM_WEIGHT:this.LINE_ITEM_WEIGHT),null,null,null,!0)}},"./src/connectors/MatrixConnectorBundle.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var m=n("./src/graphics/structs/Polyline.js"),g=n("./src/graphics/structs/MoveSegment.js"),T=n("./src/graphics/structs/LineSegment.js"),y=n("./src/enums.js"),n=n("./src/connectors/BaseConnectorBundle.js");function i(t,e,n,i,a){this.isChildren=t,this.items=e,this.len=e.length,this.matrixNodeId=n,this.connectionId=i,this.matrixWidth=a,this.blocksCount=Math.ceil(this.matrixWidth/2),this.rowsCount=Math.ceil(this.len/this.matrixWidth)}(i.prototype=new n.default).trace=function(t,e,n){this.isChildren?this.traceChildrenLayout(t,e,n):this.traceParentsLayout(t,e,n)},i.prototype.traceChildrenLayout=function(s,t,e){for(var n=[],i=0;i<this.blocksCount;i+=1){for(var r=null,a=this.rowsCount-1;0<=a;--a){var o=this.getNodeIndex(i,a,!0,!0),l=null,u=null;o<this.len&&(l=this.items[o],u=t.treeItemsPositions[l]);var c=this.getNodeIndex(i,a,!1,!0),d=null,o=null;c<this.len&&(d=this.items[c],o=t.treeItemsPositions[d]);var h=null;null==h&&null!=u&&(h=new this.ConnectorDestination({id:this.getId(s),x:u.actualPosition.horizontalCenter()+u.rightMedianOffset,y:u.horizontalConnectorsShift})),null==h&&null!=o&&(h=new this.ConnectorDestination({id:this.getId(s),x:o.actualPosition.horizontalCenter()-o.leftMedianOffset,y:o.horizontalConnectorsShift})),null!=u&&(f=u.actualPosition,t.transform.transformPoints(f.right(),f.verticalCenter(),h.x,h.y,!0,this,function(t,e,n,i){var a=new m.default;a.addSegment(new g.default(t,e)),a.addSegment(new T.default(n,i)),s.graph.addEdge(l,h.id,new this.ConnectorEdge(l,h.id,a,null,l,null,10,null,null,null,!0))})),null!=o&&(f=o.actualPosition,t.transform.transformPoints(f.left(),f.verticalCenter(),h.x,h.y,!0,this,function(t,e,n,i){var a=new m.default;a.addSegment(new g.default(t,e)),a.addSegment(new T.default(n,i)),s.graph.addEdge(d,h.id,new this.ConnectorEdge(d,h.id,a,null,d,null,10,null,null,null,!0))})),null!=r&&null!=h&&t.transform.transformPoints(r.x,r.y,h.x,h.y,!0,this,function(t,e,n,i){var a=new m.default;a.addSegment(new g.default(t,e)),a.addSegment(new T.default(n,i)),s.graph.addEdge(r.id,h.id,new this.ConnectorEdge(r.id,h.id,a,null,null,null,0))}),null!=h&&(r=h)}null!=r&&n.push(new this.ConnectorDestination({id:r.id,bundleid:this.getId(s),x:r.x,y:r.y,isSquared:!0,visibility:y.Visibility.Invisible}))}var f=t.treeItemsPositions[this.matrixNodeId].actualPosition,p=new this.ConnectorDestination({id:this.matrixNodeId,x:f.horizontalCenter(),y:f.top()});this.traceFork(s,t,e,p,n,!0,!1,0,e.showExtraArrows)},i.prototype.traceParentsLayout=function(s,t,e){for(var n=[],i=0;i<=this.blocksCount;i+=1){for(var r=null,a=0;a<this.rowsCount;a+=1){var o=this.getNodeIndex(i,a,!0,!1),l=null,u=null;o<this.len&&(l=this.items[o],u=t.treeItemsPositions[l]);var c=this.getNodeIndex(i,a,!1,!1),d=null,o=null;c<this.len&&(d=this.items[c],o=t.treeItemsPositions[d]);var h=null;null==h&&null!=u&&(h=new this.ConnectorDestination({id:this.getId(s),x:u.actualPosition.horizontalCenter()+u.rightMedianOffset,y:u.horizontalConnectorsShift})),null==h&&null!=o&&(h=new this.ConnectorDestination({id:this.getId(s),x:o.actualPosition.horizontalCenter()-o.leftMedianOffset,y:o.horizontalConnectorsShift})),null!=u&&(f=u.actualPosition,t.transform.transformPoints(f.right(),f.verticalCenter(),h.x,h.y,!0,this,function(t,e,n,i){var a=new m.default;a.addSegment(new g.default(t,e)),a.addSegment(new T.default(n,i)),s.graph.addEdge(l,h.id,new this.ConnectorEdge(l,h.id,a,l,null,null,10,null,null,null,!0))})),null!=o&&(f=o.actualPosition,t.transform.transformPoints(f.left(),f.verticalCenter(),h.x,h.y,!0,this,function(t,e,n,i){var a=new m.default;a.addSegment(new g.default(t,e)),a.addSegment(new T.default(n,i)),s.graph.addEdge(d,h.id,new this.ConnectorEdge(d,h.id,a,d,null,null,10,null,null,null,!0))})),null!=r&&null!=h&&t.transform.transformPoints(r.x,r.y,h.x,h.y,!0,this,function(t,e,n,i){var a=new m.default;a.addSegment(new g.default(t,e)),a.addSegment(new T.default(n,i)),s.graph.addEdge(r.id,h.id,new this.ConnectorEdge(r.id,h.id,a,null,null,null,0,null,null,null,!0))}),null!=h&&(r=h)}null!=r&&n.push(new this.ConnectorDestination({id:r.id,bundleid:this.getId(s),x:r.x,y:r.y,isSquared:!0,visibility:y.Visibility.Invisible}))}var f=t.treeItemsPositions[this.matrixNodeId].actualPosition,p=new this.ConnectorDestination({id:this.connectionId,x:f.horizontalCenter(),y:f.bottom()});this.traceFork(s,t,e,p,n,!0,!0,0,e.showExtraArrows)},i.prototype.getNodeIndex=function(t,e,n,i){var a,s=null;return i?(a=2*t+(n?0:1),this.matrixWidth>a&&(s=e*this.matrixWidth+a)):0<=(a=2*t+(n?-1:0))&&a<this.matrixWidth&&(s=e*this.matrixWidth+a),s}},"./src/connectors/VerticalConnectorBundle.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var e=n("./src/connectors/BaseConnectorBundle.js"),k=n("./src/enums.js"),v=n("./src/graphics/structs/Polyline.js"),C=n("./src/graphics/structs/MoveSegment.js"),w=n("./src/graphics/structs/LineSegment.js");function i(t,e,n){this.fromItems=t,this.toItems=e,this.dotId=n||null,this.fromOffset=0,this.fromStackSize=0}(i.prototype=new e.default).trace=function(s,t,e){var n,i,a,r,o,l,u,c,d,h,f,p,m=e.connectorType===k.ConnectorType.Squared,g=[];if(0<this.fromItems.length){for(o=0,l=(i=this.fromItems).length;o<l;o+=1)a=i[o],r=t.treeItemsPositions[a],p=new this.ConnectorDestination({id:t.nestedLayoutBottomConnectorIds.hasOwnProperty(a)?t.nestedLayoutBottomConnectorIds[a]:a,bundleid:this.getId(s),x:r.actualPosition.horizontalCenter(),y:r.actualPosition.bottom(),isSquared:!0,visibility:r.actualVisibility}),g.push(p);g.sort(function(t,e){return t.x-e.x}),h=r.bottomConnectorShift-r.bottomConnectorInterval*(this.fromStackSize-this.fromOffset+1)}if(n=[],0<this.toItems.length){for(c=!1,i=this.toItems,o=0;o<i.length;o+=1){switch(a=i[o],u=!0,(r=t.treeItemsPositions[a]).actualVisibility){case k.Visibility.Dot:case k.Visibility.Line:u=m}p=new this.ConnectorDestination({id:a,bundleid:this.getId(s),x:r.actualPosition.horizontalCenter()+0,y:r.actualPosition.top(),isSquared:u,visibility:r.actualVisibility}),n.push(p),c=c||p.isSquared}n.sort(function(t,e){return t.x-e.x}),f=r.topConnectorShift}d=1==n.length?n[0].x:1==g.length?g[0].x:0<n.length&&0<g.length?(g[0].x+g[g.length-1].x+n[0].x+n[n.length-1].x)/4:0<n.length?(n[0].x+n[n.length-1].x)/2:(g[0].x+g[g.length-1].x)/2;var T=null;0<g.length&&(T=new this.ConnectorDestination({id:0==n.length?this.dotId:this.getId(s),x:d,y:h}),this.traceFork(s,t,e,T,g,!0,!0,this.fromOffset,e.showExtraArrows));var y=null;0<n.length&&(y=new this.ConnectorDestination({id:0==g.length?this.dotId:this.getId(s),x:d,y:f}),null!=T&&y.y==T.y&&(y=T),this.traceFork(s,t,e,y,n,c,!1,0,e.showExtraArrows)),null!=T&&null!=y&&T.id!=y.id&&t.transform.transformPoints(T.x,T.y,y.x,y.y,!0,this,function(t,e,n,i){var a=new v.default;a.addSegment(new C.default(t,e)),a.addSegment(new w.default(n,i)),s.graph.addEdge(T.id,y.id,new this.ConnectorEdge(T.id,y.id,a,null,null,null,0))})}},"./src/enums.js":function(t,e,n){"use strict";n.r(e),n.d(e,"AdviserPlacementType",function(){return i}),n.d(e,"AnnotationType",function(){return a}),n.d(e,"ChildrenPlacementType",function(){return s}),n.d(e,"Colors",function(){return r}),n.d(e,"ConnectorLabelPlacementType",function(){return o}),n.d(e,"ConnectorPlacementType",function(){return l}),n.d(e,"ConnectorShapeType",function(){return u}),n.d(e,"ConnectorStyleType",function(){return c}),n.d(e,"ConnectorType",function(){return d}),n.d(e,"ElbowType",function(){return h}),n.d(e,"Enabled",function(){return f}),n.d(e,"GroupByType",function(){return p}),n.d(e,"HorizontalAlignmentType",function(){return m}),n.d(e,"ItemType",function(){return g}),n.d(e,"LabelType",function(){return T}),n.d(e,"Layers",function(){return y}),n.d(e,"LineType",function(){return k}),n.d(e,"LoopsLayoutMode",function(){return v}),n.d(e,"NavigationMode",function(){return C}),n.d(e,"NeighboursSelectionMode",function(){return w}),n.d(e,"OrientationType",function(){return b}),n.d(e,"PageFitMode",function(){return O}),n.d(e,"PlacementType",function(){return P}),n.d(e,"RenderingMode",function(){return j}),n.d(e,"SegmentType",function(){return S}),n.d(e,"SelectionPathMode",function(){return A}),n.d(e,"ShapeType",function(){return I}),n.d(e,"SideFlag",function(){return x}),n.d(e,"TextOrientationType",function(){return L}),n.d(e,"UpdateMode",function(){return z}),n.d(e,"VectorRelationType",function(){return M}),n.d(e,"VerticalAlignmentType",function(){return F}),n.d(e,"Visibility",function(){return R}),n.d(e,"ZOrderType",function(){return B});var i={Auto:0,Left:2,Right:3},a={Connector:0,Shape:1,HighlightPath:2,Label:3,Background:4,Level:5},s={Auto:0,Vertical:1,Horizontal:2,Matrix:3},r={AliceBlue:"#f0f8ff",AntiqueWhite:"#faebd7",Aqua:"#00ffff",Aquamarine:"#7fffd4",Azure:"#f0ffff",Beige:"#f5f5dc",Bisque:"#ffe4c4",Black:"#000000",BlanchedAlmond:"#ffebcd",Blue:"#0000ff",BlueViolet:"#8a2be2",Brown:"#a52a2a",BurlyWood:"#deb887",Bronze:"#cd7f32",CadetBlue:"#5f9ea0",ChartReuse:"#7fff00",Chocolate:"#d2691e",Coral:"#ff7f50",CornflowerBlue:"#6495ed",Cornsilk:"#fff8dc",Crimson:"#dc143c",Cyan:"#00ffff",DarkBlue:"#00008b",DarkCyan:"#008b8b",DarkGoldenrod:"#b8860b",DarkGray:"#a9a9a9",DarkGreen:"#006400",DarkKhaki:"#bdb76b",DarkMagenta:"#8b008b",DarkOliveGreen:"#556b2f",Darkorange:"#ff8c00",DarkOrchid:"#9932cc",DarkRed:"#8b0000",DarkSalmon:"#e9967a",DarkSeaGreen:"#8fbc8f",DarkSlateBlue:"#483d8b",DarkSlateGray:"#2f4f4f",DarkTurquoise:"#00ced1",DarkViolet:"#9400d3",DeepPink:"#ff1493",DeepSkyBlue:"#00bfff",DimGray:"#696969",DodgerBlue:"#1e90ff",FireBrick:"#b22222",FloralWhite:"#fffaf0",ForestGreen:"#228b22",Fuchsia:"#ff00ff",Gainsboro:"#dcdcdc",GhostWhite:"#f8f8ff",Gold:"#ffd700",Goldenrod:"#daa520",Gray:"#808080",Green:"#008000",GreenYellow:"#adff2f",Honeydew:"#f0fff0",Hotpink:"#ff69b4",IndianRed:"#cd5c5c",Indigo:"#4b0082",Ivory:"#fffff0",Khaki:"#f0e68c",Lavender:"#e6e6fa",LavenderBlush:"#fff0f5",Lawngreen:"#7cfc00",Lemonchiffon:"#fffacd",LightBlue:"#add8e6",LightCoral:"#f08080",LightCyan:"#e0ffff",LightGoldenrodYellow:"#fafad2",LightGray:"#d3d3d3",LightGreen:"#90ee90",LightPink:"#ffb6c1",LightSalmon:"#ffa07a",LightSeaGreen:"#20b2aa",LightSkyBlue:"#87cefa",LightSlateGray:"#778899",LightSteelBlue:"#b0c4de",LightYellow:"#ffffe0",Lime:"#00ff00",Limegreen:"#32cd32",Linen:"#faf0e6",Magenta:"#ff00ff",Maroon:"#800000",MediumAquamarine:"#66cdaa",MediumBlue:"#0000cd",MediumOrchid:"#ba55d3",MediumPurple:"#9370d8",MediumSeaGreen:"#3cb371",MediumSlateBlue:"#7b68ee",MediumSpringGreen:"#00fa9a",MediumTurquoise:"#48d1cc",MediumVioletRed:"#c71585",MidnightBlue:"#191970",MintCream:"#f5fffa",MistyRose:"#ffe4e1",Moccasin:"#ffe4b5",NavajoWhite:"#ffdead",Navy:"#000080",Oldlace:"#fdf5e6",Olive:"#808000",Olivedrab:"#6b8e23",Orange:"#ffa500",OrangeRed:"#ff4500",Orchid:"#da70d6",PaleGoldenRod:"#eee8aa",PaleGreen:"#98fb98",PaleTurquoise:"#afeeee",PaleVioletRed:"#d87093",Papayawhip:"#ffefd5",Peachpuff:"#ffdab9",Peru:"#cd853f",Pink:"#ffc0cb",Plum:"#dda0dd",PowderBlue:"#b0e0e6",Purple:"#800080",Red:"#ff0000",RosyBrown:"#bc8f8f",RoyalBlue:"#4169e1",SaddleBrown:"#8b4513",Salmon:"#fa8072",SandyBrown:"#f4a460",SeaGreen:"#2e8b57",Seashell:"#fff5ee",Sienna:"#a0522d",Silver:"#c0c0c0",SkyBlue:"#87ceeb",SlateBlue:"#6a5acd",SlateGray:"#708090",Snow:"#fffafa",SpringGreen:"#00ff7f",SteelBlue:"#4682b4",Tan:"#d2b48c",Teal:"#008080",Thistle:"#d8bfd8",Tomato:"#ff6347",Turquoise:"#40e0d0",Violet:"#ee82ee",Wheat:"#f5deb3",White:"#ffffff",WhiteSmoke:"#f5f5f5",Yellow:"#ffff00",YellowGreen:"#9acd32"},o={From:0,Between:1,To:2},l={Offbeat:0,Straight:1},u={OneWay:0,TwoWay:1,BothWay:2},c={Extra:0,Regular:1,Highlight:2},d={Squared:0,Angular:1,Curved:2},h={None:0,Dot:1,Bevel:2,Round:3},f={Auto:0,True:1,False:2},p={None:0,Parents:1,Children:2},m={Center:0,Left:1,Right:2},g={Regular:0,Adviser:2,Assistant:1,SubAssistant:4,SubAdviser:5,GeneralPartner:6,LimitedPartner:7,AdviserPartner:8},T={Regular:0,Dummy:1,Fixed:2,None:3},y={LevelAnnotation:1,BackgroundAnnotation:2,BackgroundAnnotations:3,BackgroundConnectorAnnotation:4,BackgroundHighlightPathAnnotations:5,Connector:6,ForegroundHighlightPathAnnotations:7,Highlight:8,Marker:9,Label:10,Cursor:11,Item:12,ForegroundAnnotations:13,ForegroundConnectorAnnotation:14,Annotation:15,Controls:16},k={Solid:0,Dotted:1,Dashed:2},v={Optimized:0,KeepItemsOrder:1},C={Default:0,CursorOnly:1,HighlightOnly:3,Inactive:2},w={ParentsAndChildren:0,ParentsChildrenSiblingsAndSpouses:1},b={Top:0,Bottom:1,Left:2,Right:3,None:4},O={None:0,PageWidth:1,PageHeight:2,FitToPage:3,AutoSize:5,SelectionOnly:6},P={Auto:0,TopLeft:8,Top:1,TopRight:2,RightTop:11,Right:3,RightBottom:12,BottomRight:4,Bottom:5,BottomLeft:6,LeftBottom:10,Left:7,LeftTop:9},j={Create:0,Update:1},S={Line:0,Move:1,QuadraticArc:2,CubicArc:3,Dot:4},A={None:0,FullStack:1},I={Rectangle:0,Oval:1,Triangle:2,CrossOut:3,Circle:4,Rhombus:5,Wedge:7,FramedOval:8,FramedTriangle:9,FramedWedge:10,FramedRhombus:11,None:6},x={Top:1,Right:2,Bottom:4,Left:8},L={Horizontal:0,RotateLeft:1,RotateRight:2,Auto:3},z={Recreate:0,Refresh:1,PositonHighlight:2},M={None:0,Null:1,Collinear:2,Opposite:3},F={Top:0,Middle:1,Bottom:2},R={Auto:0,Normal:1,Dot:2,Line:3,Invisible:4},B={Auto:0,Background:1,Foreground:2}},"./src/events/FamEventArgs.js":function(t,e,n){"use strict";function i(){this.oldContext=null,this.context=null,this.parentItems=[],this.childrenItems=[],this.position=null,this.name=null,this.cancel=!1}n.r(e),n.d(e,"default",function(){return i})},"./src/events/OrgEventArgs.js":function(t,e,n){"use strict";function i(){this.oldContext=null,this.context=null,this.parentItem=null,this.position=null,this.name=null,this.cancel=!1}n.r(e),n.d(e,"default",function(){return i})},"./src/events/RenderEventArgs.js":function(t,e,n){"use strict";function i(){this.id=null,this.element=null,this.context=null,this.templateName=null,this.renderingMode=null,this.isCursor=!1,this.isSelected=!1}n.r(e),n.d(e,"default",function(){return i})},"./src/graphics/Cache.js":function(t,e,n){"use strict";function i(){this.threshold=20,this.m_visible={},this.m_invisible={}}n.r(e),n.d(e,"default",function(){return i}),i.prototype.begin=function(){var t,e,n,i;for(t in this.m_visible)if(this.m_visible.hasOwnProperty(t))for(e in this.m_visible[t])if(this.m_visible[t].hasOwnProperty(e)){for(n=this.m_visible[t][e].length-1;0<=n;--n)(i=this.m_visible[t][e][n]).style.visibility="hidden",this.m_invisible[t][e].push(i);this.m_visible[t][e].length=0}},i.prototype.end=function(){var t,e,n;for(t in this.m_visible)if(this.m_visible.hasOwnProperty(t))for(e in this.m_visible[t])if(this.m_visible[t].hasOwnProperty(e)&&(n=null,this.m_invisible[t][e].length>this.threshold))for(;void 0!==(n=this.m_invisible[t][e].pop());)n.parentNode.removeChild(n)},i.prototype.reset=function(t,e){t=t+"-"+e;var n,i,a=null;for(n in this.m_visible[t])if(this.m_visible[t].hasOwnProperty(n)){for(i=this.m_visible[t][n].length-1;0<=i;--i)a=this.m_visible[t][n][i],this.m_invisible[t][n].push(a),a.style.visibility="hidden";this.m_visible[t][n].length=0}},i.prototype.clear=function(){var t,e,n;for(t in this.m_visible)if(this.m_visible.hasOwnProperty(t))for(e in this.m_visible[t])if(this.m_visible[t].hasOwnProperty(e)){for(n=null;void 0!==(n=this.m_visible[t][e].pop());)n.parentNode.removeChild(n);for(;void 0!==(n=this.m_invisible[t][e].pop());)n.parentNode.removeChild(n)}},i.prototype.get=function(t,e,n){t=t+"-"+e;e=null;return void 0===this.m_visible[t]&&(this.m_visible[t]={},this.m_invisible[t]={}),void 0===this.m_visible[t][n]&&(this.m_visible[t][n]=[],this.m_invisible[t][n]=[]),null!==(e=this.m_invisible[t][n].pop()||null)&&(this.m_visible[t][n].push(e),e.style.visibility="inherit"),e},i.prototype.put=function(t,e,n,i){t=t+"-"+e,this.m_visible[t][n].push(i)}},"./src/graphics/Element.js":function(t,e,n){"use strict";function i(t,e){switch(this.ns=null,this.name=null,this.attr={},this.style={},this.children=[],arguments.length){case 1:this.name=t;break;case 2:this.ns=t,this.name=e}}n.r(e),n.d(e,"default",function(){return i}),i.prototype.setAttribute=function(t,e){this.attr[t]=e},i.prototype.appendChild=function(t){this.children[this.children.length]=t},i.prototype.create=function(t){var e,n,i,a=null,a=null!==this.ns?document.createElementNS(this.ns,this.name):document.createElement(this.name);for(e in this.attr)this.attr.hasOwnProperty(e)&&(void 0!==t?a[e]=this.attr[e]:a.setAttribute(e,this.attr[e]));for(e in this.style)this.style.hasOwnProperty(e)&&(a.style[e]=this.style[e]);for(i=0;i<this.children.length;i+=1)"string"==typeof(n=this.children[i])?a.appendChild(document.createTextNode(n)):a.appendChild(n.create(t));return a},i.prototype.update=function(t,e){var n,i,a,s,r;for(n in this.style)this.style.hasOwnProperty(n)&&(r=this.style[n],t.style[n]!==r&&(t.style[n]=r));for(n in this.attr)this.attr.hasOwnProperty(n)&&(r=this.attr[n],void 0!==e?t[n]!==r&&(t[n]=r):t.getAttribute(n)!==r&&t.setAttribute(n,r));for(i=this.children.length,a=0;a<i;a+=1)"string"==typeof(s=this.children[a])?t.innerHtml!==s&&(t.innerHtml=s):this.children[a].update(t.children[a],e)}},"./src/graphics/EnumValues.js":function(t,e,n){"use strict";n.r(e),n.d(e,"getTextAlign",function(){return a}),n.d(e,"getVerticalAlignment",function(){return s}),n.d(e,"getBorderStyle",function(){return r});var i=n("./src/enums.js");function a(t){var e=null;switch(t){case i.HorizontalAlignmentType.Center:e="center";break;case i.HorizontalAlignmentType.Left:e="left";break;case i.HorizontalAlignmentType.Right:e="right"}return e}function s(t){var e=null;switch(t){case i.VerticalAlignmentType.Middle:e="middle";break;case i.VerticalAlignmentType.Top:e="top";break;case i.VerticalAlignmentType.Bottom:e="bottom"}return e}function r(t){var e=null;switch(t){case i.LineType.Solid:e="solid";break;case i.LineType.Dotted:e="dotted";break;case i.LineType.Dashed:e="dashed"}return e}},"./src/graphics/Graphics.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return u});var i=n("./src/graphics/Cache.js"),T=n("./src/enums.js"),y=n("./src/common/index.js"),k=n("./src/common/jsonml-html.js"),o=n("./src/graphics/structs/Size.js"),l=n("./src/graphics/structs/Rect.js"),a=n("./src/graphics/Placeholder.js"),r=n("./src/graphics/Layer.js"),s=n("./src/graphics/dom.js"),v=n("./src/events/RenderEventArgs.js"),f=n("./src/graphics/EnumValues.js");function u(t){this.m_element=t,this.m_placeholders={},this.m_activePlaceholder=null,this.m_cache=new i.default,this.debug=!1,this.layerNames={},Object(y.loop)(this,T.Layers,function(t,e){this.layerNames[e]=t})}u.prototype.clean=function(){var t,e,n,i;for(t in this.m_cache.clear(),this.m_cache=null,this.m_element=null,this.m_placeholders)if(this.m_placeholders.hasOwnProperty(t)){for(n in(e=this.m_placeholders[t]).layers)e.layers.hasOwnProperty(n)&&((i=e.layers[n]).canvas.parentNode.removeChild(i.canvas),i.canvas=null);e.layers.length=0,e.activeLayer=null,e.size=null,e.rect=null,e.div=null}this.m_placeholders.length=0,this.m_activePlaceholder=null},u.prototype.resize=function(t,e,n){var i=this.m_placeholders[t];void 0===i&&(i=this._activatePlaceholder(t)),this.resizePlaceholder(i,0,0,e,n)},u.prototype.position=function(t,e,n,i,a){var s=this.m_placeholders[t];void 0===s&&(s=this._activatePlaceholder(t)),this.resizePlaceholder(s,e,n,i,a)},u.prototype.show=function(t){t=this.m_placeholders[t];null!=t&&k.default.applyStyles(t.div,{display:"inherit",visibility:"inherit"})},u.prototype.hide=function(t){t=this.m_placeholders[t];null!=t&&k.default.applyStyles(t.div,{display:"none",visibility:"hidden"})},u.prototype.resizePlaceholder=function(t,e,n,i,a){var s,r;for(s in t.size=new o.default(i,a),t.rect=new l.default(e,n,i,a),k.default.applyStyles(t.div,t.rect.getCSS()),t.layers)t.layers.hasOwnProperty(s)&&-1!==(r=t.layers[s]).name&&k.default.applyStyles(r.canvas,{position:"absolute",width:"0px",height:"0px"})},u.prototype.begin=function(){this.m_cache.begin()},u.prototype.end=function(){this.m_cache.end()},u.prototype.reset=function(t,e){var n="none",i=-1;switch(arguments.length){case 1:"string"==typeof t?n=t:i=t;break;case 2:n=t,i=e}this.m_cache.reset(n,i)},u.prototype.activate=function(t,e){switch(arguments.length){case 1:"string"==typeof t?(this._activatePlaceholder(t),this._activateLayer(-1)):(this._activatePlaceholder("none"),this._activateLayer(t));break;case 2:this._activatePlaceholder(t),this._activateLayer(e)}return this.m_activePlaceholder},u.prototype._activatePlaceholder=function(t){var e,n,i=this.m_placeholders[t];return void 0===i&&(e=null,e="none"!==t&&0<(n=this.m_element.getElementsByClassName(t)).length?n[0]:this.m_element,(i=new a.default(t)).div=e,i.size=Object(s.getInnerSize)(e),i.rect=new l.default(0,0,i.size.width,i.size.height),this.m_placeholders[t]=i),this.m_activePlaceholder=i,this.m_activePlaceholder},u.prototype._activateLayer=function(t){var e,n,i,a,s=this.m_activePlaceholder.layers[t];if(void 0===s){if(e=this.m_activePlaceholder,-1===t)(s=new r.default(t)).canvas=e.div;else{for(a in n=k.default.toHTML(["div",{style:{position:"absolute",width:"0px",height:"0px"},class:["Layer"+t,"Layer"+this.layerNames[t]]}]),i=null,e.layers)e.layers.hasOwnProperty(a)&&(s=e.layers[a]).name<t&&(i=null!==i?Math.max(i,s.name):s.name);(s=new r.default(t)).canvas=n,null===i?this.prepend(e.div,s.canvas):this.insertAfter(e.layers[i].canvas,s.canvas)}e.layers[t]=s}this.m_activePlaceholder.activeLayer=s},u.prototype.prepend=function(t,e){null==t.firstChild?t.appendChild(e):t.insertBefore(e,t.firstChild)},u.prototype.insertAfter=function(t,e){var n=t.parentNode;n.lastChild==t?n.appendChild(e):n.insertBefore(e,t.nextSibling)},u.prototype.text=function(t,e,n,i,a,s,r,o,l){var u,c=this.m_activePlaceholder,d={position:"absolute",padding:0,margin:0,textAlign:Object(f.getTextAlign)(r),fontSize:l.fontSize,fontFamily:l.fontFamily,fontWeight:l.fontWeight,fontStyle:l.fontStyle,color:l.fontColor,lineHeight:1},h="";switch(s){case T.TextOrientationType.Horizontal:case T.TextOrientationType.Auto:d.left=t+"px",d.top=e+"px",d.width=n+"px",d.height=i+"px";break;case T.TextOrientationType.RotateLeft:d.left=t+Math.round(n/2-i/2)+"px",d.top=e+Math.round(i/2-n/2)+"px",d.width=i+"px",d.height=n+"px",h="rotate(-90deg)";break;case T.TextOrientationType.RotateRight:d.left=t+Math.round(n/2-i/2)+"px",d.top=e+Math.round(i/2-n/2)+"px",d.width=i+"px",d.height=n+"px",h="rotate(90deg)"}d["-webkit-transform-origin"]="center center",d["-moz-transform-origin"]="center center",d["-o-transform-origin"]="center center",d["-ms-transform-origin"]="center center",d["-webkit-transform"]=h,d["-moz-transform"]=h,d["-o-transform"]=h,d["-ms-transform"]=h,d.transform=h,d.maxWidth=d.width,d.maxHeight=d.height,a=a.replace(new RegExp("\n","g"),"<br/>"),o===T.VerticalAlignmentType.Top?(this.debug&&(d.border="solid 1px black"),null===(u=this.m_cache.get(c.name,c.activeLayer.name,"text"))?(u=k.default.toHTML(["div",{style:d,$:function(t){t.innerHTML=a}}]),c.activeLayer.canvas.appendChild(u),this.m_cache.put(c.name,c.activeLayer.name,"text",u)):(k.default.applyStyles(u,d),u.innerHTML=a)):(d.borderCollapse="collapse",o={verticalAlign:Object(f.getVerticalAlignment)(o),padding:0},this.debug&&(o.border="solid 1px black"),null===(u=this.m_cache.get(c.name,c.activeLayer.name,"textintable"))?(u=k.default.toHTML(["table",{style:d},["tbody",["tr",["td",{style:o,$:function(t){t.innerHTML=a}}]]]]),c.activeLayer.canvas.appendChild(u),this.m_cache.put(c.name,c.activeLayer.name,"textintable",u)):(k.default.applyStyles(u,d),u=u.getElementsByTagName("td")[0],k.default.applyStyles(u,o),u.innerHTML=a))},u.prototype.polylinesBuffer=function(t){t.loop(this,function(t){0<t.length()&&this.polyline(t)})},u.prototype.template=function(t,e,n,i,a,s,r,o,l,u,c,d,h){var f=this.m_activePlaceholder,p="template"+(null!==u?u:Object(y.getHashCode)(l)),m=0,g=this.m_cache.get(f.name,f.activeLayer.name,p);return null!==h&&void 0!==h.borderWidth&&(h.borderWidth=h.borderWidth.toString(),m=this.getPxSize(h.borderWidth)),u={width:r-m+"px",height:o-m+"px",top:e+s+"px",left:t+a+"px"},Object(y.mergeObjects)(u,h),null==d&&(d=new v.default),d.x=t+a,d.y=e+s,d.width=r-m,d.height=o-m,null==g?(g=this.getElementByTemplate(l),u=Object(y.mergeObjects)(u,{position:"absolute",padding:"0px",margin:"0px"},h),k.default.applyStyles(g,u),d.element=g,d.renderingMode=T.RenderingMode.Create,null!==c&&c(null,d),f.activeLayer.canvas.appendChild(g),this.m_cache.put(f.name,f.activeLayer.name,p,g)):(d.element=g,d.renderingMode=T.RenderingMode.Update,k.default.applyStyles(g,u),null!==c&&c(null,d)),g},u.prototype.getElementByTemplate=function(t){var e;return Array.isArray(t)?k.default.toHTML(t):((e=document.createElement("div")).innerHTML=t,e.firstChild)},u.prototype.getPxSize=function(t,e){var n=t;return"string"==typeof t&&(n=0<t.indexOf("pt")?96*parseInt(t,10)/72:0<t.indexOf("%")?parseFloat(t)/100*e:parseInt(t,10)),n}},"./src/graphics/Layer.js":function(t,e,n){"use strict";function i(t){this.name=t,this.canvas=null,this.svgcanvas=null}n.r(e),n.d(e,"default",function(){return i})},"./src/graphics/PdfGraphics.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var a=n("./src/graphics/Placeholder.js"),s=n("./src/enums.js"),p=n("./src/graphics/structs/Rect.js"),r=n("./src/graphics/structs/Size.js"),m=n("./src/events/RenderEventArgs.js");function i(t){this._doc=t,this._context=this._doc,this.m_placeholders={},this.m_activePlaceholder=null,this.saveCounter=0}i.prototype.clean=function(){for(;this.saveCounter;)this.saveCounter--,this._doc.restore()},i.prototype.resize=function(t,e,n){var i=this.m_placeholders[t];i||((i=new a.default(t)).size=new r.default(0,0),i.rect=new p.default(0,0,0,0),this.m_placeholders[t]=i),i.size=new r.default(e,n),i.rect=new p.default(i.rect.x,i.rect.y,e,n)},i.prototype.position=function(t,e,n,i,a){this.resize(t,i,a);t=this.m_placeholders[t];t.rect.x=e,t.rect.y=n},i.prototype.begin=function(){},i.prototype.end=function(){},i.prototype.reset=function(t,e){},i.prototype.activate=function(t,e){this.m_placeholders[t]||this.resize(t,0,0),this.m_activePlaceholder=this.m_placeholders[t];for(var n=this.m_activePlaceholder.rect,t=n.x,n=n.y;this.saveCounter;)this.saveCounter--,this._doc.restore();return this._doc.save(),this.saveCounter++,this._doc.translate(t,n),this.m_activePlaceholder},i.prototype.text=function(t,e,n,i,a,s,r,o,l){},i.prototype.polylinesBuffer=function(t){t.loop(this,function(t){0<t.length()&&this.polyline(t)})},i.prototype.polyline=function(t){this.m_activePlaceholder;var e,n,i=t.paletteItem.toAttr(),a=this._doc;if(a.save(),t.loop(this,function(t){switch(t.segmentType){case s.SegmentType.Move:a.moveTo(Math.round(t.x)+.5,Math.round(t.y)+.5);break;case s.SegmentType.Line:a.lineTo(Math.round(t.x)+.5,Math.round(t.y)+.5);break;case s.SegmentType.Dot:t.width==t.height&&t.width/2<=t.cornerRadius?a.roundedRect(Math.round(t.x)+.5,Math.round(t.y)+.5,t.width,t.height,Math.min(t.width,t.height)/2):0===t.cornerRadius?(a.moveTo(Math.round(t.x)+.5,Math.round(t.y)+.5),a.lineTo(Math.round(t.x+t.width)+.5,Math.round(t.y)+.5),a.lineTo(Math.round(t.x+t.width)+.5,Math.round(t.y+t.height)+.5),a.lineTo(Math.round(t.x)+.5,Math.round(t.y+t.height)+.5),a.lineTo(Math.round(t.x)+.5,Math.round(t.y)+.5)):(n=Math.min(t.cornerRadius,Math.min(t.width/2,t.height/2)),a.roundedRect(Math.round(t.x)+.5,Math.round(t.y)+.5,t.width,t.height,n));break;case s.SegmentType.QuadraticArc:a.quadraticCurveTo(Math.round(t.cpX)+.5,Math.round(t.cpY)+.5,Math.round(t.x)+.5,Math.round(t.y)+.5);break;case s.SegmentType.CubicArc:a.bezierCurveTo(Math.round(t.cpX1)+.5,Math.round(t.cpY1)+.5,Math.round(t.cpX2)+.5,Math.round(t.cpY2)+.5,Math.round(t.x)+.5,Math.round(t.y)+.5)}}),a.lineJoin("round"),null!=i.lineType)switch(e=Math.round(i.lineWidth)||1,i.lineType){case s.LineType.Solid:break;case s.LineType.Dotted:a.dash(e,2*e);break;case s.LineType.Dashed:a.dash(5*e,3*e)}void 0!==i.lineWidth&&void 0!==i.fillColor?a.lineWidth(i.lineWidth).fillColor(i.fillColor,i.opacity).strokeColor(i.borderColor).fillAndStroke():void 0!==i.lineWidth?a.lineWidth(i.lineWidth).stroke(i.borderColor):void 0!==i.fillColor&&a.fillColor(i.fillColor,i.opacity),a.restore()},i.prototype.rightAngleLine=function(t,e,n,i,a){},i.prototype.template=function(t,e,n,i,a,s,r,o,l,u,c,d,h){var f=0;null!==h&&void 0!==h.borderWidth&&(f=this.getPxSize(h.borderWidth));f=new p.default(t+a,e+s,r-f,o-f);null==d&&(d=new m.default),null!==c&&c(this._doc,f,d)},i.prototype.getPxSize=function(t,e){var n=t;return"string"==typeof t&&(n=0<t.indexOf("pt")?96*parseInt(t,10)/72:0<t.indexOf("%")?parseFloat(t)/100*e:parseInt(t,10)),n}},"./src/graphics/Placeholder.js":function(t,e,n){"use strict";function i(t){this.name=t,this.layers={},this.activeLayer=null,this.size=null,this.rect=null,this.div=null}n.r(e),n.d(e,"default",function(){return i})},"./src/graphics/SvgGraphics.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/graphics/Graphics.js"),o=n("./src/graphics/Element.js"),l=n("./src/enums.js"),u=n("./src/common/jsonml-html.js");function a(t){this.parent=i.default.prototype,this.parent.constructor.apply(this,arguments),this._svgxmlns="http://www.w3.org/2000/svg"}(a.prototype=new i.default).clean=function(){var t,e,n,i;for(t in this.m_placeholders)if(this.m_placeholders.hasOwnProperty(t))for(n in(e=this.m_placeholders[t]).layers)e.layers.hasOwnProperty(n)&&null!==(i=e.layers[n]).svgcanvas&&(i.svgcanvas.parentNode.removeChild(i.svgcanvas),i.svgcanvas=null);this.parent.clean.apply(this,arguments)},a.prototype.resizePlaceholder=function(t,e,n,i,a){var s,r;for(s in this.parent.resizePlaceholder.apply(this,arguments),t.layers)t.layers.hasOwnProperty(s)&&null!==(r=t.layers[s]).svgcanvas&&(u.default.applyStyles(r.svgcanvas,{position:"absolute",width:i+"px",height:a+"px"}),r.svgcanvas.setAttribute("viewBox","0 0 "+i+" "+a))},a.prototype._getCanvas=function(){var t=this.m_activePlaceholder,e=t.activeLayer,n=t.rect;return null===e.svgcanvas&&(e.svgcanvas=document.createElementNS(this._svgxmlns,"svg"),e.svgcanvas.setAttribute("viewBox",n.x+" "+n.y+" "+n.width+" "+n.height),u.default.applyStyles(e.svgcanvas,{width:n.width+"px",height:n.height+"px"}),this.prepend(t.activeLayer.canvas,e.svgcanvas)),e.svgcanvas},a.prototype.polyline=function(t){var e,n,i,a=this.m_activePlaceholder,s=t.paletteItem.toAttr(),r=new o.default(this._svgxmlns,"path");if(void 0!==s.fillColor?(r.setAttribute("fill",s.fillColor),r.setAttribute("fill-opacity",s.opacity)):r.setAttribute("fill-opacity",0),void 0!==s.lineWidth&&void 0!==s.borderColor?(r.setAttribute("stroke",s.borderColor),r.setAttribute("stroke-width",s.lineWidth),void 0!==s.opacity?r.setAttribute("stroke-opacity",s.opacity):r.setAttribute("stroke-opacity",1)):(r.setAttribute("stroke","transparent"),r.setAttribute("stroke-width",0)),null!=s.lineType)switch(n=Math.round(s.lineWidth)||1,s.lineType){case l.LineType.Solid:r.setAttribute("stroke-dasharray","");break;case l.LineType.Dotted:r.setAttribute("stroke-dasharray",n+","+n);break;case l.LineType.Dashed:r.setAttribute("stroke-dasharray",5*n+","+3*n)}e="",t.loop(this,function(t){switch(t.segmentType){case l.SegmentType.Move:e+="M"+(Math.round(t.x)+.5)+" "+(Math.round(t.y)+.5);break;case l.SegmentType.Line:e+="L"+(Math.round(t.x)+.5)+" "+(Math.round(t.y)+.5);break;case l.SegmentType.QuadraticArc:e+="Q"+(Math.round(t.cpX)+.5)+" "+(Math.round(t.cpY)+.5)+" "+(Math.round(t.x)+.5)+" "+(Math.round(t.y)+.5);break;case l.SegmentType.Dot:t.width==t.height&&t.width/2<=t.cornerRadius?(i=t.width/2,e+="M"+(Math.round(t.x)+.5)+" "+(Math.round(t.y)+t.height/2+.5),e+="A"+i+" "+i+" 0 0 0 "+(Math.round(t.x+t.width)+.5)+" "+(Math.round(t.y)+t.height/2+.5),e+="A"+i+" "+i+" 0 0 0 "+(Math.round(t.x)+.5)+" "+(Math.round(t.y)+t.height/2+.5)):0===t.cornerRadius?(e+="M"+(Math.round(t.x)+.5)+" "+(Math.round(t.y)+.5),e+="L"+(Math.round(t.x+t.width)+.5)+" "+(Math.round(t.y)+.5),e+="L"+(Math.round(t.x+t.width)+.5)+" "+(Math.round(t.y+t.height)+.5),e+="L"+(Math.round(t.x)+.5)+" "+(Math.round(t.y+t.height)+.5),e+="L"+(Math.round(t.x)+.5)+" "+(Math.round(t.y)+.5)):(i=Math.min(t.cornerRadius,Math.min(t.width/2,t.height/2)),e+="M"+(Math.round(t.x)+.5)+" "+(Math.round(t.y+i)+.5),e+="A"+Math.round(i)+" "+Math.round(i)+" 0 0 1 "+(Math.round(t.x+i)+.5)+" "+(Math.round(t.y)+.5),e+="L"+(Math.round(t.x+t.width-i)+.5)+" "+(Math.round(t.y)+.5),e+="A"+Math.round(i)+" "+Math.round(i)+" 0 0 1 "+(Math.round(t.x+t.width)+.5)+" "+(Math.round(t.y+i)+.5),e+="L"+(Math.round(t.x+t.width)+.5)+" "+(Math.round(t.y+t.height-i)+.5),e+="A"+Math.round(i)+" "+Math.round(i)+" 0 0 1 "+(Math.round(t.x+t.width-i)+.5)+" "+(Math.round(t.y+t.height)+.5),e+="L"+(Math.round(t.x+i)+.5)+" "+(Math.round(t.y+t.height)+.5),e+="A"+Math.round(i)+" "+Math.round(i)+" 0 0 1 "+(Math.round(t.x)+.5)+" "+(Math.round(t.y+t.height-i)+.5),e+="L"+(Math.round(t.x)+.5)+" "+(Math.round(t.y+i)+.5));break;case l.SegmentType.CubicArc:e+="C"+(Math.round(t.cpX1)+.5)+" "+(Math.round(t.cpY1)+.5)+" "+(Math.round(t.cpX2)+.5)+" "+(Math.round(t.cpY2)+.5)+" "+(Math.round(t.x)+.5)+" "+(Math.round(t.y)+.5)}}),r.setAttribute("d",e),null===(t=this.m_cache.get(a.name,a.activeLayer.name,"path"))?(t=r.create(),this._getCanvas().appendChild(t),this.m_cache.put(a.name,a.activeLayer.name,"path",t)):r.update(t)}},"./src/graphics/Transform.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/enums.js"),r=n("./src/graphics/structs/Thickness.js");function a(){this.invertArea=!1,this.invertHorizontally=!1,this.invertVertically=!1,this.size=null}a.prototype.setOrientation=function(t){switch(t){case i.OrientationType.Top:this.invertArea=!1,this.invertHorizontally=!1,this.invertVertically=!1;break;case i.OrientationType.Bottom:this.invertArea=!1,this.invertHorizontally=!1,this.invertVertically=!0;break;case i.OrientationType.Left:this.invertArea=!0,this.invertHorizontally=!1,this.invertVertically=!1;break;case i.OrientationType.Right:this.invertArea=!0,this.invertHorizontally=!0,this.invertVertically=!1}},a.prototype.getOrientation=function(t){var e=t;if(this.invertHorizontally)switch(t){case i.OrientationType.Left:e=i.OrientationType.Right;break;case i.OrientationType.Right:e=i.OrientationType.Left}if(this.invertVertically)switch(t){case i.OrientationType.Top:e=i.OrientationType.Bottom;break;case i.OrientationType.Bottom:e=i.OrientationType.Top}if(this.invertArea)switch(e){case i.OrientationType.Top:e=i.OrientationType.Left;break;case i.OrientationType.Bottom:e=i.OrientationType.Right;break;case i.OrientationType.Left:e=i.OrientationType.Top;break;case i.OrientationType.Right:e=i.OrientationType.Bottom}return e},a.prototype.transformPoint=function(t,e,n,i,a){var s;n&&this.invertArea&&(s=t,t=e,e=s),this.invertHorizontally&&(t=this.size.width-t),this.invertVertically&&(e=this.size.height-e),n||this.invertArea&&(s=t,t=e,e=s),a.call(i,t,e)},a.prototype.transformPoints=function(t,e,n,i,a,s,r){var o;a&&this.invertArea&&(o=t,t=e,e=o,o=n,n=i,i=o),this.invertHorizontally&&(t=this.size.width-t,n=this.size.width-n),this.invertVertically&&(e=this.size.height-e,i=this.size.height-i),a||this.invertArea&&(o=t,t=e,e=o,o=n,n=i,i=o),r.call(s,t,e,n,i)},a.prototype.transform3Points=function(t,e,n,i,a,s,r,o,l){var u;r&&this.invertArea&&(u=t,t=e,e=u,u=n,n=i,i=u,u=a,a=s,s=u),this.invertHorizontally&&(t=this.size.width-t,n=this.size.width-n,a=this.size.width-a),this.invertVertically&&(e=this.size.height-e,i=this.size.height-i,s=this.size.height-s),r||this.invertArea&&(u=t,t=e,e=u,u=n,n=i,i=u,u=a,a=s,s=u),l.call(o,t,e,n,i,a,s)},a.prototype.transformRect=function(t,e,n,i,a,s,r){var o;a&&this.invertArea&&(o=t,t=e,e=o,o=n,n=i,i=o),this.invertHorizontally&&(t=this.size.width-t-n),this.invertVertically&&(e=this.size.height-e-i),a||this.invertArea&&(o=t,t=e,e=o,o=n,n=i,i=o),r.call(s,t,e,n,i)},a.prototype.transformThickness=function(t,e){var n,i=t.left,a=t.right,s=t.top,t=t.bottom;return e&&this.invertArea&&(n=i,i=s,s=n,n=a,a=t,t=n),this.invertHorizontally&&(n=i,i=a,a=n),this.invertVertically&&(n=s,s=t,t=n),e||this.invertArea&&(n=i,i=s,s=n,n=a,a=t,t=n),new r.default(i,s,a,t)}},"./src/graphics/createGraphics.js":function(t,e,n){"use strict";n.r(e),n.d(e,"isChrome",function(){return a}),n.d(e,"default",function(){return s});var i=n("./src/graphics/SvgGraphics.js");function a(){return null!=navigator&&(/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))}function s(t){return new i.default(t)}},"./src/graphics/dom.js":function(t,e,n){"use strict";n.r(e),n.d(e,"getElementsByName",function(){return a}),n.d(e,"getFixOfPixelAlignment",function(){return s}),n.d(e,"getElementOffset",function(){return r}),n.d(e,"hasClass",function(){return o}),n.d(e,"stopPropagation",function(){return l}),n.d(e,"getInnerSize",function(){return u});var i=n("./src/graphics/structs/Size.js");function a(t,e,n,i){for(var a=e.getElementsByTagName("*"),s=0;s<a.length;s+=1){var r=a[s];r.name==n&&i.call(t,r)}}function s(t){var e=t.getBoundingClientRect(),t=e.top+document.body.scrollTop,e=e.left+document.body.scrollLeft;return new i.default(-e+Math.floor(e),-t+Math.floor(t))}function r(t){var e=t.getBoundingClientRect(),t=t.ownerDocument.documentElement;return{top:e.top+window.pageYOffset-t.clientTop,left:e.left+window.pageXOffset-t.clientLeft}}function o(t,e){t=t.className;if(null!=t&&"string"==typeof t)for(var n=t.split(" "),i=0;i<n.length;i+=1)if(n[i]==e)return!0;return!1}function l(t){void 0!==t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble?t.cancelBubble=!0:void 0!==t.preventDefault&&t.preventDefault()}function u(t){t=window.getComputedStyle(t);return new i.default(parseInt(t.width,10),parseInt(t.height,10))}},"./src/graphics/shapes/BaseShape.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var u=n("./src/graphics/structs/Rect.js"),a=n("./src/graphics/structs/Point.js"),c=n("./src/enums.js");function i(){}i.prototype._getLabelPosition=function(t,e,n,i,a,s,r,o){var l=null;switch(o){case c.PlacementType.Top:l=new u.default(t+n/2-a/2,e-r-s,a,s);break;case c.PlacementType.TopRight:l=new u.default(t+n-a,e-r-s,a,s);break;case c.PlacementType.TopLeft:l=new u.default(t,e-r-s,a,s);break;case c.PlacementType.Right:l=new u.default(t+n+r,e+i/2-s/2,a,s);break;case c.PlacementType.RightTop:l=new u.default(t+n+r,e,a,s);break;case c.PlacementType.RightBottom:l=new u.default(t+n+r,e+i-s,a,s);break;case c.PlacementType.BottomRight:l=new u.default(t+n-a,e+i+r,a,s);break;case c.PlacementType.BottomLeft:l=new u.default(t,e+i+r,a,s);break;case c.PlacementType.Left:l=new u.default(t-a-r,e+i/2-s/2,a,s);break;case c.PlacementType.LeftTop:l=new u.default(t-a-r,e,a,s);break;case c.PlacementType.LeftBottom:l=new u.default(t-a-r,e+i-s,a,s);break;case c.PlacementType.Auto:case c.PlacementType.Bottom:default:l=new u.default(t+n/2-a/2,e+i+r,a,s)}return l},i.prototype._betweenPoint=function(t,e){return new a.default((t.x+e.x)/2,(t.y+e.y)/2)},i.prototype._offsetPoint=function(t,e,n){var i=t.distanceTo(e);return 0===i||0===n?new a.default(t):new a.default(t.x+(e.x-t.x)/i*n,t.y+(e.y-t.y)/i*n)}},"./src/graphics/shapes/Callout.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var e=n("./src/graphics/shapes/BaseShape.js"),h=n("./src/graphics/structs/Point.js"),f=n("./src/graphics/structs/Rect.js"),c=n("./src/graphics/structs/MoveSegment.js"),d=n("./src/graphics/structs/LineSegment.js"),p=n("./src/graphics/structs/QuadraticArcSegment.js"),m=n("./src/graphics/structs/PaletteItem.js"),g=n("./src/graphics/structs/PolylinesBuffer.js"),T=n("./src/enums.js");function i(t){this.m_graphics=t,this.pointerPlacement=T.PlacementType.Auto,this.cornerRadius="10%",this.offset=0,this.opacity=1,this.lineWidth=1,this.pointerWidth="10%",this.borderColor=T.Colors.Black,this.lineType=T.LineType.Solid,this.fillColor=T.Colors.LightGray,this.m_map=[[T.PlacementType.TopLeft,T.PlacementType.Left,T.PlacementType.BottomLeft],[T.PlacementType.Top,null,T.PlacementType.Bottom],[T.PlacementType.TopRight,T.PlacementType.Right,T.PlacementType.BottomRight]]}(i.prototype=new e.default).draw=function(t,e){e=new f.default(e).offset(this.offset);var n,i,a,s,r=new h.default(e.x,e.y),o=new h.default(e.right(),e.y),l=new h.default(e.right(),e.bottom()),u=[null,null,null,null,null,null,null,null],c=[r,o,l,new h.default(e.left(),e.bottom())],d=this.m_graphics.getPxSize(this.cornerRadius,Math.min(r.distanceTo(o),o.distanceTo(l))),e={};for(null!==this.fillColor&&(e.fillColor=this.fillColor,e.opacity=this.opacity),null!==this.lineColor&&(e.lineColor=this.borderColor),e.lineWidth=this.lineWidth,e.lineType=this.lineType,o=new m.default(e),s=(e=new g.default).getPolyline(o),null!==t&&null!==(n=this.pointerPlacement===T.PlacementType.Auto?this._getPlacement(t,r,l):this.pointerPlacement)&&(u[n]=t),a=0;a<c.length;a+=1)this._drawSegment(s,c[0],c[1],c[2],this.pointerWidth,d,u[1],u[2]),i=c.shift(),c.push(i),i=u.shift(),u.push(i),i=u.shift(),u.push(i);this.m_graphics.polylinesBuffer(e)},i.prototype._getPlacement=function(t,e,n){var i=null,a=null,i=t.x<e.x?0:t.x>n.x?2:1,a=t.y<e.y?0:t.y>n.y?2:1;return this.m_map[i][a]},i.prototype._drawSegment=function(t,e,n,i,a,s,r,o){var l=this._offsetPoint(e,n,s),u=this._offsetPoint(n,e,s),s=this._offsetPoint(n,i,s);a=this.m_graphics.getPxSize(a,e.distanceTo(n)/2),0===t.length()&&t.addSegment(new c.default(l)),null!==r&&(l=this._betweenPoint(e,n),e=this._offsetPoint(l,e,a),a=this._offsetPoint(l,n,a),t.addSegment(new d.default(e)),t.addSegment(new d.default(r)),t.addSegment(new d.default(a))),t.addSegment(new d.default(u)),null!==o?(t.addSegment(new d.default(o)),t.addSegment(new d.default(s))):t.addSegment(new p.default(n,s))}},"./src/graphics/shapes/ConnectorOffbeat.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var e=n("./src/graphics/shapes/BaseShape.js"),L=n("./src/graphics/structs/Point.js"),z=n("./src/graphics/structs/Rect.js"),M=n("./src/graphics/structs/MoveSegment.js"),F=n("./src/graphics/structs/QuadraticArcSegment.js"),R=n("./src/enums.js");function i(){}(i.prototype=new e.default).draw=function(e,n,t,i,a,s,r,o,l,u,c,d,h,f,p){var m,g,T,y,k,v,C,w,b,O,P,j=R.PlacementType.Auto,S=R.PlacementType.Auto,A=null,I=e.getPolyline(n),x=[];switch(l){case R.ConnectorShapeType.TwoWay:P=!(x=[-a/2,a/2]);break;case R.ConnectorShapeType.OneWay:P=!(x=[0]);break;case R.ConnectorShapeType.BothWay:x=[0],P=!0}if(m=Math.max(d?r.width:0,5*a),t.right()+m<i.left()||t.left()>i.right()+m)if(y=t.left()>i.right()?(T=new L.default(t.left(),t.verticalCenter()),new L.default(i.right(),i.verticalCenter())):(T=new L.default(t.right(),t.verticalCenter()),new L.default(i.left(),i.verticalCenter())),d&&(S=t.left()>i.right()?(j=R.PlacementType.Left,R.PlacementType.Right):(j=R.PlacementType.Right,R.PlacementType.Left)),g=new z.default(T,y),O=T.y<=y.y,b=T.x<y.x,g.height<g.width){for(g.height<2*a&&g.offset(0,O?2*a:0,0,O?0:2*a),v=0,C=x.length;v<C;v+=1)w=x[v],e.addInverted(function(t){t=t.getPolyline(n);t.addSegment(new M.default(T.x,T.y+w)),t.addSegment(new F.default(g.horizontalCenter(),(O?g.top():g.bottom())+w,y.x,y.y+w)),P&&t.addArrow(n.lineWidth,function(t){t.mergeTo(e.getPolyline(t.paletteItem))})},v||l==R.ConnectorShapeType.OneWay),I.addArrow(n.lineWidth,function(t){t.mergeTo(e.getPolyline(t.paletteItem))});d&&(k=r.width<g.width/5*2?F.default.prototype.offsetPoint(T.x,T.y,g.horizontalCenter(),O?g.top():g.bottom(),y.x,y.y,.5):new L.default(T.x,O?g.top():g.bottom()),A=new z.default(k.x+(b?a:-r.width-a),O?k.y-r.height-a:k.y+a,r.width,r.height))}else{for(v=0,C=x.length;v<C;v+=1)w=x[v],e.addInverted(function(t){t=t.getPolyline(n);t.addSegment(new M.default(T.x,T.y+w)),t.addSegment(new F.default(g.horizontalCenter()+w*(O!=b?1:-1),(O?g.top():g.bottom())+w,g.horizontalCenter()+w*(O!=b?1:-1),g.verticalCenter()+w)),t.addSegment(new F.default(g.horizontalCenter()+w*(O!=b?1:-1),(O?g.bottom():g.top())+w,y.x,y.y+w)),P&&t.addArrow(n.lineWidth,function(t){t.mergeTo(e.getPolyline(t.paletteItem))})},v||l==R.ConnectorShapeType.OneWay),I.addArrow(n.lineWidth,function(t){t.mergeTo(e.getPolyline(t.paletteItem))});d&&(A=new z.default(g.horizontalCenter()+(O!=b?a:-(a+r.width)),g.verticalCenter()-r.height/2,r.width,r.height))}else if(t.verticalCenter()<i.top()||t.verticalCenter()>i.bottom()){for(b=t.x<o.width/2,T=new L.default(b?t.right():t.left(),t.verticalCenter()),y=new L.default(b?i.right():i.left(),i.verticalCenter()),(g=new z.default(T,y)).offset(10*a,0,10*a,0),O=T.y<=y.y,v=0,C=x.length;v<C;v+=1)w=x[v],e.addInverted(function(t){t=t.getPolyline(n);t.addSegment(new M.default(T.x,T.y+w)),t.addSegment(new F.default(b?g.right()+w*(O?-1:1):g.left()-w*(O?-1:1),g.verticalCenter(),b?i.right():i.left(),i.verticalCenter()-w)),P&&t.addArrow(n.lineWidth,function(t){t.mergeTo(e.getPolyline(t.paletteItem))})},v||l==R.ConnectorShapeType.OneWay),I.addArrow(n.lineWidth,function(t){t.mergeTo(e.getPolyline(t.paletteItem))});d&&(S=j=b?R.PlacementType.Right:R.PlacementType.Left,k=F.default.prototype.offsetPoint(T.x,T.y,b?g.right():g.left(),g.verticalCenter(),y.x,y.y,.5),A=new z.default(k.x+(b?a/2:-a/2-r.width),k.y-r.height/2,r.width,r.height))}else{for(T=new L.default(t.horizontalCenter(),t.top()),y=new L.default(i.horizontalCenter(),i.top()),(g=new z.default(T,y)).offset(0,7*a,0,0),b=T.x<y.x,v=0,C=x.length;v<C;v+=1)w=x[v],e.addInverted(function(t){t=t.getPolyline(n);t.addSegment(new M.default(T.x+w,T.y)),t.addSegment(new F.default(g.horizontalCenter(),g.top()-w*(b?-1:1),i.horizontalCenter()-w,i.top())),P&&t.addArrow(n.lineWidth,function(t){t.mergeTo(e.getPolyline(t.paletteItem))})},v||l==R.ConnectorShapeType.OneWay),I.addArrow(n.lineWidth,function(t){t.mergeTo(e.getPolyline(t.paletteItem))});d&&(j=R.PlacementType.Top,S=R.PlacementType.Top,k=F.default.prototype.offsetPoint(T.x,T.y,g.horizontalCenter(),g.top(),y.x,y.y,.5),A=new z.default(k.x-r.width/2,k.y-(u+r.height),r.width,r.height))}if(d)switch(c){case R.ConnectorLabelPlacementType.From:A=this._getLabelPosition(t.x,t.y,t.width,t.height,A.width,A.height,u,j);break;case R.ConnectorLabelPlacementType.To:A=this._getLabelPosition(i.x,i.y,i.width,i.height,A.width,A.height,u,S)}null!=f&&f(A,p)}},"./src/graphics/shapes/ConnectorStraight.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var e=n("./src/graphics/shapes/BaseShape.js"),o=n("./src/graphics/structs/Rect.js"),j=n("./src/graphics/structs/Vector.js"),r=n("./src/graphics/structs/MoveSegment.js"),l=n("./src/graphics/structs/LineSegment.js"),S=n("./src/enums.js");function i(){}(i.prototype=new e.default).draw=function(i,a,t,e,n,s,r,o,l,u,c,d,h,f,p){var m,g,T,y,k,v=n/2,C=null,w=S.PlacementType.Auto,b=S.PlacementType.Auto,O=this,P=new j.default(t.centerPoint(),e.centerPoint());t.loopEdges(function(t,e){return m=t.getIntersectionPoint(P,!0,1),w=e,null!=m}),e.loopEdges(function(t,e){return g=t.getIntersectionPoint(P,!0,1),b=e,null!=g}),null!=m&&null!=g&&(k=new j.default(m,g),h.getOffset(k,function(t,e,n){n*=t*s-(e-1)*s/2;switch(k.offset(n),m=k.from,g=k.to,l){case S.ConnectorShapeType.TwoWay:(y=new j.default(g.clone(),m.clone())).offset(v),O._drawLine(i,a,y.from,y.to,!1),(y=new j.default(m.clone(),g.clone())).offset(v),O._drawLine(i,a,y.from,y.to,!1);break;case S.ConnectorShapeType.OneWay:O._drawLine(i,a,m,g,!1);break;case S.ConnectorShapeType.BothWay:O._drawLine(i,a,m,g,!0)}if(d){switch(c){case S.ConnectorLabelPlacementType.From:C=O._getLabelPositionBySnapPoint(m.x,m.y,r.width,r.height,u,w);break;case S.ConnectorLabelPlacementType.Between:T=O._betweenPoint(m,g),C=O._getLabelPositionBySnapPoint(T.x,T.y,r.width,r.height,u,S.PlacementType.Right);break;case S.ConnectorLabelPlacementType.To:C=O._getLabelPositionBySnapPoint(g.x,g.y,r.width,r.height,u,b)}null!=f&&f.call(this,C,p)}}))},i.prototype._drawLine=function(e,n,i,a,t){var s;e.addInverted(function(t){(s=t.getPolyline(n)).addSegment(new r.default(i)),s.addSegment(new l.default(a)),s.addArrow(n.lineWidth,function(t){t.mergeTo(e.getPolyline(t.paletteItem))})},!1),t&&(s=e.getPolyline(n)).addArrow(n.lineWidth,function(t){t.mergeTo(e.getPolyline(t.paletteItem))})},i.prototype._getLabelPositionBySnapPoint=function(t,e,n,i,a,s){var r=null;switch(s){case S.PlacementType.Auto:case S.PlacementType.Top:r=new o.default(t-n/2,e-a-i,n,i);break;case S.PlacementType.Right:r=new o.default(t+a,e-i/2,n,i);break;case S.PlacementType.Bottom:r=new o.default(t-n/2,e+a,n,i);break;case S.PlacementType.Left:r=new o.default(t-n-a,e-i/2,n,i)}return r}},"./src/graphics/shapes/Marker.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return o});var i=n("./src/graphics/structs/Rect.js"),a=n("./src/graphics/structs/MoveSegment.js"),s=n("./src/graphics/structs/LineSegment.js"),r=n("./src/graphics/structs/CubicArcSegment.js"),n=n("./src/enums.js");function o(){}o.Markers={},o.DrawCircle=function(t,e){var n=Math.min(e.width/2,e.height/2);e=new i.default(e.horizontalCenter()-n,e.verticalCenter()-n,2*n,2*n),o.DrawOval(t,e)},o.DrawRectangle=function(t,e){t.addSegment(new a.default(e.x,e.verticalCenter())),t.addSegment(new s.default(e.x,e.y)),t.addSegment(new s.default(e.right(),e.y)),t.addSegment(new s.default(e.right(),e.bottom())),t.addSegment(new s.default(e.x,e.bottom())),t.addSegment(new s.default(e.x,e.verticalCenter()))},o.DrawOval=function(t,e){var n=e.width/2*.5522848,i=e.height/2*.5522848;t.addSegment(new a.default(e.x,e.verticalCenter())),t.addSegment(new r.default(e.x,e.verticalCenter()-i,e.horizontalCenter()-n,e.y,e.horizontalCenter(),e.y)),t.addSegment(new r.default(e.horizontalCenter()+n,e.y,e.right(),e.verticalCenter()-i,e.right(),e.verticalCenter())),t.addSegment(new r.default(e.right(),e.verticalCenter()+i,e.horizontalCenter()+n,e.bottom(),e.horizontalCenter(),e.bottom())),t.addSegment(new r.default(e.horizontalCenter()-n,e.bottom(),e.x,e.verticalCenter()+i,e.x,e.verticalCenter()))},o.DrawTriangle=function(t,e){t.addSegment(new a.default(e.left(),e.bottom())),t.addSegment(new s.default(e.horizontalCenter(),e.y)),t.addSegment(new s.default(e.right(),e.bottom())),t.addSegment(new s.default(e.left(),e.bottom()))},o.DrawCrossOut=function(t,e){t.addSegment(new a.default(e.horizontalCenter(),e.verticalCenter())),t.addSegment(new s.default(e.x,e.y)),t.addSegment(new a.default(e.horizontalCenter(),e.verticalCenter())),t.addSegment(new s.default(e.right(),e.bottom())),t.addSegment(new a.default(e.horizontalCenter(),e.verticalCenter())),t.addSegment(new s.default(e.right(),e.y)),t.addSegment(new a.default(e.horizontalCenter(),e.verticalCenter())),t.addSegment(new s.default(e.left(),e.bottom()))},o.DrawRhombus=function(t,e){t.addSegment(new a.default(e.horizontalCenter(),e.bottom())),t.addSegment(new s.default(e.left(),e.verticalCenter())),t.addSegment(new s.default(e.horizontalCenter(),e.y)),t.addSegment(new s.default(e.right(),e.verticalCenter())),t.addSegment(new s.default(e.horizontalCenter(),e.bottom()))},o.DrawWedge=function(t,e){t.addSegment(new a.default(e.horizontalCenter(),e.y)),t.addSegment(new s.default(e.right(),e.y)),t.addSegment(new s.default(e.horizontalCenter(),e.bottom())),t.addSegment(new s.default(e.left(),e.y)),t.addSegment(new s.default(e.horizontalCenter(),e.y))},o.DrawFramedOval=function(t,e){o.DrawRectangle(t,e),o.DrawOval(t,e)},o.DrawFramedTriangle=function(t,e){o.DrawRectangle(t,e),o.DrawTriangle(t,e)},o.DrawFramedWedge=function(t,e){o.DrawRectangle(t,e),o.DrawWedge(t,e)},o.DrawFramedRhombus=function(t,e){o.DrawRectangle(t,e),o.DrawRhombus(t,e)},o.DrawNone=function(t,e){},o.Markers[n.ShapeType.Circle]=o.DrawCircle,o.Markers[n.ShapeType.Rectangle]=o.DrawRectangle,o.Markers[n.ShapeType.Oval]=o.DrawOval,o.Markers[n.ShapeType.Triangle]=o.DrawTriangle,o.Markers[n.ShapeType.CrossOut]=o.DrawCrossOut,o.Markers[n.ShapeType.Rhombus]=o.DrawRhombus,o.Markers[n.ShapeType.Wedge]=o.DrawWedge,o.Markers[n.ShapeType.FramedOval]=o.DrawFramedOval,o.Markers[n.ShapeType.FramedTriangle]=o.DrawFramedTriangle,o.Markers[n.ShapeType.FramedWedge]=o.DrawFramedWedge,o.Markers[n.ShapeType.FramedRhombus]=o.DrawFramedRhombus,o.Markers[n.ShapeType.None]=o.DrawNone,o.prototype.draw=function(t,e,n,i){i=t.getPolyline(i);o.Markers[e](i,n)}},"./src/graphics/shapes/MergedRectangles.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return u});var e=n("./src/graphics/shapes/BaseShape.js"),i=n("./src/graphics/structs/Polyline.js"),s=n("./src/graphics/structs/PaletteItem.js"),r=n("./src/graphics/structs/MoveSegment.js"),o=n("./src/graphics/structs/LineSegment.js"),a=n("./src/enums.js"),l=n("./src/algorithms/getMergedRectangles.js");function u(t){this.graphics=t,this.transform=null,this.lineWidth=1,this.opacity=1,this.fillColor=null,this.lineType=a.LineType.Solid,this.borderColor=null}(u.prototype=new e.default).draw=function(t){var e=new s.default({lineColor:this.borderColor,lineWidth:this.lineWidth,fillColor:this.fillColor,lineType:this.lineType,opacity:this.opacity}),a=new i.default(e);Object(l.default)(this,t,function(t){for(var e=0,n=t.length;e<n;e+=1){var i=t[e];0==e?a.addSegment(new r.default(i.x,i.y)):a.addSegment(new o.default(i.x,i.y))}}),a.transform(this.transform,!0),this.graphics.polyline(a)}},"./src/graphics/shapes/Shape.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var e=n("./src/graphics/shapes/BaseShape.js"),r=n("./src/graphics/shapes/Callout.js"),o=n("./src/graphics/shapes/Marker.js"),i=n("./src/graphics/structs/Size.js"),l=n("./src/graphics/structs/Rect.js"),a=n("./src/graphics/structs/Thickness.js"),u=n("./src/graphics/structs/PaletteItem.js"),c=n("./src/graphics/Transform.js"),d=n("./src/graphics/structs/PolylinesBuffer.js"),h=n("./src/enums.js");function s(t){this.m_graphics=t,this.transform=null,this.orientationType=h.OrientationType.Top,this.panelSize=null,this.shapeType=h.ShapeType.Rectangle,this.offset=new a.default(0,0,0,0),this.lineWidth=1,this.labelOffset=4,this.cornerRadius="10%",this.opacity=1,this.fillColor=null,this.labelSize=new i.default(60,30),this.lineType=h.LineType.Solid,this.borderColor=null,this.hasLabel=!1,this.labelTemplate=null,this.labelPlacement=h.PlacementType.Auto}(s.prototype=new e.default).draw=function(a,t){var e,n,i,s;a=new l.default(a).offset(this.offset),this.transform=new c.default,this.transform.size=this.panelSize,this.transform.setOrientation(this.orientationType),this.hasLabel&&(e=this._getLabelPosition(a.x,a.y,a.width,a.height,this.labelSize.width,this.labelSize.height,this.labelOffset,this.labelPlacement)),this.shapeType===h.ShapeType.Rectangle?((i=new r.default(this.m_graphics)).cornerRadius=this.cornerRadius,i.opacity=this.opacity,i.lineWidth=this.lineWidth,i.lineType=this.lineType,i.borderColor=this.borderColor,i.fillColor=this.fillColor,i.draw(null,a)):(n=new u.default({lineColor:this.borderColor,lineWidth:this.lineWidth,lineType:this.lineType,fillColor:this.fillColor,opacity:this.opacity}),this.transform.transformRect(a.x,a.y,a.width,a.height,!1,this,function(t,e,n,i){a=new l.default(t,e,n,i)}),s=new o.default,i=new d.default,s.draw(i,this.shapeType,a,n),i.transform(this.transform,!0),this.m_graphics.polylinesBuffer(i)),this.hasLabel&&this.m_graphics.template(e.x,e.y,0,0,0,0,e.width,e.height,this.labelTemplate.template(),this.labelTemplate.getHashCode(),this.labelTemplate.render,t,null)}},"./src/graphics/structs/CubicArcSegment.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var u=n("./src/graphics/structs/Point.js"),r=n("./src/enums.js");function i(t,e,n,i,a,s){switch(this.parent=u.default.prototype,this.x=null,this.y=null,this.cpX1=null,this.cpY1=null,this.cpX2=null,this.cpY2=null,arguments.length){case 3:this.parent.constructor.apply(this,[n.x,n.y]),this.cpX1=t.x,this.cpY1=t.y,this.cpX2=e.x,this.cpY2=e.y;break;case 6:this.parent.constructor.apply(this,[a,s]),this.cpX1=t,this.cpY1=e,this.cpX2=n,this.cpY2=i}this.segmentType=r.SegmentType.CubicArc}(i.prototype=new u.default).clone=function(){return new i(this.cpX1,this.cpY1,this.cpX2,this.cpY2,this.x,this.y)},i.prototype.loop=function(t,e){null!=e&&(e.call(t,this.cpX1,this.cpY1,0),e.call(t,this.cpX2,this.cpY2,1),e.call(t,this.x,this.y,2))},i.prototype.setPoint=function(t,e){switch(e){case 0:this.cpX1=t.x,this.cpY1=t.y;break;case 1:this.cpX2=t.x,this.cpY2=t.y;break;case 2:this.x=t.x,this.y=t.y}},i.prototype.getEndPoint=function(){return this},i.prototype.invert=function(t){var e=this.cpX1,n=this.cpY1;this.x=t.x,this.y=t.y,this.cpX1=this.cpX2,this.cpY1=this.cpY2,this.cpX2=e,this.cpY2=n},i.prototype.transform=function(t,e){var r=this;t.transform3Points(r.x,r.y,r.cpX1,r.cpY1,r.cpX2,r.cpY2,e,r,function(t,e,n,i,a,s){r.x=t,r.y=e,r.cpX1=n,r.cpY1=i,r.cpX2=a,r.cpY2=s})},i.prototype.trim=function(t,e){var n=this.offsetPoint(this.x,this.y,this.cpX2,this.cpY2,this.cpX1,this.cpY1,t.x,t.y,.5),i=this.offsetPoint(this.x,this.y,this.cpX2,this.cpY2,this.cpX1,this.cpY1,t.x,t.y,.1),a=e*(.5/n.distanceTo(this.x,this.y)+.1/i.distanceTo(this.x,this.y))/2,n=this.offsetPoint(this.x,this.y,this.cpX2,this.cpY2,this.cpX1,this.cpY1,t.x,t.y,a);return this.x=n.x,this.y=n.y,this},i.prototype.offsetPoint=function(t,e,n,i,a,s,r,o,l){return new u.default((1-l)*(1-l)*(1-l)*t+3*(1-l)*(1-l)*l*n+3*(1-l)*l*l*a+l*l*l*r,(1-l)*(1-l)*(1-l)*e+3*(1-l)*(1-l)*l*i+3*(1-l)*l*l*s+l*l*l*o)}},"./src/graphics/structs/DotSegment.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/enums.js");function i(t,e,n,i,a){this.segmentType=s.SegmentType.Dot,this.x=t,this.y=e,this.width=n,this.height=i,this.cornerRadius=a}},"./src/graphics/structs/Interval.js":function(t,e,n){"use strict";function i(t,e,n){switch(this.from=null,this.to=null,this.context=null,arguments.length){case 1:this.from=t.from,this.to=t.to,this.context=t.context;break;case 2:this.from=t,this.to=e;break;case 3:this.from=t,this.to=e,this.context=n}}n.r(e),n.d(e,"default",function(){return i}),i.prototype.width=function(){return this.to-this.from},i.prototype.equalTo=function(t){return this.from==t.from&&this.to==t.to},i.prototype.clone=function(){return new i(this)},i.prototype.toString=function(){return this.from+", "+this.to},i.prototype.overlaps=function(t){var e=!0;return(this.to<t.from||t.to<this.from)&&(e=!1),e}},"./src/graphics/structs/Label.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var i=n("./src/graphics/structs/Rect.js"),a=n("./src/enums.js");function s(){this.text=null,this.position=null,this.weight=0,this.isActive=!0,this.labelType=a.LabelType.Regular,this.labelOrientation=a.TextOrientationType.Horizontal,this.horizontalAlignmentType=a.HorizontalAlignmentType.Center,this.verticalAlignmentType=a.VerticalAlignmentType.Bottom,this.parent=i.default.prototype,this.parent.constructor.apply(this,arguments)}s.prototype=new i.default},"./src/graphics/structs/LineSegment.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return r});var a=n("./src/graphics/structs/Point.js"),i=n("./src/graphics/structs/MoveSegment.js"),s=n("./src/enums.js");function r(){this.parent=i.default.prototype,this.parent.constructor.apply(this,arguments),this.segmentType=s.SegmentType.Line}(r.prototype=new i.default).clone=function(){return new r(this)},r.prototype.trim=function(t,e){e=this.offsetPoint(this,t,e);return this.x=e.x,this.y=e.y,this},r.prototype.offsetPoint=function(t,e,n){var i=t.distanceTo(e);return 0===i||0===n?new a.default(t):new a.default(t.x+(e.x-t.x)/i*n,t.y+(e.y-t.y)/i*n)}},"./src/graphics/structs/Matrix.js":function(t,e,n){"use strict";function i(t,e,n,i){switch(this.a1=null,this.b1=null,this.a2=null,this.b2=null,arguments.length){case 1:this.a1=t.a1,this.b1=t.b1,this.a2=t.a2,this.b2=t.b2;break;case 4:this.a1=t,this.b1=e,this.a2=n,this.b2=i}}n.r(e),n.d(e,"default",function(){return i}),i.prototype.determinant=function(){return this.a1*this.b2-this.b1*this.a2}},"./src/graphics/structs/MoveSegment.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var i=n("./src/graphics/structs/Point.js"),a=n("./src/enums.js");function s(){this.parent=i.default.prototype,this.parent.constructor.apply(this,arguments),this.segmentType=a.SegmentType.Move}(s.prototype=new i.default).clone=function(){return new s(this)},s.prototype.loop=function(t,e){null!=e&&e.call(t,this.x,this.y,0)},s.prototype.setPoint=function(t,e){this.x=t.x,this.y=t.y},s.prototype.getEndPoint=function(){return this},s.prototype.invert=function(t){this.x=t.x,this.y=t.y},s.prototype.transform=function(t,e){var n=this;t.transformPoint(n.x,n.y,e,n,function(t,e){n.x=t,n.y=e})}},"./src/graphics/structs/PaletteItem.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/enums.js"),r=n("./src/common/index.js");function i(t){var e,n,i,a;for(this.lineColor=s.Colors.Silver,this.lineWidth=1,this.lineType=s.LineType.Solid,this.fillColor=null,this.opacity=null,this._key="",i=0,a=(n=["lineColor","lineWidth","lineType","fillColor","opacity"]).length;i<a;i+=1)e=n[i],null!=t&&t.hasOwnProperty(e)&&(this[e]=t[e]),this._key+=(Object(r.isNullOrEmpty)(this._key)?"":", ")+e+":"+this[e]}i.prototype.toAttr=function(){var t={lineWidth:this.lineWidth,lineType:this.lineType};return null!==this.fillColor&&(t.fillColor=this.fillColor),null!==this.opacity&&(t.opacity=this.opacity),null!==this.lineColor&&(t.borderColor=this.lineColor),t},i.prototype.toString=function(){return this._key}},"./src/graphics/structs/PaletteManager.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var a=n("./src/graphics/structs/PaletteItem.js"),i=n("./src/enums.js");function s(t,e){var n,i;if(this.palette=[],(this.cursor=0)===e.length)this.palette=[new a.default({lineColor:t.linesColor,lineWidth:t.linesWidth,lineType:t.linesType})],this.paletteLength=this.palette.length,this.regularIndex=0;else{for(n=0,i=e.length;n<i;n+=1)this.palette.push(new a.default(e[n]));this.paletteLength=this.palette.length,this.palette.push(new a.default({lineColor:t.linesColor,lineWidth:t.linesWidth,lineType:t.linesType})),this.regularIndex=this.palette.length-1}this.palette.push(new a.default({lineColor:t.highlightLinesColor,lineWidth:t.highlightLinesWidth,lineType:t.highlightLinesType})),this.highlightIndex=this.palette.length-1}s.prototype.selectPalette=function(t){this.cursor=t%this.paletteLength},s.prototype.getPalette=function(t){var e=null;switch(t){case i.ConnectorStyleType.Regular:e=this.regularIndex;break;case i.ConnectorStyleType.Highlight:e=this.highlightIndex;break;case i.ConnectorStyleType.Extra:e=this.cursor}return this.palette[e]}},"./src/graphics/structs/Point.js":function(t,e,n){"use strict";function i(t,e){switch(this.x=null,this.y=null,this.context=null,arguments.length){case 1:this.x=t.x,this.y=t.y,this.context=t.context;break;case 2:this.x=t,this.y=e}}n.r(e),n.d(e,"default",function(){return i}),i.prototype.scale=function(t){return this.x=this.x*t,this.y=this.y*t,this},i.prototype.distanceTo=function(t,e){var n,i,a=0,s=0;switch(arguments.length){case 1:a=t.x,s=t.y;break;case 2:a=t,s=e}return n=this.x-a,i=this.y-s,Math.sqrt(n*n+i*i)},i.prototype.equalTo=function(t){return this.x==t.x&&this.y==t.y},i.prototype.swap=function(t){var e=t.x,n=t.y;t.x=this.x,t.y=this.y,this.x=e,this.y=n},i.prototype.clone=function(){return new i(this)},i.prototype.toString=function(t){var e="";return t=void 0!==t?t:"px",e+="left:"+this.x+t+";",e+="top:"+this.y+t+";"},i.prototype.getCSS=function(t){return t=void 0!==t?t:"px",{left:this.x+t,top:this.y+t}}},"./src/graphics/structs/Polyline.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return v});var r=n("./src/graphics/structs/PaletteItem.js"),m=n("./src/graphics/structs/MoveSegment.js"),g=n("./src/graphics/structs/LineSegment.js"),T=n("./src/graphics/structs/QuadraticArcSegment.js"),y=n("./src/graphics/structs/Point.js"),f=n("./src/graphics/structs/Vector.js"),k=n("./src/enums.js"),o=n("./src/common/index.js");function v(t){var e,p,s=new r.default,c=[];function i(t,e){var n,i,a;if(null!=e)for(n=0,i=c.length;n<i&&(!(a=c[n])||!e.call(t,a,n));n+=1);}function a(){return Object(o.isNullOrEmpty)(s.fillColor)}function u(t,e,n,i,a,s){for(var r,o,l,u=new v(p),c=[new y.default(a,-s/2),new y.default(0,0),new y.default(a,s/2),new y.default(a/4*3,0)],d=Math.atan2(e-i,t-n),h=0,f=c.length;h<f;h+=1)o=(r=c[h]).x*Math.cos(d)-r.y*Math.sin(d),l=r.x*Math.sin(d)+r.y*Math.cos(d),r.x=o+n,r.y=l+i;return u.addSegment(new m.default(c[0].x,c[0].y)),u.addSegment(new g.default(c[1].x,c[1].y)),u.addSegment(new g.default(c[2].x,c[2].y)),u.addSegment(new T.default(c[3].x,c[3].y,c[0].x,c[0].y)),u}function d(t,e){this.segment=t,this.pointIndex=e}function h(t,e,n,i,a){var s=t.relateTo(e),r=a?0:n;s==k.VectorRelationType.Collinear?e.offset(r):s==k.VectorRelationType.Opposite&&0===e.from.context.pointIndex?(s=new g.default(e.from),i.addSegment(s),e.offset(r),(i=e.from.clone()).context=new d(s,0),s=new f.default(t.to.clone(),i),a||(e.from=i.clone()),s.offset(n),s.intersect(t),s.from.context.pushToSegment(s.from),e.intersect(s),a&&s.to.context.pushToSegment(s.to)):(e.offset(r),e.intersect(t)),e.from.context.pushToSegment(e.from)}function n(t,e,n,i){var a=t[0],s=a.to.context.segment.getEndPoint().toString();e.hasOwnProperty(s)&&(h(a,e[s],n,i,!0),delete e[s]),a.to.context.pushToSegment(a.to),t.length=0}return 1===arguments.length&&(s=t),p=new r.default({lineColor:s.lineColor,lineWidth:0,fillColor:s.lineColor,opacity:s.opacity||1}),d.prototype.pushToSegment=function(t){this.segment.setPoint(t,this.pointIndex)},e={paletteItem:s,arrowPaletteItem:p,addSegment:function(t){c.push(t)},addSegments:function(t){for(var e=0,n=t.length;e<n;e+=1)c.push(t[e])},mergeTo:function(t){t.addSegments(c)},length:function(){return c.length},loop:i,loopReversed:function(t,e){var n,i;if(null!=e)for(n=c.length-1;0<=n&&(!(i=c[n])||!e.call(t,i,n));--n);},transform:function(e,n){i(this,function(t){null!=t.transform&&t.transform(e,n)})},isInvertable:a,addInverted:function(t){var n=!1,i=[];a()?t.loopReversed(this,function(t,e){t.segmentType!=k.SegmentType.Dot&&(n||(c.push(new m.default(t.getEndPoint())),n=!0),i.unshift(t),1<i.length&&(i[1].invert(i[0].getEndPoint()),c.push(i[1]),i.length=1))}):t.mergeTo(e)},addArrow:function(t,e){var n,i=c.length,a=3*t,s=2*t;switch(t){case 1:a=8,s=6;break;case 2:a=12,s=8;break;case 3:a=16,s=10}null!=e&&1<i&&(t=c[i-2].getEndPoint(),null!=(i=c[i-1]).trim&&(n=new y.default(i.getEndPoint())).distanceTo(t)>a&&e(u((t=i.trim(t,a)).x,t.y,n.x,n.y,a,s),t))},addOffsetArrow:function(t,e,n,i,a){var s,r=c.length,o=3*e,l=2*e;switch(e){case 1:o=8,l=6;break;case 2:o=12,l=8;break;case 3:o=16,l=10}null!=a&&1<r&&(s=c[r-2].getEndPoint(),null!=(e=c[r-1]).offsetPoint&&(r=new y.default(e.getEndPoint()),i<(i=s.distanceTo(r))&&(n=i*n,a(t?(t=e.offsetPoint(s,r,n),u(s.x,s.y,t.x,t.y,o,l)):(n=e.offsetPoint(r,s,n),u(r.x,r.y,n.x,n.y,o,l))))))},optimizeMoveSegments:function(){for(var t,e,n,i,a,s={},r=[],o=[],l=0,u=c.length;l<u-1;l+=1)switch(i=c[l],a=c[l+1],i.segmentType){case k.SegmentType.Line:case k.SegmentType.QuadraticArc:case k.SegmentType.CubicArc:switch(a.segmentType){case k.SegmentType.Move:case k.SegmentType.Dot:e=i.x+"&"+i.y,s.hasOwnProperty(e)||(s[e]=l)}break;case k.SegmentType.Move:e=i.x+"&"+i.y,s.hasOwnProperty(e)&&!r[s[e]]&&(r[s[e]]=l+1,o[l]=!0)}for(n=[],l=0;l<u;l+=1)if(!o[l]&&(i=c[l],n.push(i),o[l]=!0,0<r[l]))for(t=r[l];t<u&&!o[t];)i=c[t],n.push(i),o[t]=!0,0<r[t]?t=r[t]:t+=1;c=n},getOffsetPolyine:function(r){var o=new v(s),l={},u=[],c=[];return i(this,function(t){var e,s=t.clone();switch(s.segmentType){case k.SegmentType.Dot:case k.SegmentType.Move:0<c.length&&n(c,l,r,o),u.length=0,s.segmentType==k.SegmentType.Move&&((e=new y.default(s)).context=new d(s,0),u.push(e));break;default:s.loop(this,function(t,e,n){var i,a,e=new y.default(t,e);switch(e.context=new d(s,n),u.unshift(e),1<u.length&&(c.unshift(new f.default(u[1].clone(),u[0].clone())),u.length=1),c.length){case 1:a=(i=c[0]).from.toString(),(l[a]=i).offset(r),i.from.context.pushToSegment(i.from);break;case 2:h(c[1],i=c[0],r,o,!1),c.length=1}})}o.addSegment(s)}),0<c.length&&n(c,l,r,o),o},toString:function(){return s.toString()},getStartPoint:function(){var t=null;return 0<c.length&&(t=c[0].getEndPoint()),t},getEndPoint:function(){var t=null;return 0<c.length&&(t=c[c.length-1].getEndPoint()),t},clone:function(){for(var t,e=new v(s),n=[],i=0,a=c.length;i<a;i+=1)t=c[i],n.push(t.clone());return e.addSegments(n),e}}}},"./src/graphics/structs/PolylinesBuffer.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/graphics/structs/Polyline.js");function a(){var a={};function s(t,e){return t[e.toString()]||(t[e.toString()]=new i.default(e)),t[e.toString()]}function r(t,e){var n,i;if(null!=e)for(n in a)if(a.hasOwnProperty(n)&&(i=a[n],i&&(i.optimizeMoveSegments(),e.call(t,i))))break}return{getPolyline:function(t){return s(a,t)},loop:r,addInverted:function(t,e){var n,i=a;a={},null!=t&&t(this),r(this,function(t){n=s(i,t.paletteItem),e?t.mergeTo(n):n.addInverted(t)}),a=i},transform:function(e,n){r(this,function(t){t.transform(e,n)})}}}},"./src/graphics/structs/QuadraticArcSegment.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var o=n("./src/graphics/structs/Point.js"),a=n("./src/enums.js");function i(t,e,n,i){switch(this.x=null,this.y=null,this.cpX=null,this.cpY=null,arguments.length){case 2:this.x=e.x,this.y=e.y,this.cpX=t.x,this.cpY=t.y;break;case 4:this.cpX=t,this.cpY=e,this.x=n,this.y=i}this.segmentType=a.SegmentType.QuadraticArc}i.prototype.clone=function(){return new i(this.cpX,this.cpY,this.x,this.y)},i.prototype.loop=function(t,e){null!=e&&(e.call(t,this.cpX,this.cpY,0),e.call(t,this.x,this.y,1))},i.prototype.setPoint=function(t,e){switch(e){case 0:this.cpX=t.x,this.cpY=t.y;break;case 1:this.x=t.x,this.y=t.y}},i.prototype.getEndPoint=function(){return this},i.prototype.invert=function(t){this.x=t.x,this.y=t.y},i.prototype.transform=function(t,e){var a=this;t.transformPoints(a.x,a.y,a.cpX,a.cpY,e,a,function(t,e,n,i){a.x=t,a.y=e,a.cpX=n,a.cpY=i})},i.prototype.trim=function(t,e){var n=this.offsetPoint(this.x,this.y,this.cpX,this.cpY,t.x,t.y,.5),i=this.offsetPoint(this.x,this.y,this.cpX,this.cpY,t.x,t.y,.1),a=e*(.5/n.distanceTo(this.x,this.y)+.1/i.distanceTo(this.x,this.y))/2,n=this.offsetPoint(this.x,this.y,this.cpX,this.cpY,t.x,t.y,a);return this.x=n.x,this.y=n.y,this},i.prototype.offsetPoint=function(t,e,n,i,a,s,r){return new o.default((1-r)*(1-r)*t+2*(1-r)*r*n+r*r*a,(1-r)*(1-r)*e+2*(1-r)*r*i+r*r*s)}},"./src/graphics/structs/Rect.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return l});var s=n("./src/graphics/structs/Point.js"),r=n("./src/graphics/structs/Vector.js"),i=n("./src/graphics/structs/Interval.js"),o=n("./src/enums.js");function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e,n,i){switch(this.x=null,this.y=null,this.width=null,this.height=null,this.context=null,arguments.length){case 1:this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height;break;case 2:this.x=Math.min(t.x,e.x),this.y=Math.min(t.y,e.y),this.width=Math.abs(e.x-t.x),this.height=Math.abs(e.y-t.y);break;case 4:this.x=t,this.y=e,this.width=n,this.height=i}}l.prototype.left=function(){return this.x},l.prototype.top=function(){return this.y},l.prototype.right=function(){return this.x+this.width},l.prototype.bottom=function(){return this.y+this.height},l.prototype.verticalCenter=function(){return this.y+this.height/2},l.prototype.horizontalCenter=function(){return this.x+this.width/2},l.prototype.centerPoint=function(){return new s.default(this.horizontalCenter(),this.verticalCenter())},l.prototype.isEmpty=function(){return null===this.x||null===this.y||null===this.width||null===this.height||this.width<0||this.height<0},l.prototype.offset=function(t,e,n,i){switch(arguments.length){case 1:null!==t&&"object"==a(t)?(this.x=this.x-t.left,this.y=this.y-t.top,this.width=this.width+t.left+t.right,this.height=this.height+t.top+t.bottom):(this.x=this.x-t,this.y=this.y-t,this.width=this.width+2*t,this.height=this.height+2*t);break;case 4:this.x=this.x-t,this.y=this.y-e,this.width=this.width+t+n,this.height=this.height+e+i}return this},l.prototype.scale=function(t){return this.x=this.x*t,this.y=this.y*t,this.width=this.width*t,this.height=this.height*t,this},l.prototype.translate=function(t,e){return this.x=this.x+t,this.y=this.y+e,this},l.prototype.invert=function(){var t=this.width,e=this.x;return this.width=this.height,this.height=t,this.x=this.y,this.y=e,this},l.prototype.loopEdges=function(t){var e=[new s.default(this.left(),this.top()),new s.default(this.right(),this.top()),new s.default(this.right(),this.bottom()),new s.default(this.left(),this.bottom())],n=[o.PlacementType.Top,o.PlacementType.Right,o.PlacementType.Bottom,o.PlacementType.Left];if(e.push(e[0]),null!=t)for(var i=1,a=e.length;i<a&&!t(new r.default(e[i-1],e[i]),n[i-1]);i+=1);return this},l.prototype.contains=function(t,e){switch(arguments.length){case 1:return this.x<=t.x&&t.x<=this.x+this.width&&this.y<=t.y&&t.y<=this.y+this.height;case 2:return this.x<=t&&t<=this.x+this.width&&this.y<=e&&e<=this.y+this.height;default:return!1}},l.prototype.cropByRect=function(t){return this.x<t.x&&(this.width-=t.x-this.x,this.x=t.x),this.right()>t.right()&&(this.width-=this.right()-t.right()),this.y<t.y&&(this.height-=t.y-this.y,this.y=t.y),this.bottom()>t.bottom()&&(this.height-=this.bottom()-t.bottom()),this.isEmpty()&&(this.x=null,this.y=null,this.width=null,this.height=null),this},l.prototype.overlaps=function(t){var e=!0;return(this.x+this.width<t.x||t.x+t.width<this.x||this.y+this.height<t.y||t.y+t.height<this.y)&&(e=!1),e},l.prototype.addRect=function(t,e,n,i){var a,s;switch(arguments.length){case 1:t.isEmpty()||(this.isEmpty()?(this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height):(a=Math.max(this.right(),t.right()),s=Math.max(this.bottom(),t.bottom()),this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.width=a-this.x,this.height=s-this.y));break;case 2:this.isEmpty()?(this.x=t,this.y=e,this.width=0,this.height=0):(a=Math.max(this.right(),t),s=Math.max(this.bottom(),e),this.x=Math.min(this.x,t),this.y=Math.min(this.y,e),this.width=a-this.x,this.height=s-this.y);break;case 4:this.isEmpty()?(this.x=t,this.y=e,this.width=n,this.height=i):(a=Math.max(this.right(),t+n),s=Math.max(this.bottom(),e+i),this.x=Math.min(this.x,t),this.y=Math.min(this.y,e),this.width=a-this.x,this.height=s-this.y)}return this},l.prototype.getCSS=function(t){return t=void 0!==t?t:"px",{left:this.x+t,top:this.y+t,width:this.width+t,height:this.height+t}},l.prototype.toString=function(t){var e="";return t=void 0!==t?t:"px",e+="left:"+this.x+t+";",e+="top:"+this.y+t+";",e+="width:"+this.width+t+";",e+="height:"+this.height+t+";"},l.prototype.validate=function(){if(isNaN(this.x)||isNaN(this.y)||isNaN(this.width)||isNaN(this.height))throw"Invalid rect position."},l.prototype.equalTo=function(t){return this.x==t.x&&this.y==t.y&&this.width==t.width&&this.height==t.height},l.prototype.getProjectionPoint=function(t){var e,n=null;return this.contains(t)||(e=new r.default(this.centerPoint(),t),this.loopEdges(function(t){return null!=(n=e.getIntersectionPoint(t,!0,1))})),n},l.prototype.verticalInterval=function(){return new i.default(this.y,this.bottom())}},"./src/graphics/structs/Size.js":function(t,e,n){"use strict";function i(t,e){switch(this.width=0,this.height=0,arguments.length){case 1:this.width=t.width,this.height=t.height;break;case 2:this.width=t,this.height=e}}n.r(e),n.d(e,"default",function(){return i}),i.prototype.invert=function(){var t=this.width;return this.width=this.height,this.height=t,this},i.prototype.scale=function(t){return this.width=this.width*t,this.height=this.height*t,this},i.prototype.space=function(){return this.width*this.height},i.prototype.getCSS=function(t){return t=void 0!==t?t:"px",{width:this.width+t,height:this.height+t}},i.prototype.cropBySize=function(t){return this.width=Math.min(this.width,t.width),this.height=Math.min(this.height,t.height),this},i.prototype.maxSize=function(t){return this.width=Math.max(this.width,t.width),this.height=Math.max(this.height,t.height),this},i.prototype.addThickness=function(t){return this.width=Math.max(0,this.width+t.left+t.right),this.height=Math.max(0,this.height+t.top+t.bottom),this},i.prototype.removeThickness=function(t){return this.width=Math.max(0,this.width-t.left-t.right),this.height=Math.max(0,this.height-t.top-t.bottom),this},i.prototype.validate=function(){if(isNaN(this.width)||isNaN(this.height))throw"Invalid size."}},"./src/graphics/structs/Thickness.js":function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n,i){switch(this.left=0,this.top=0,this.right=0,this.bottom=0,arguments.length){case 1:null!==t&&"object"==a(t)?(this.left=t.left,this.top=t.top,this.right=t.right,this.bottom=t.bottom):(this.left=t,this.top=t,this.right=t,this.bottom=t);break;case 4:this.left=t,this.top=e,this.right=n,this.bottom=i}return this}n.r(e),n.d(e,"default",function(){return i}),i.prototype.isEmpty=function(){return 0===this.left&&0===this.top&&0===this.right&&0===this.bottom},i.prototype.isPositive=function(){return 0<this.left||0<this.top||0<this.right||0<this.bottom},i.prototype.isNegative=function(){return this.left<0||this.top<0||this.right<0||this.bottom<0},i.prototype.maxThickness=function(t){return this.left=Math.max(this.left,t.left),this.top=Math.max(this.top,t.top),this.right=Math.max(this.right,t.right),this.bottom=Math.max(this.bottom,t.bottom),this},i.prototype.addThickness=function(t,e,n,i){switch(arguments.length){case 1:null!==t&&"object"==a(t)?(this.left+=t.left,this.top+=t.top,this.right+=t.right,this.bottom+=t.bottom):(this.left+=t,this.top+=t,this.right+=t,this.bottom+=t);break;case 4:this.left+=t,this.top+=e,this.right+=n,this.bottom+=i}return this},i.prototype.scale=function(t){return this.left=this.left*t,this.top=this.top*t,this.right=this.right*t,this.bottom=this.bottom*t,this},i.prototype.toString=function(t){return t=void 0!==t?t:"px",this.top+t+" "+this.right+t+" "+this.bottom+t+" "+this.left+t}},"./src/graphics/structs/Vector.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var l=n("./src/graphics/structs/Matrix.js"),u=n("./src/graphics/structs/Point.js"),r=n("./src/enums.js");function i(t,e){switch(this.from=null,this.to=null,this.context=null,arguments.length){case 1:this.from=t.from,this.to=t.to;break;case 2:this.from=t,this.to=e}}i.prototype.isNull=function(){return this.from.x==this.to&&this.from.y==this.to.y},i.prototype.length=function(){return this.from.distanceTo(this.to)},i.prototype.equalTo=function(t){return this.from.equalTo(t.from)&&this.to.equalTo(t.to)},i.prototype.getMiddlePoint=function(){return new u.default((this.from.x+this.to.x)/2,(this.from.y+this.to.y)/2)},i.prototype.relateTo=function(t){var e=r.VectorRelationType.None,n=this.to.x-this.from.x,i=this.to.y-this.from.y,a=t.to.x-t.from.x,s=t.to.y-t.from.y;switch((n?8:0)+(i?4:0)+(a?2:0)+(s?1:0)){case 0:case 1:case 2:case 3:case 4:case 8:case 12:e=r.VectorRelationType.Null;break;case 5:e=0<i*s?r.VectorRelationType.Collinear:r.VectorRelationType.Opposite;break;case 10:e=0<n*a?r.VectorRelationType.Collinear:r.VectorRelationType.Opposite;break;case 15:n/a==i/s&&(e=0<n/a?r.VectorRelationType.Collinear:r.VectorRelationType.Opposite)}return e},i.prototype.offset=function(t){var e=this.length(),n=(this.to.y-this.from.y)*t/e,e=-(this.to.x-this.from.x)*t/e;this.from.x+=n,this.from.y+=e,this.to.x+=n,this.to.y+=e},i.prototype.getLine=function(){var t=this.from.x,e=this.from.y,n=this.to.x,i=this.to.y;return[i-e,t-n,t*(e-i)+e*(n-t)]},i.prototype.getLineKey=function(){var t=this.getLine(),e=t[0],n=t[1],i=t[2];return(t=0!==n?[Math.floor(e/n*1e4),1,Math.floor(i/n*1e4)]:[1,0,Math.floor(i/e*1e4)]).toString()},i.prototype.intersect=function(t){var e,n=this.getLine(),i=t.getLine(),a=new l.default(n[0],n[1],i[0],i[1]).determinant(),s=!1;return 0!==a&&(e=new l.default(-n[2],n[1],-i[2],i[1]).determinant()/a,a=new l.default(n[0],-n[2],i[0],-i[2]).determinant()/a,t.to.x=e,t.to.y=a,this.from.x=e,this.from.y=a,s=!0),s},i.prototype.getIntersectionPoint=function(t,e,n){var i,a=this.getLine(),s=t.getLine(),r=new l.default(a[0],a[1],s[0],s[1]).determinant(),o=null;return 0!==r&&(i=new l.default(-a[2],a[1],-s[2],s[1]).determinant()/r,r=new l.default(a[0],-a[2],s[0],-s[2]).determinant()/r,(!e||t._contains(i,r,n)&&this._contains(i,r,n))&&(o=new u.default(i,r))),o},i.prototype._contains=function(t,e,n){var i=Math.min(this.from.x,this.to.x),a=Math.min(this.from.y,this.to.y),s=Math.max(this.from.x,this.to.x),r=Math.max(this.from.y,this.to.y);return i-n<=t&&t<=s+n&&a-n<=e&&e<=r+n}},"./src/index.js":function(t,e,n){"use strict";n.r(e);var i=n("./src/enums.js");n.d(e,"AdviserPlacementType",function(){return i.AdviserPlacementType}),n.d(e,"AnnotationType",function(){return i.AnnotationType}),n.d(e,"ChildrenPlacementType",function(){return i.ChildrenPlacementType}),n.d(e,"Colors",function(){return i.Colors}),n.d(e,"ConnectorLabelPlacementType",function(){return i.ConnectorLabelPlacementType}),n.d(e,"ConnectorPlacementType",function(){return i.ConnectorPlacementType}),n.d(e,"ConnectorShapeType",function(){return i.ConnectorShapeType}),n.d(e,"ConnectorStyleType",function(){return i.ConnectorStyleType}),n.d(e,"ConnectorType",function(){return i.ConnectorType}),n.d(e,"ElbowType",function(){return i.ElbowType}),n.d(e,"Enabled",function(){return i.Enabled}),n.d(e,"GroupByType",function(){return i.GroupByType}),n.d(e,"HorizontalAlignmentType",function(){return i.HorizontalAlignmentType}),n.d(e,"ItemType",function(){return i.ItemType}),n.d(e,"LabelType",function(){return i.LabelType}),n.d(e,"Layers",function(){return i.Layers}),n.d(e,"LineType",function(){return i.LineType}),n.d(e,"LoopsLayoutMode",function(){return i.LoopsLayoutMode}),n.d(e,"NavigationMode",function(){return i.NavigationMode}),n.d(e,"NeighboursSelectionMode",function(){return i.NeighboursSelectionMode}),n.d(e,"OrientationType",function(){return i.OrientationType}),n.d(e,"PageFitMode",function(){return i.PageFitMode}),n.d(e,"PlacementType",function(){return i.PlacementType}),n.d(e,"RenderingMode",function(){return i.RenderingMode}),n.d(e,"SegmentType",function(){return i.SegmentType}),n.d(e,"SelectionPathMode",function(){return i.SelectionPathMode}),n.d(e,"ShapeType",function(){return i.ShapeType}),n.d(e,"SideFlag",function(){return i.SideFlag}),n.d(e,"TextOrientationType",function(){return i.TextOrientationType}),n.d(e,"UpdateMode",function(){return i.UpdateMode}),n.d(e,"VectorRelationType",function(){return i.VectorRelationType}),n.d(e,"VerticalAlignmentType",function(){return i.VerticalAlignmentType}),n.d(e,"Visibility",function(){return i.Visibility}),n.d(e,"ZOrderType",function(){return i.ZOrderType});var a=n("./src/common/index.js");n.d(e,"isEven",function(){return a.isEven}),n.d(e,"isNullOrEmpty",function(){return a.isNullOrEmpty}),n.d(e,"loop",function(){return a.loop}),n.d(e,"splitCamelCaseName",function(){return a.splitCamelCaseName}),n.d(e,"isObject",function(){return a.isObject}),n.d(e,"isEmptyObject",function(){return a.isEmptyObject}),n.d(e,"cloneObject",function(){return a.cloneObject}),n.d(e,"mergeObjects",function(){return a.mergeObjects}),n.d(e,"getHashCode",function(){return a.getHashCode}),n.d(e,"compareArrays",function(){return a.compareArrays});var s=n("./src/common/colors.js");n.d(e,"getColorHexValue",function(){return s.getColorHexValue}),n.d(e,"getColorName",function(){return s.getColorName}),n.d(e,"getRed",function(){return s.getRed}),n.d(e,"getGreen",function(){return s.getGreen}),n.d(e,"getBlue",function(){return s.getBlue}),n.d(e,"beforeOpacity",function(){return s.beforeOpacity}),n.d(e,"highestContrast",function(){return s.highestContrast}),n.d(e,"luminosity",function(){return s.luminosity});var r=n("./src/graphics/dom.js");n.d(e,"getElementsByName",function(){return r.getElementsByName}),n.d(e,"getFixOfPixelAlignment",function(){return r.getFixOfPixelAlignment}),n.d(e,"getElementOffset",function(){return r.getElementOffset}),n.d(e,"hasClass",function(){return r.hasClass}),n.d(e,"stopPropagation",function(){return r.stopPropagation}),n.d(e,"getInnerSize",function(){return r.getInnerSize});var o=n("./src/common/jsonml-html.js");n.d(e,"JsonML",function(){return o.default});var l=n("./src/graphics/structs/Point.js");n.d(e,"Point",function(){return l.default});var u=n("./src/graphics/structs/Size.js");n.d(e,"Size",function(){return u.default});var c=n("./src/graphics/structs/Rect.js");n.d(e,"Rect",function(){return c.default});var d=n("./src/graphics/structs/Matrix.js");n.d(e,"Matrix",function(){return d.default});var h=n("./src/graphics/structs/Thickness.js");n.d(e,"Thickness",function(){return h.default});var f=n("./src/graphics/structs/Vector.js");n.d(e,"Vector",function(){return f.default});var p=n("./src/graphics/structs/Interval.js");n.d(e,"Interval",function(){return p.default});var m=n("./src/algorithms/binarySearch.js");n.d(e,"binarySearch",function(){return m.default});var g=n("./src/algorithms/getCrossingRectangles.js");n.d(e,"getCrossingRectangles",function(){return g.default});var T=n("./src/algorithms/getFamilyLoops.js");n.d(e,"getFamilyLoops",function(){return T.default});var y=n("./src/algorithms/getFamilyUnits.js");n.d(e,"getFamilyUnits",function(){return y.default});var k=n("./src/algorithms/getLiniarBreaks.js");n.d(e,"getLiniarBreaks",function(){return k.default});var v=n("./src/algorithms/getMergedRectangles.js");n.d(e,"getMergedRectangles",function(){return v.default});var C=n("./src/algorithms/getMinimumCrossingRows.js");n.d(e,"getMinimumCrossingRows",function(){return C.default});var w=n("./src/algorithms/mergeSort.js");n.d(e,"mergeSort",function(){return w.default});var b=n("./src/algorithms/getMergedIntervals.js");n.d(e,"getMergedIntervals",function(){return b.default});var O=n("./src/algorithms/Family.js");n.d(e,"Family",function(){return O.default});var P=n("./src/algorithms/FamilyAlignment.js");n.d(e,"FamilyAlignment",function(){return P.default});var j=n("./src/algorithms/FamilyMargins.js");n.d(e,"FamilyMargins",function(){return j.default});var S=n("./src/algorithms/FibonacciHeap.js");n.d(e,"FibonacciHeap",function(){return S.default}),n.d(e,"HeapResult",function(){return S.HeapResult});var A=n("./src/algorithms/Graph.js");n.d(e,"Graph",function(){return A.default});var I=n("./src/algorithms/LCA.js");n.d(e,"LCA",function(){return I.default});var x=n("./src/algorithms/LinkedHashItems.js");n.d(e,"LinkedHashItems",function(){return x.default});var L=n("./src/algorithms/Pile.js");n.d(e,"Pile",function(){return L.default});var z=n("./src/algorithms/QuadTree.js");n.d(e,"QuadTree",function(){return z.default});var M=n("./src/algorithms/RMQ.js");n.d(e,"RMQ",function(){return M.default});var F=n("./src/algorithms/SortedList.js");n.d(e,"SortedList",function(){return F.default});var R=n("./src/algorithms/SpatialIndex.js");n.d(e,"SpatialIndex",function(){return R.default});var B=n("./src/algorithms/Tree.js");n.d(e,"Tree",function(){return B.default});var D=n("./src/algorithms/TreeLevels.js");n.d(e,"TreeLevels",function(){return D.default});var V=n("./src/configs/OrgConfig.js");n.d(e,"OrgConfig",function(){return V.default});var N=n("./src/configs/OrgItemConfig.js");n.d(e,"OrgItemConfig",function(){return N.default});var H=n("./src/events/OrgEventArgs.js");n.d(e,"OrgEventArgs",function(){return H.default});var E=n("./src/configs/FamConfig.js");n.d(e,"FamConfig",function(){return E.default});var G=n("./src/configs/FamItemConfig.js");n.d(e,"FamItemConfig",function(){return G.default});var W=n("./src/events/FamEventArgs.js");n.d(e,"FamEventArgs",function(){return W.default});var _=n("./src/configs/BackgroundAnnotationConfig.js");n.d(e,"BackgroundAnnotationConfig",function(){return _.default});var K=n("./src/configs/ConnectorAnnotationConfig.js");n.d(e,"ConnectorAnnotationConfig",function(){return K.default});var q=n("./src/configs/HighlightPathAnnotationConfig.js");n.d(e,"HighlightPathAnnotationConfig",function(){return q.default});var Y=n("./src/configs/LabelAnnotationConfig.js");n.d(e,"LabelAnnotationConfig",function(){return Y.default});var U=n("./src/configs/PaletteItemConfig.js");n.d(e,"PaletteItemConfig",function(){return U.default});var X=n("./src/configs/ShapeAnnotationConfig.js");n.d(e,"ShapeAnnotationConfig",function(){return X.default});var Z=n("./src/configs/LevelAnnotationConfig.js");n.d(e,"LevelAnnotationConfig",function(){return Z.default});var Q=n("./src/configs/TemplateConfig.js");n.d(e,"TemplateConfig",function(){return Q.default});var J=n("./src/OrgDiagram.js");n.d(e,"OrgDiagram",function(){return J.default});var $=n("./src/FamDiagram.js");n.d(e,"FamDiagram",function(){return $.default});var tt=n("./src/OrgDiagramPdfkit.js");n.d(e,"OrgDiagramPdfkit",function(){return tt.default});var et=n("./src/FamDiagramPdfkit.js");n.d(e,"FamDiagramPdfkit",function(){return et.default});var nt=n("./src/FamTaskManagerFactory.js");n.d(e,"FamTaskManagerFactory",function(){return nt.default});var it=n("./src/OrgTaskManagerFactory.js");n.d(e,"OrgTaskManagerFactory",function(){return it.default})},"./src/managers/DependencyManager.js":function(t,e,n){"use strict";function i(){var o={};return{register:function(t,e){return o[t]=e},resolve:function(){var i=[],a=arguments[0],s=arguments[1],r=arguments[2]||{};return function(){for(var t=Array.prototype.slice.call(arguments,0),e=0;e<a.length;e+=1){var n=a[e];i.push(o.hasOwnProperty(n)&&""!==n?o[n]:t.shift())}return i=i.concat(t),s.apply(r||{},i)}}}}n.r(e),n.d(e,"default",function(){return i})},"./src/managers/KeyboardNavigationManager.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var u=n("./src/algorithms/SortedList.js"),c=n("./src/algorithms/getMinimumCrossingRows.js"),d=n("./src/algorithms/TreeLevels.js"),h=n("./src/graphics/structs/Rect.js");function i(){var a,s,r=[],i=null;function e(t,e){this.itemid=t,this.row=e}function o(){if(null==s){var e=0;a=Object(u.default)(),Object(c.default)(this,r,function(t){a.add(t,e),e+=1}),s=Object(d.default)(),r.sort(function(t,e){return t.horizontalCenter()-e.horizontalCenter()});for(var t=0,n=r.length;t<n;t+=1){var i=r[t];a.loopForward(this,i.y,function(t,e){return t>i.bottom()||void s.addItem(e,i.context,i)})}}}function n(t){return o(),null!=i&&i.itemid==t||(i=new e(t,s.getLevelIndex(t))),i}function l(t){var n=s.getItemContext(i.itemid).horizontalCenter(),e=i.itemid;s.loopLevelsFromItem(this,i.itemid,t,function(t){return i.row=t,i.itemid=s.binarySearch(this,t,function(t,e){return n-e.horizontalCenter()}),!0}),e==i.itemid&&(i.row=t?s.getEndLevelIndex(i.itemid):s.getLevelIndex(i.itemid))}return{addRect:function(t,e){(t=new h.default(t)).context=e,r.push(t)},prepair:o,getItemAbove:function(t){return i=n(t),l(!1),i.itemid},getItemBelow:function(t){return i=n(t),l(!0),i.itemid},getItemOnLeft:function(t){return i=n(t),null!=(t=s.getPrevItem(i.itemid,i.row))&&(i.itemid=t),i.itemid},getItemOnRight:function(t){return i=n(t),null!=(t=s.getNextItem(i.itemid,i.row))&&(i.itemid=t),i.itemid},getNavigationLevels:function(){o();var n=[];return s.loopLevels(this,function(t,e){var i=[];s.loopLevelItems(this,t,function(t,e,n){i.push(t)}),n.push(i)}),n}}}},"./src/managers/TaskManager.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/algorithms/Family.js"),s=n("./src/managers/DependencyManager.js"),r=n("./src/common/index.js");function a(){var f=new i.default,p=new s.default,m=[];function a(t,e,n,i){this.name=t,this.dependencies=e,this.factory=n,this.task=null,this.color=i}return{addTask:function(t,e,n,i){if(0<m.length)throw"Task Manager is already initialized";f.add(e,t,new a(t,e,n,i))},addDependency:function(t,e){if(0<m.length)throw"Task Manager is already initialized";p.register(t,e)},getTask:function(t){return(t=f.node(t))&&t.task},process:function(t,e,n){var i,a=n;0===m.length&&f.loopTopo(this,function(t,e){e.task=p.register(t,p.resolve(e.dependencies,e.factory)()),m.push(e)}),n&&console.log("-- process --");for(var s={},r=0,o=m.length;r<o;r+=1){var l,u,c,d=m[r],h=[];if(d.name!=t&&!s.hasOwnProperty(d.name)||(a&&(l=performance.now()),(i=d.task.process(n))&&f.loopChildren(this,d.name,function(t,e){return s[t]=!0,n&&h.push(t),f.SKIP}),a&&(u=performance.now()),n&&(c=Math.round(u-l,2),console.log(r+". "+d.name+", "+c+" ms. "+(i?" - forces: "+h.toString():"")))),d.name==e)return}},getProcessDiagramConfig:function(){var t=[];0===m.length&&f.loopTopo(this,function(t,e){e.task=p.register(t,p.resolve(e.dependencies,e.factory)()),m.push(e)});for(var e=0,n=m.length;e<n;e+=1){var i=m[e],a={id:i.name,title:Object(r.splitCamelCaseName)(i.name).join(" "),description:i.task.description||"",itemTitleColor:i.color,parents:[]};f.loopParents(this,i.name,function(t,e){return a.parents.push(t),f.SKIP}),t.push(a)}return t}}}},"./src/models/EdgeItem.js":function(t,e,n){"use strict";function i(t,e,n,i){this.values=[e,i],this[t]=0,this[n]=1}n.r(e),n.d(e,"default",function(){return i}),i.prototype.getNear=function(t){return this.values[this[t]]},i.prototype.getFar=function(t){return this.values[Math.abs(this[t]-1)]},i.prototype.setNear=function(t,e){this.values[this[t]]=e},i.prototype.setFar=function(t,e){this.values[Math.abs(this[t]-1)]=e},i.prototype.toString=function(){return this.parent+","+this.child}},"./src/models/FamilyItem.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/enums.js");function a(t){if(this.id=null,this.familyId=null,this.itemConfig=null,this.isVisible=!0,this.isActive=!0,this.isLevelNeutral=!1,this.level=null,this.levelGravity=i.GroupByType.None,this.hideParentConnection=!1,this.hideChildrenConnection=!1,1===arguments.length)for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}},"./src/models/LevelVisibility.js":function(t,e,n){"use strict";function i(t,e){this.level=t,this.currentvisibility=e}n.r(e),n.d(e,"default",function(){return i})},"./src/models/OrgItem.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/enums.js");function i(t){var e;this.id=null,this.isVisible=!0,this.isActive=!0,this.hasVisibleChildren=!1,this.itemType=s.ItemType.Regular,this.adviserPlacementType=s.AdviserPlacementType.Auto,this.childrenPlacementType=s.ChildrenPlacementType.Auto,this.placeAdvisersAboveChildren=s.Enabled.Auto,this.placeAssistantsAboveChildren=s.Enabled.Auto,this.levelOffset=null,this.level=null,this.hideParentConnection=!1,this.hideChildrenConnection=!1,this.childIndex=null;for(var n=["id","parent","isVisible","isActive","itemType","adviserPlacementType","childrenPlacementType","placeAdvisersAboveChildren","placeAssistantsAboveChildren","levelOffset"],i=0,a=n.length;i<a;i+=1)e=n[i],t.hasOwnProperty(e)&&(this[e]=t[e])}},"./src/models/Slot.js":function(t,e,n){"use strict";function i(t){this.itemId=t,this.position=null,this.balance=0,this.left={},this.right={},this.crossings={}}n.r(e),n.d(e,"default",function(){return i}),i.prototype.clone=function(t){var e,n=new i(t);for(e in this.left)this.left.hasOwnProperty(e)&&(n.left[e]=this.left[e]);for(e in this.right)this.right.hasOwnProperty(e)&&(n.right[e]=this.right[e]);for(e in this.crossings)this.crossings.hasOwnProperty(e)&&(n.crossings[e]=this.crossings[e]);return n.itemid=t,n}},"./src/models/Template.js":function(t,e,n){"use strict";function i(t,e,n,i,a){this.templateConfig=t,this.itemTemplate=e,this.highlightTemplate=n,this.dotHighlightTemplate=i,this.cursorTemplate=a}n.r(e),n.d(e,"default",function(){return i})},"./src/models/TemplateParams.js":function(t,e,n){"use strict";function i(){this.template=null,this.isActive=!1,this.hasSelectorCheckbox=!1,this.hasButtons=!1,this.hasGroupTitle=!1,this.onButtonsRender=null}n.r(e),n.d(e,"default",function(){return i})},"./src/models/TreeItem.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/enums.js");function a(){this.id=null,this.visualAggregatorId=null,this.visualDepth=1,this.partners=[],this.visibility=i.Visibility.Normal,this.actualItemType=null,this.connectorPlacement=0,this.gravity=0,this.relationDegree=0}},"./src/models/TreeItemPosition.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var i=n("./src/graphics/structs/Rect.js"),a=n("./src/enums.js");function s(t){if(this.partnerConnectorOffset=0,this.level=null,this.levelPosition=null,this.offset=0,this.leftPadding=0,this.rightPadding=0,this.actualVisibility=a.Visibility.Normal,this.actualSize=null,this.actualPosition=null,this.contentPosition=null,this.horizontalConnectorsShift=null,this.topConnectorShift=null,this.topConnectorInterval=0,this.bottomConnectorShift=null,this.bottomConnectorInterval=0,this.leftMedianOffset=null,(this.rightMedianOffset=null)!=t)for(var e in t)t.hasOwnProperty(e)&&("actualPosition"===e?this.actualPosition=new i.default(t.actualPosition):this[e]=t[e])}},"./src/models/TreeLevelConnectorStackSize.js":function(t,e,n){"use strict";function i(){this.parentsStackSize=0}n.r(e),n.d(e,"default",function(){return i})},"./src/models/TreeLevelPosition.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/enums.js");function a(t){if(this.currentvisibility=i.Visibility.Normal,this.actualVisibility=i.Visibility.Normal,this.shift=0,this.depth=0,this.nextLevelShift=0,this.horizontalConnectorsDepth=0,this.topConnectorShift=0,this.connectorShift=0,this.levelSpace=0,this.currentOffset=0,this.labels=[],this.labelsRect=null,this.showLabels=!0,this.hasFixedLabels=!1,null!=t)for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])}a.prototype.setShift=function(t,e,n,i,a){return this.shift=t,this.levelSpace=e,this.topConnectorShift=-e/2-n,this.connectorShift=this.depth+i+(a+1)*(e/2),this.nextLevelShift=n+this.depth+i+e+a*e/2,this.nextLevelShift},a.prototype.shiftDown=function(t){this.shift+=t},a.prototype.toString=function(){return this.currentvisibility}},"./src/readers/ArrayReader.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/common/index.js");function i(t,e,n,i,a){this.itemTemplate=t,this.containsUniqueItems=e,this.uniquePropertyKey=n,this.containsPrimitiveValues=Object(s.isNullOrEmpty)(n),this.createSourceHash=i,this.isOrdered=a}i.prototype.read=function(t,e,n,i){var a,s,r,o,l,u,c,d=[],h={},f={},p={},m=n+"-seq";for(e&&Array.isArray(e)||(e=[]),a=i.hash.hasOwnProperty(n)?i.hash[n]:{},s=i.hash.hasOwnProperty(m)?i.hash[m]:{},l=0,u=e.length;l<u;l+=1)r=e[l],o=this.containsUniqueItems?this.containsPrimitiveValues?r:r[this.uniquePropertyKey]:l,h.hasOwnProperty(o)||(c=this.itemTemplate.read(a.hasOwnProperty(o)?a[o]:{},r,n+"-"+l,i),d.push(c),h[o]=c,f[l]=o,this.createSourceHash&&(p[o]=r),this.isOrdered&&s[l]!=f[l]&&(i.isChanged=!0));return i.hash[n]=h,i.hash[m]=f,this.createSourceHash&&(i.sourceHash[n]=p),null!=t&&t.length==d.length||(i.isChanged=!0),d}},"./src/readers/EnumerationReader.js":function(t,e,n){"use strict";function i(t,e,n){for(var i in this.enumeration=t,this.isNullable=e,this.defaultValue=n,this.hash={},t)this.hash[t[i]]=i}n.r(e),n.d(e,"default",function(){return i}),i.prototype.read=function(t,e,n,i){var a;return null!=e&&this.hash.hasOwnProperty(e)||(e=this.isNullable?null:this.defaultValue),t!==(a=e)&&(i.isChanged=!0),a}},"./src/readers/FunctionReader.js":function(t,e,n){"use strict";function i(){}n.r(e),n.d(e,"default",function(){return i}),i.prototype.read=function(t,e,n,i){return"function"==typeof e?e:null}},"./src/readers/ObjectReader.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var l=n("./src/common/index.js");function i(t,e,n){this.dataTemplate=t,this.isNullable=e,this.defaultValue=n}i.prototype.read=function(t,e,n,i){var a,s,r=null,o=Object(l.isObject)(t);if(e=e||(this.isNullable?null:this.defaultValue),Object(l.isObject)(e))for(a in r={},this.dataTemplate)this.dataTemplate.hasOwnProperty(a)&&(s=this.dataTemplate[a],r[a]=s.read(o?t[a]:null,e[a],n+"-"+a,i));else t!==(r=e)&&(i.isChanged=!0);return r}},"./src/readers/ValueReader.js":function(t,e,n){"use strict";function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e,n){this.acceptedTypes=t,this.isNullable=e,this.defaultValue=n,this.hash={};for(var i=0;i<t.length;i+=1){var a=t[i];this.hash[a]=!0}}n.r(e),n.d(e,"default",function(){return i}),i.prototype.stringify=function(t){if(1!=this.hash.object)return t;var n=[];return JSON.stringify(t,function(t,e){return"_"===t[0]?null:null!==e&&"object"==s(e)?-1==n.indexOf(e)?(n.push(e),e):null:e})},i.prototype.read=function(t,e,n,i){var a;return null!=e&&this.hash.hasOwnProperty(s(e))||(e=this.isNullable?null:this.defaultValue),a=e,this.stringify(t)!==this.stringify(e)&&(i.isChanged=!0),a}},"./src/tasks/layout/AlignDiagramTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var C=n("./src/graphics/structs/Size.js"),w=n("./src/graphics/structs/Rect.js"),b=n("./src/graphics/structs/Point.js"),O=n("./src/models/TreeItemPosition.js"),P=n("./src/enums.js"),j=n("./src/algorithms/SpatialIndex.js"),S=n("./src/managers/KeyboardNavigationManager.js");function i(i,a,s,r,o,l,u,c){var d,h,f,p,m,g,T,y,k={treeItemsPositions:{},panelSize:null};function v(){if(null==T)for(var t in T=Object(j.default)(function(){var t,e=[],n={};for(t in k.treeItemsPositions)if(k.treeItemsPositions.hasOwnProperty(t)){var i=k.treeItemsPositions[t];switch(i.actualVisibility){case P.Visibility.Normal:case P.Visibility.Dot:case P.Visibility.Line:var a=i.actualPosition,a=Math.max(a.width,a.height);n.hasOwnProperty(a)||(n[a]=!0,e.push(a))}}return e}()),k.treeItemsPositions)if(k.treeItemsPositions.hasOwnProperty(t)){var e=k.treeItemsPositions[t];if(d.hasOwnProperty(t))switch(e.actualVisibility){case P.Visibility.Normal:case P.Visibility.Dot:case P.Visibility.Line:var n=new w.default(e.actualPosition);n.context=t,T.addRect(n)}}return T}return{process:function(){var t=new C.default(u.getContentSize()),e=o.getOptions().optimalPanelSize,n=new C.default(e);switch(d=(y=T=null)!=l?l.getActiveItems():{},h=u.getItemsPositions(),f=a.getOptions(),p=i.getOptions(),m=s.getOptions(),g=r.getOptions(),p.orientationType){case P.OrientationType.Left:case P.OrientationType.Right:n.invert()}switch(n.scale(1/g.scale),k.panelSize=n,k.treeItemsPositions=h,f.pageFitMode===P.PageFitMode.AutoSize?k.panelSize=new C.default(t):(k.panelSize=new C.default(t),t.width<n.width&&(k.treeItemsPositions={},function(t,e,n){var i;if(c)i=(n-e)/2;else switch(m.horizontalAlignment){case P.HorizontalAlignmentType.Left:i=0;break;case P.HorizontalAlignmentType.Right:i=n-e;break;case P.HorizontalAlignmentType.Center:i=(n-e)/2}!function(t,e,n){var i,a;for(i in h)h.hasOwnProperty(i)&&((a=new O.default(h[i])).actualPosition.translate(e,n),t[i]=a)}(t,i,0)}(k.treeItemsPositions,t.width,n.width),k.panelSize.width=n.width),t.height<n.height&&(k.panelSize.height=n.height)),p.orientationType){case P.OrientationType.Left:case P.OrientationType.Right:k.panelSize.invert()}return!0},getItemPosition:function(t){return k.treeItemsPositions[t]},getItemsPositions:function(){return k.treeItemsPositions},getContentSize:function(){return k.panelSize},getTreeItemForMousePosition:function(i,a,t){var s,r=null,o=null,e=g.scale,n=v();return i/=e,a/=e,e=new w.default(i,a,0,0),s=new b.default(i,a),e.offset(t,t,t,t),n.loopArea(this,e,function(t){var e=t.context;if(t.contains(i,a))return r=e,!0;switch(k.treeItemsPositions[e].actualVisibility){case P.Visibility.Dot:case P.Visibility.Line:var n=s.distanceTo(t.horizontalCenter(),t.verticalCenter());(null==o||n<o)&&(o=n,r=e)}}),r},getNextItem:function(t,e){var n,i=function(){if(null==y)for(var t in y=Object(S.default)(),k.treeItemsPositions){var e;k.treeItemsPositions.hasOwnProperty(t)&&(e=k.treeItemsPositions[t],d.hasOwnProperty(t)&&e.actualVisibility===P.Visibility.Normal&&(e=new w.default(e.actualPosition),y.addRect(e,t)))}return y}();switch(e){case P.OrientationType.Top:n=i.getItemAbove(t);break;case P.OrientationType.Bottom:n=i.getItemBelow(t);break;case P.OrientationType.Left:n=i.getItemOnLeft(t);break;case P.OrientationType.Right:n=i.getItemOnRight(t)}return n}}}},"./src/tasks/layout/ApplyLayoutChangesTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var b=n("./src/graphics/structs/Size.js"),O=n("./src/graphics/structs/Thickness.js"),P=n("./src/enums.js"),j=n("./src/graphics/structs/Rect.js"),S=n("./src/graphics/structs/Point.js");function i(p,m,g,T,y,k,v,C){var w={viewportSize:null,frameThickness:null,framePlaceholderSize:null};return{process:function(){var t=p(),e=y.getOptions().scale,n=(d=g.getOptions()).pageFitMode,i=d.autoSizeMinimum,a=d.autoSizeMaximum,s=k.getContentSize(),r=(h=T.getOptions()).scrollPanelSize,o=h.hasFrame,l=h.hasLevelTitles,u=new b.default(r),c=v.getThickness(),d=new O.default(C.getOptions().thickness),h=n==P.PageFitMode.AutoSize;(r=new b.default(s)).scale(e),h?((u=new b.default(r.width+5,r.height+5)).addThickness(c),d.isPositive()&&u.addThickness(d),u.cropBySize(a),u.maxSize(i),(f=new b.default(u)).removeThickness(c),d.isPositive()&&f.removeThickness(d),u.space()<2*f.space()?u=f:(c=new O.default(0,0,0,0),d=new O.default(0,0,0,0))):(o||(c=new O.default(0,0,0,0)),!l&&d.isPositive()&&(d=new O.default(0,0,0,0))),n=new O.default(c),d.isPositive()&&n.addThickness(d),(a=new b.default(u)).addThickness(n);var i=new j.default(n.left,n.top,u.width,u.height),f=new b.default(a),o=new j.default(0,0,f.width,f.height);return f.scale(1/e),l=new S.default(0,0),n=new S.default(0,0),0!=d.left?(l=new S.default(i.x,i.y),n=new S.default(i.x-d.left,i.bottom())):0!=d.right?(l=new S.default(i.right(),i.y),n=new S.default(i.right()+d.right,i.bottom())):0!=d.top?(l=new S.default(i.x,i.y),n=new S.default(i.right(),i.y-d.top)):0!=d.bottom&&(l=new S.default(i.x,i.bottom()),n=new S.default(i.right(),i.bottom()+d.bottom)),l=new j.default(l,n),(n=new b.default(l)).scale(1/e),t.resize("frameplaceholder",f.width,f.height),t.resize("titlesplaceholder",n.width,n.height),t.resize("placeholder",s.width,s.height),m({autoSize:h,controlSize:a,scale:e,frameMousePanelRect:o,framePlaceholderSize:f,titlesMousePanelRect:l,titlesPlaceholderSize:n,scrollPanelRect:i,mousePanelSize:r,placeholderSize:s}),w.viewportSize=u,w.frameThickness=c,w.frameOffset=d.isPositive()?d:new O.default(0,0,0,0),w.titlesThickness=d,w.framePlaceholderSize=f,!0},getOptimalPanelSize:function(){return new b.default(w.viewportSize.width-5,w.viewportSize.height-5)},getScrollPanelSize:function(){return new b.default(w.viewportSize.width,w.viewportSize.height)},getFrameThickness:function(){return new O.default(w.frameThickness)},getFrameOffset:function(){return new O.default(w.frameOffset)},getTitlesThickness:function(){return new O.default(w.titlesThickness)}}}},"./src/tasks/layout/CenterOnCursorTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var f=n("./src/graphics/structs/Size.js"),p=n("./src/graphics/structs/Point.js"),m=n("./src/graphics/structs/Rect.js");function i(a,s,r,o,l,u,c){var d,h={placeholderOffset:null};return{process:function(){var t=a.getOptions(),e=o.getCursorTreeItem(),n=l.getItemPosition(e),i=new f.default(l.getContentSize()),e=c.getOptions().scale;return h.placeholderOffset=r.getPlaceholderOffset(),t.forceCenterOnCursor&&(d=u.getTransform(),null!=n&&((n=function(t){var a=!1;return d.transformRect(t.x,t.y,t.width,t.height,!0,this,function(t,e,n,i){a=new m.default(t,e,n,i)}),a}(n.actualPosition)).scale(e),i.scale(e),e=s.getScrollPanelSize(),h.placeholderOffset=new p.default(Math.max(Math.min(n.horizontalCenter()-e.width/2,i.width-e.width),0),Math.max(Math.min(n.verticalCenter()-e.height/2,i.height-e.height),0)))),!0},getPlaceholderOffset:function(){return h.placeholderOffset}}}},"./src/tasks/layout/CreateTransformTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/graphics/Transform.js"),r=n("./src/graphics/structs/Size.js");function a(n,a){var s={transform:null};return{process:function(){var t=n.getOptions(),e=new r.default(a.getContentSize());return s.transform=new i.default,s.transform.setOrientation(t.orientationType),s.transform.size=new r.default(e),!0},getTransform:function(){return s.transform},getTreeItemForMousePosition:function(t,e,n){var i=null;return s.transform.transformPoint(t,e,!1,this,function(t,e){i=a.getTreeItemForMousePosition(t,e,n)}),i},description:"Create coordinate system transformation object."}}},"./src/tasks/layout/CurrentControlSizeTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var i=n("./src/readers/ObjectReader.js"),a=n("./src/readers/ValueReader.js"),p=n("./src/enums.js"),m=n("./src/graphics/structs/Size.js"),g=n("./src/graphics/structs/Thickness.js");function s(o,l,u,c){var d={},h={},f=new i.default({scrollPanelSize:new i.default({width:new a.default(["number"],!0),height:new a.default(["number"],!0)},!0),optimalPanelSize:new i.default({width:new a.default(["number"],!0),height:new a.default(["number"],!0)},!0),hasFrame:new a.default(["boolean"],!0),hasLevelTitles:new a.default(["boolean"],!0)});return{process:function(){var t,e=!1,n={isChanged:!1,hash:h},i=o.getOptions(),a=l.getOptions().pageFitMode,s=new g.default(u.getThickness()),r=new g.default(c.getOptions().thickness);switch(i.hasLevelTitles=!1,r.isPositive()&&((t=new m.default(i.scrollPanelSize)).removeThickness(r),i.scrollPanelSize.space()<2*t.space()&&(i.scrollPanelSize=t,i.hasLevelTitles=!0)),i.hasFrame=!1,s.isPositive()&&((t=new m.default(i.scrollPanelSize)).removeThickness(s),i.scrollPanelSize.space()<2*t.space()&&(i.scrollPanelSize=t,i.hasFrame=!0)),i.optimalPanelSize=new m.default(i.scrollPanelSize.width-25,i.scrollPanelSize.height-25),d=f.read(d,i,"layout",n),a){case p.PageFitMode.PageWidth:case p.PageFitMode.PageHeight:case p.PageFitMode.FitToPage:case p.PageFitMode.None:case p.PageFitMode.SelectionOnly:e=n.isChanged}return e},getOptions:function(){return d}}}},"./src/tasks/layout/CurrentScrollPositionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ObjectReader.js"),o=n("./src/readers/ValueReader.js");function i(n){var i={placeholderOffset:null},a={},s=new r.default({placeholderOffset:new r.default({x:new o.default(["number"],!0),y:new o.default(["number"],!0)},!0)});return{process:function(){var t={isChanged:!1,hash:a},e=n.getOptions();return i=s.read(i,e,"layout",t),t.isChanged},getPlaceholderOffset:function(){return i.placeholderOffset}}}},"./src/tasks/layout/DummyCurrentControlSizeTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/graphics/structs/Size.js");function a(t){return{process:function(){return!0},getOptions:function(){return{scrollPanelSize:new i.default(800,600),optimalPanelSize:new i.default(775,575),hasFrame:!0,hasLevelTitles:!0}}}}},"./src/tasks/layout/FamLogicalLevelsPlacementTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var g=n("./src/algorithms/getMergedIntervals.js"),T=n("./src/graphics/structs/Interval.js");function i(p,m){var t={positions:[]};return{getPositions:function(){return t.positions||(t.positions=function(){var i=[],n=p.getTreeLevels(),a=m.getItemsPositions(),s=0;n.loopLevels(this,function(t,e){n.loopLevelItems(this,t,function(t,e,n){if(e.isVisible&&e.isActive){t=a[t];return t&&(t=new T.default(t.topConnectorShift||t.actualPosition.y,t.bottomConnectorShift-1,s++),i.push(t)),!0}})});var e=[];Object(g.default)(this,i,function(t){e.push(t)}),i=e,e=[];for(var t=null,s=0,r=i.length;s<r;s+=1){var o=i[s];t&&t.context===o.context?t.to=o.to:(t=o,e.push(o))}for(0<(i=e).length&&(i[0].from=0),s=0,r=i.length-1;s<r;s+=1){var l=i[s],u=i[s+1];l.to=u.from}for(var c=null,s=0,r=i.length;s<r;s+=1)o=i[s],c=null===c?o.context:Math.min(c,o.context);for(var d={},s=0,r=i.length;s<r;s+=1){var h=(o=i[s]).context-c,f=d[h];f?f.push(o):d[h]=[o]}return d}()),t.positions},process:function(){return!(t.positions=null)}}}},"./src/tasks/layout/FrameSizeTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var a=n("./src/readers/ObjectReader.js"),s=n("./src/readers/ValueReader.js"),T=n("./src/graphics/structs/Thickness.js"),y=n("./src/graphics/structs/Size.js");function i(p,m,g){var e={},n={},i=new a.default({median:new a.default({left:new s.default(["number"],!1,0),top:new s.default(["number"],!1,0),right:new s.default(["number"],!1,0),bottom:new s.default(["number"],!1,0)},!1,new T.default(0,0,0,0)),thickness:new a.default({left:new s.default(["number"],!1,0),top:new s.default(["number"],!1,0),right:new s.default(["number"],!1,0),bottom:new s.default(["number"],!1,0)},!1,new T.default(0,0,0,0))});return{process:function(){var t={isChanged:!1,hash:n};return e=i.read(e,function(){var t=p.getOptions(),e=t.showFrame,n=t.frameInnerPadding,i=t.frameOuterPadding,a=g.getOptions().scale,s=new T.default(0,0,0,0),t=new T.default(0,0,0,0);if(e){var r,o,l=new y.default(0,0),u=new T.default(0,0,0,0),c=m.getItemTemplates();for(r=0,o=c.length;r<o;r+=1){var d=c[r].templateConfig,h=new T.default(d.cursorPadding),f=new T.default(d.highlightPadding);h.addThickness(d.cursorBorderWidth),f.addThickness(d.highlightBorderWidth),l.maxSize(d.minimizedItemSize),u.maxThickness(d.cursorPadding),u.maxThickness(d.highlightPadding)}(s=new T.default(Math.ceil(l.width/2)+u.right,Math.ceil(l.height/2)+u.bottom,Math.ceil(l.width/2)+u.left,Math.ceil(l.height/2)+u.top)).addThickness(n),s.scale(a),(t=new T.default(l.width+u.left+u.right,l.height+u.top+u.bottom,l.width+u.left+u.right,l.height+u.top+u.bottom)).addThickness(n),t.addThickness(i),t.scale(a)}return{median:s,thickness:t}}(),"options",t),t.isChanged},getMedian:function(){return e.median},getThickness:function(){return e.thickness}}}},"./src/tasks/layout/LevelTitleSizeTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var a=n("./src/readers/ObjectReader.js"),s=n("./src/readers/ValueReader.js"),d=n("./src/graphics/structs/Thickness.js"),h=n("./src/enums.js");function i(o,l,u,c){var e={},n={},i=new a.default({thickness:new a.default({left:new s.default(["number"],!1,0),top:new s.default(["number"],!1,0),right:new s.default(["number"],!1,0),bottom:new s.default(["number"],!1,0)},!1,new d.default(0,0,0,0))});return{process:function(){var t={isChanged:!1,hash:n};return e=i.read(e,function(){var t=o.getOptions(),e=t.levelTitlePlaceInside,n=t.levelTitlePanelSize,i=t.levelTitlePlacementType,a=c.getOptions().scale,s=u.getOptions().orientationType,t=l.getAnnotations(),r=new d.default(0,0,0,0);if(0<t.length){switch(e&&(n=-n),i){case h.AdviserPlacementType.Right:switch(s){case h.OrientationType.Left:r=new d.default(0,n,0,0);break;case h.OrientationType.Right:r=new d.default(0,0,0,n);break;case h.OrientationType.Top:case h.OrientationType.Bottom:r=new d.default(0,0,n,0)}break;case h.AdviserPlacementType.Left:default:switch(s){case h.OrientationType.Left:r=new d.default(0,0,0,n);break;case h.OrientationType.Right:r=new d.default(0,n,0,0);break;case h.OrientationType.Top:case h.OrientationType.Bottom:r=new d.default(n,0,0,0)}}r.scale(a)}return{thickness:r}}(),"options",t),t.isChanged},getOptions:function(){return e}}}},"./src/tasks/layout/MergeLevelIntervalsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var d=n("./src/algorithms/getMergedIntervals.js");function i(n,i){var a={positions:[]};return{getPositions:function(){return a.positions},process:function(){var t,e=n.getAnnotations();return a.positions=[],0<e.length&&(t=i.getPositions(),a.positions=function(t,e){var n,i,a,s,r={},o={};for(n=0,i=t.length;n<i;n+=1){var l=t[n].levels,u=[];if(null!=l&&0<l.length)for(a=0,s=l.length;a<s;a+=1){var c=l[a];r[c]||(r[c]=!0,u=[],null!=e[c]&&(u=u.concat(e[c])))}o[n]=[],Object(d.default)(this,u,function(t){o[n].push(t)})}return o}(e,t)),!0}}}},"./src/tasks/layout/OrgLogicalLevelsPlacementTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var T=n("./src/enums.js"),y=n("./src/algorithms/getMergedIntervals.js"),k=n("./src/graphics/structs/Interval.js");function i(m,g){var t={positions:[]};return{getPositions:function(){return t.positions||(t.positions=function(){var i=[],a=m.getOrgTree(),s=g.getItemsPositions(),r={};a.loopLevels(this,function(t,e,n){return e.itemType!=T.ItemType.Regular?a.SKIP:void(!e.isVisible||(t=s[t])&&(e=(n=new k.default(t.topConnectorShift,t.bottomConnectorShift-1,n+e.levelOffset)).toString(),r[e]||(r[e]=!0,i.push(n))))});var e=[];Object(y.default)(this,i,function(t){e.push(t)}),i=e,e=[];for(var t=null,n=0,o=i.length;n<o;n+=1){var l=i[n];t&&t.context===l.context?t.to=l.to:(t=l,e.push(l))}for(0<(i=e).length&&(i[0].from=0),n=0,o=i.length-1;n<o;n+=1){var u=i[n],c=i[n+1];u.to=c.from}for(var d=null,n=0,o=i.length;n<o;n+=1)l=i[n],d=null===d?l.context:Math.min(d,l.context);for(var h={},n=0,o=i.length;n<o;n+=1){var f=(l=i[n]).context-d,p=h[f];p?p.push(l):h[f]=[l]}return h}()),t.positions},process:function(){return!(t.positions=null)}}}},"./src/tasks/layout/ProjectItemsToFrameTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/algorithms/SpatialIndex.js"),v=n("./src/graphics/structs/Thickness.js"),C=n("./src/graphics/structs/Size.js"),w=n("./src/graphics/structs/Point.js"),b=n("./src/graphics/structs/Rect.js");function a(l,u,c,d,h,f,p,m){var g,T,y={positions:{}};function k(){if(null==T)for(var t in T=Object(i.default)(function(){var t,e,n=[],i={};for(t in y.positions)y.positions.hasOwnProperty(t)&&(e=y.positions[t],e=Math.max(e.width,e.height),i.hasOwnProperty(e)||(i[e]=!0,n.push(e)));return n}()),y.positions){var e;y.positions.hasOwnProperty(t)&&((e=y.positions[t]).context=t,T.addRect(e))}return T}return{getPositions:function(){return y.positions},getTreeItemForMousePosition:function(t,e,n){var i,a=null,s=null,r=g.scale,o=k();return t/=r,e/=r,r=new b.default(t,e,0,0),i=new w.default(t,e),r.offset(n,n,n,n),o.loopArea(this,r,function(t){var e=t.context,t=i.distanceTo(t.horizontalCenter(),t.verticalCenter());(null==s||t<s)&&(s=t,a=e)}),a},process:function(){var t=h.getItemsPositions(),e=l.getTransform();g=d.getOptions(),T=null,y.positions=[];var a=function(){var t=null;{var e,n,i,a,s,r;null!=f&&(e=g.scale,n=new w.default(f.getPlaceholderOffset()),r=new C.default(c.getScrollPanelSize()),s=new v.default(c.getFrameThickness()),i=new v.default(c.getFrameOffset()),a=new v.default(u.getMedian()),s.isEmpty()||(n.scale(1/e),s.scale(1/e),i.scale(1/e),r.scale(1/e),a.scale(1/e),s=new w.default(n.x-i.left-s.left,n.y-i.top-s.top),(r=new b.default(n.x,n.y,r.width,r.height)).offset(i),r.offset(a),t={offset:s,rect:r}))}return t}(),n=m.getItems();if(null!=a)for(var i=0,s=n.length;i<s;i+=1){var r=n[i],o=t[r].actualPosition;e.transformRect(o.x,o.y,o.width,o.height,!0,this,function(t,e,n,i){n=new b.default(t,e,n,i);a.rect.overlaps(n)||null!=(i=a.rect.getProjectionPoint(n.centerPoint()))&&(n=p.getTemplateParams(r).template.templateConfig,n=new C.default(n.minimizedItemSize),(n=new b.default(i.x-n.width/2,i.y-n.height/2,n.width,n.height)).translate(-a.offset.x,-a.offset.y),y.positions[r]=n)})}return!0}}}},"./src/tasks/layout/VerticalOffsetTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/graphics/structs/Interval.js"),r=n("./src/graphics/structs/Rect.js"),o=n("./src/readers/ObjectReader.js"),l=n("./src/readers/ValueReader.js");function i(e){var n={},i={},a=new o.default({verticalOffset:new o.default({from:new l.default(["number"],!1,0),to:new l.default(["number"],!1,0)},!1,new s.default(0,0))});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,{verticalOffset:new r.default(e.getViewPortPosition()).verticalInterval()},"options",t),t.isChanged},getVerticalOffset:function(){return n.verticalOffset}}}},"./src/tasks/layout/ViewPortPlacementTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var l=n("./src/graphics/structs/Rect.js"),u=n("./src/graphics/structs/Point.js"),c=n("./src/graphics/structs/Size.js"),d=n("./src/readers/ObjectReader.js"),h=n("./src/readers/ValueReader.js");function i(i,s,n,r){var e={},a={},o=new d.default({viewPortPosition:new d.default({x:new h.default(["number"],!1,0),y:new h.default(["number"],!1,0),width:new h.default(["number"],!1,0),height:new h.default(["number"],!1,0)},!1,new l.default(0,0,0,0))});return{process:function(){var t={isChanged:!1,hash:a};return e=o.read(e,function(){var a,t=n.getTransform(),e=function(){var t=i.getOptions().scale,e=s?new u.default(s.getPlaceholderOffset()):new u.default(0,0),n=new c.default(r.getOptimalPanelSize());return e.scale(1/t),n.scale(1/t),new l.default(e.x,e.y,n.width,n.height)}();null!=e&&t.transformRect(e.x,e.y,e.width,e.height,!1,this,function(t,e,n,i){a=new l.default(t,e,n,i)});return{viewPortPosition:a}}(),"options",t),t.isChanged},getViewPortPosition:function(){return e.viewPortPosition}}}},"./src/tasks/options/CalloutOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ArrayReader.js"),o=n("./src/readers/ValueReader.js"),l=n("./src/readers/ObjectReader.js"),u=n("./src/readers/EnumerationReader.js"),c=n("./src/enums.js");function i(e,t,n){var i={},a={},s=new l.default({calloutMaximumVisibility:new u.default(c.Visibility,!1,t.calloutMaximumVisibility),showCallout:new o.default(["boolean"],!1,t.showCallout),calloutPlacementOffset:new o.default(["number"],!1,t.calloutPlacementOffset),orientationType:new u.default(c.OrientationType,!1,t.orientationType),defaultTemplateName:new o.default(["string"],!0),defaultCalloutTemplateName:new o.default(["string"],!0),calloutfillColor:new o.default(["string"],!1,t.calloutfillColor),calloutBorderColor:new o.default(["string"],!0),calloutOffset:new o.default(["number"],!1,t.calloutOffset),calloutCornerRadius:new o.default(["string"],!1,t.calloutCornerRadius),calloutPointerWidth:new o.default(["string"],!1,t.calloutPointerWidth),calloutLineWidth:new o.default(["number"],!1,t.calloutLineWidth),calloutOpacity:new o.default(["number"],!1,t.calloutOpacity),items:new r.default(new l.default({id:new o.default(["string","number"],!0),showCallout:new u.default(c.Enabled,!1,t.showCallout),calloutTemplateName:new o.default(["string"],!0),templateName:new o.default(["string"],!0)}),!0,"id")});return{process:function(){var t={isChanged:!1,hash:a};return i=s.read(i,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return i},getItemOptions:function(t){return a["options-items"][t]},description:"Checks item callout options."}}},"./src/tasks/options/ConnectorsOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ValueReader.js"),r=n("./src/readers/ObjectReader.js"),o=n("./src/readers/EnumerationReader.js"),l=n("./src/enums.js");function i(e,t){var n={},i={},a=new r.default({arrowsDirection:new o.default(l.GroupByType,!1,t.arrowsDirection),showExtraArrows:new s.default(["boolean"],!1,t.showExtraArrows),extraArrowsMinimumSpace:new s.default(["number"],!1,t.extraArrowsMinimumSpace),connectorType:new o.default(l.ConnectorType,!1,t.hasOwnProperty("connectorType")?t.connectorType:l.ConnectorType.Squared),showNeigboursConnectorsHighlighted:new o.default(l.ConnectorType,!1,!!t.hasOwnProperty("showNeigboursConnectorsHighlighted")&&t.showNeigboursConnectorsHighlighted),elbowType:new o.default(l.ElbowType,!1,t.elbowType),bevelSize:new s.default(["number"],!1,t.bevelSize),elbowDotSize:new s.default(["number"],!1,t.elbowDotSize),linesColor:new s.default(["string"],!1,t.linesColor),linesWidth:new s.default(["number"],!1,t.linesWidth),linesType:new o.default(l.LineType,!1,t.linesType),highlightLinesColor:new s.default(["string"],!1,t.highlightLinesColor),highlightLinesWidth:new s.default(["number"],!1,t.highlightLinesWidth),highlightLinesType:new o.default(l.LineType,!1,t.highlightLinesType)});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Checks connector lines drawing options."}}},"./src/tasks/options/FamItemsOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ArrayReader.js"),o=n("./src/readers/ValueReader.js"),l=n("./src/readers/ObjectReader.js");function i(e,t){var n={},i={},a={},s=new l.default({items:new r.default(new l.default({id:new o.default(["string","number"],!0),parents:new r.default(new o.default(["string","number"],!0),!0),isActive:new o.default(["boolean"],!1,t.isActive)}),!0,"id",!0)});return{process:function(){var t={isChanged:!1,hash:i,sourceHash:a};return n=s.read(n,e.getOptions(),"options",t),t.isChanged},getItems:function(){return n.items},getConfig:function(t){return a["options-items"][t]}}}},"./src/tasks/options/FamVisualTreeOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/enums.js");function a(t){var e={leavesPlacementType:i.ChildrenPlacementType.Horizontal,childrenPlacementType:i.ChildrenPlacementType.Horizontal,maximumColumnsInMatrix:6,horizontalAlignment:i.HorizontalAlignmentType.Center};return{process:function(){return!1},getOptions:function(){return e}}}},"./src/tasks/options/FrameOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ValueReader.js"),r=n("./src/readers/ObjectReader.js");function i(e,t){var n={},i={},a=new r.default({showFrame:new s.default(["boolean"],!1,t.showFrame),frameInnerPadding:new r.default({left:new s.default(["number"],!1,t.frameInnerPadding.left),top:new s.default(["number"],!1,t.frameInnerPadding.top),right:new s.default(["number"],!1,t.frameInnerPadding.right),bottom:new s.default(["number"],!1,t.frameInnerPadding.bottom)},!1,t.frameInnerPadding),frameOuterPadding:new r.default({left:new s.default(["number"],!1,t.frameOuterPadding.left),top:new s.default(["number"],!1,t.frameOuterPadding.top),right:new s.default(["number"],!1,t.frameOuterPadding.right),bottom:new s.default(["number"],!1,t.frameOuterPadding.bottom)},!1,t.frameOuterPadding)});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Checks frame options."}}},"./src/tasks/options/HideGrandParentsConnectorsOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ValueReader.js"),r=n("./src/readers/ObjectReader.js");function i(e,t){var n={},i={},a=new r.default({hideGrandParentsConnectors:new s.default(["boolean"],!1,t.hideGrandParentsConnectors)});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n}}}},"./src/tasks/options/ItemsContentOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ValueReader.js"),o=n("./src/readers/ObjectReader.js"),l=n("./src/readers/ArrayReader.js");function i(e,t){var n={},i={},a={},s=new o.default({items:new l.default(new o.default({id:new r.default(["string","number"],!0),title:new r.default(["string"],!0),description:new r.default(["string"],!0),image:new r.default(["string"],!0),context:new r.default(["string","number","object"],!0),itemTitleColor:new r.default(["string"],!1,t.itemTitleColor),groupTitle:new r.default(["string"],!1,t.groupTitle),groupTitleColor:new r.default(["string"],!1,t.groupTitleColor)}),!0,"id",!0,!0)});return{process:function(){var t={isChanged:!1,hash:i,sourceHash:a};return n=s.read(n,e.getOptions(),"options",t),t.isChanged},getItems:function(){return n.items},getConfig:function(t){return a["options-items"][t]},description:"Checks items configuration options effecting their placement in layout."}}},"./src/tasks/options/ItemsSizesOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ArrayReader.js"),o=n("./src/readers/ValueReader.js"),l=n("./src/readers/ObjectReader.js"),u=n("./src/readers/EnumerationReader.js"),c=n("./src/readers/FunctionReader.js"),d=n("./src/enums.js");function i(e,t,n){var i={},a={},s=new l.default({defaultTemplateName:new o.default(["string"],!0),defaultLabelAnnotationTemplate:new o.default(["string"],!0),hasSelectorCheckbox:new u.default(d.Enabled,!1,t.hasSelectorCheckbox),hasButtons:new u.default(d.Enabled,!1,t.hasButtons),buttonsPanelSize:new o.default(["number"],!1,t.buttonsPanelSize),groupTitlePanelSize:new o.default(["number"],!1,t.groupTitlePanelSize),groupTitlePlacementType:new u.default(d.AdviserPlacementType,!1,t.groupTitlePlacementType),checkBoxPanelSize:new o.default(["number"],!1,t.checkBoxPanelSize),selectCheckBoxLabel:new o.default(["string"],!1,t.selectCheckBoxLabel),onButtonsRender:new c.default,pageFitMode:new u.default(d.PageFitMode,!1,t.pageFitMode),minimalVisibility:new u.default(d.Visibility,!1,t.minimalVisibility),selectionPathMode:new u.default(d.SelectionPathMode,!1,t.selectionPathMode),autoSizeMinimum:new l.default({width:new o.default(["number"],!1,t.autoSizeMinimum.width),height:new o.default(["number"],!1,t.autoSizeMinimum.height)},!1,t.autoSizeMinimum),autoSizeMaximum:new l.default({width:new o.default(["number"],!1,t.autoSizeMaximum.width),height:new o.default(["number"],!1,t.autoSizeMaximum.height)},!1,t.autoSizeMaximum),scale:new o.default(["number"],!1,t.scale),maximumScale:new o.default(["number"],!1,t.maximumScale),minimumScale:new o.default(["number"],!1,t.minimumScale),normalLevelShift:new o.default(["number"],!1,t.normalLevelShift),dotLevelShift:new o.default(["number"],!1,t.dotLevelShift),lineLevelShift:new o.default(["number"],!1,t.lineLevelShift),normalItemsInterval:new o.default(["number"],!1,t.normalItemsInterval),dotItemsInterval:new o.default(["number"],!1,t.dotItemsInterval),lineItemsInterval:new o.default(["number"],!1,t.lineItemsInterval),cousinsIntervalMultiplier:new o.default(["number"],!1,t.cousinsIntervalMultiplier),verticalAlignment:new u.default(d.VerticalAlignmentType,!1,t.verticalAlignment),items:new r.default(new l.default({id:new o.default(["string","number"],!0),groupTitle:new o.default(["string","number"],!0),isVisible:new o.default(["boolean","number"],!1,n.isVisible),isActive:new o.default(["boolean","number"],!1,n.isActive),hasSelectorCheckbox:new u.default(d.Enabled,!1,n.hasSelectorCheckbox),hasButtons:new u.default(d.Enabled,!1,n.hasButtons),templateName:new o.default(["string"],!0)}),!0,"id")});return{process:function(){var t={isChanged:!1,hash:a};return i=s.read(i,e.getOptions(),"options",t),t.isChanged},getItemOptions:function(t){return a["options-items"][t]},getOptions:function(){return i},description:"Checks items size options."}}},"./src/tasks/options/LabelsOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ArrayReader.js"),o=n("./src/readers/ValueReader.js"),l=n("./src/readers/ObjectReader.js"),u=n("./src/readers/EnumerationReader.js"),c=n("./src/enums.js");function i(e,t,n){var i={},a={},s=new l.default({showLabels:new u.default(c.Enabled,!1,t.showLabels),labelOffset:new o.default(["number"],!1,t.labelOffset),labelFontSize:new o.default(["string"],!1,t.labelFontSize),labelFontFamily:new o.default(["string"],!1,t.labelFontFamily),labelFontStyle:new o.default(["string"],!1,t.labelFontStyle),labelFontWeight:new o.default(["string"],!1,t.labelFontWeight),labelColor:new o.default(["string"],!1,t.labelColor),labelSize:new l.default({width:new o.default(["number"],!1,t.labelSize.width),height:new o.default(["number"],!1,t.labelSize.height)},!1,t.labelSize),labelOrientation:new u.default(c.TextOrientationType,!1,t.labelOrientation),labelPlacement:new u.default(c.PlacementType,!1,t.labelPlacement),arrowsDirection:new u.default(c.GroupByType,!1,t.arrowsDirection),items:new r.default(new l.default({id:new o.default(["string","number"],!0),label:new o.default(["string","number","object"],!0),showLabel:new u.default(c.Enabled,!1,n.showLabel),labelSize:new l.default({width:new o.default(["number"],!1,0),height:new o.default(["number"],!1,0)},!0),labelOrientation:new u.default(c.TextOrientationType,!1,n.labelOrientation),labelPlacement:new u.default(c.PlacementType,!1,n.labelPlacement)}),!0,"id")});return{process:function(){var t={isChanged:!1,hash:a};return i=s.read(i,e.getOptions(),"options",t),t.isChanged},getItemOptions:function(t){return a["options-items"][t]},getItemsOptions:function(){return a["options-items"]},getOptions:function(){return i},description:"Checks items labels options."}}},"./src/tasks/options/LayoutOptionsTask.js":function(t,e,n){"use strict";function i(t,e){var n={};return{process:function(){return n=t(),!0},getOptions:function(){return n},description:"Raw layout options."}}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/options/LevelTitlePlacementOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ValueReader.js"),r=n("./src/readers/ObjectReader.js"),o=n("./src/readers/EnumerationReader.js"),l=n("./src/enums.js");function i(e,t){var n={},i={},a=new r.default({levelTitlePlaceInside:new s.default(["boolean"],!1,t.levelTitlePlaceInside),levelTitlePanelSize:new s.default(["number"],!1,t.levelTitlePanelSize),levelTitlePlacementType:new o.default(l.AdviserPlacementType,!1,t.levelTitlePlacementType)});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Level annotation title placement options."}}},"./src/tasks/options/LevelTitleTemplateOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ValueReader.js"),r=n("./src/readers/ObjectReader.js"),o=n("./src/readers/EnumerationReader.js"),l=n("./src/enums.js");function i(e,t){var n={},i={},a=new r.default({levelTitleOrientation:new o.default(l.TextOrientationType,!1,t.levelTitleOrientation),levelTitleVerticalAlignment:new o.default(l.VerticalAlignmentType,!1,t.levelTitleVerticalAlignment),levelTitleHorizontalAlignment:new o.default(l.HorizontalAlignmentType,!1,t.levelTitleHorizontalAlignment),levelTitleFontSize:new s.default(["string"],!1,t.levelTitleFontSize),levelTitleFontFamily:new s.default(["string"],!1,t.levelTitleFontFamily),levelTitleFontColor:new s.default(["string"],!1,t.levelTitleFontColor),levelTitleColor:new s.default(["string"],!1,t.levelTitleColor),levelTitleFontWeight:new s.default(["string"],!1,t.levelTitleFontWeight),levelTitleFontStyle:new s.default(["string"],!1,t.levelTitleFontStyle)});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Level annotation title template options."}}},"./src/tasks/options/LinePaletteOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ValueReader.js"),r=n("./src/readers/ObjectReader.js"),o=n("./src/readers/ArrayReader.js"),l=n("./src/readers/EnumerationReader.js"),u=n("./src/enums.js");function i(e,t){var n={},i={},a=new r.default({linesPalette:new o.default(new r.default({lineColor:new s.default(["string"],!1,t.lineColor),lineWidth:new s.default(["number"],!1,t.lineWidth),lineType:new l.default(u.LineType,!1,t.lineType)}),!1)});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n}}}},"./src/tasks/options/MinimizedItemsOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ObjectReader.js"),r=n("./src/readers/EnumerationReader.js"),o=n("./src/readers/ArrayReader.js"),l=n("./src/readers/ValueReader.js"),u=n("./src/enums.js");function i(e){var n={},i={},a=new s.default({minimizedItemShapeType:new r.default(u.ShapeType,!0),items:new o.default(new s.default({id:new l.default(["string","number"],!0),minimizedItemShapeType:new r.default(u.ShapeType,!0),itemTitleColor:new l.default(["string"],!0)}),!0,"id")});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getItemOptions:function(t){return i["options-items"][t]},getOptions:function(){return n},description:"Checks minimized items drawing options."}}},"./src/tasks/options/NormalizeOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ValueReader.js"),r=n("./src/readers/ObjectReader.js"),o=n("./src/readers/EnumerationReader.js"),l=n("./src/enums.js");function i(e,t){var n={},i={},a=new r.default({groupByType:new o.default(l.GroupByType,!1,t.groupByType),alignBylevels:new s.default(["boolean"],!1,t.alignBylevels)});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n}}}},"./src/tasks/options/OptionsTask.js":function(t,e,n){"use strict";function i(t){return{process:function(){return!0},getOptions:t,description:"Raw options."}}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/options/OrderFamilyNodesOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ValueReader.js"),o=n("./src/readers/ObjectReader.js"),l=n("./src/readers/ArrayReader.js"),u=n("./src/readers/EnumerationReader.js"),c=n("./src/enums.js");function i(e,t,n){var i={},a={},s=new o.default({enableMatrixLayout:new r.default(["boolean"],!1,t.enableMatrixLayout),minimumMatrixSize:new r.default(["number"],!1,t.minimumMatrixSize),maximumColumnsInMatrix:new r.default(["number"],!1,t.maximumColumnsInMatrix),items:new l.default(new o.default({id:new r.default(["string","number"],!0),position:new r.default(["number"],!0),relativeItem:new r.default(["string","number"],!0),placementType:new u.default(c.AdviserPlacementType,!1,n.placementType),primaryParent:new r.default(["string","number"],!0)}),!0,"id")});return{process:function(){var t={isChanged:!1,hash:a};return i=s.read(i,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return i}}}},"./src/tasks/options/OrgItemsOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ValueReader.js"),o=n("./src/readers/ObjectReader.js"),l=n("./src/readers/ArrayReader.js"),u=n("./src/readers/EnumerationReader.js"),c=n("./src/enums.js");function i(e,t){var n={},i={},a={},s=new o.default({items:new l.default(new o.default({id:new r.default(["string","number"],!0),parent:new r.default(["string","number"],!0),itemType:new u.default(c.ItemType,!1,t.itemType),adviserPlacementType:new u.default(c.AdviserPlacementType,!1,t.adviserPlacementType),childrenPlacementType:new u.default(c.ChildrenPlacementType,!1,t.childrenPlacementType),placeAdvisersAboveChildren:new u.default(c.Enabled,!1,t.placeAdvisersAboveChildren),placeAssistantsAboveChildren:new u.default(c.Enabled,!1,t.placeAssistantsAboveChildren),isVisible:new r.default(["boolean"],!1,t.isVisible),isActive:new r.default(["boolean"],!1,t.isActive),levelOffset:new r.default(["number"],!0)}),!0,"id",!0,!0)});return{process:function(){var t={isChanged:!1,hash:i,sourceHash:a};return n=s.read(n,e.getOptions(),"options",t),t.isChanged},getItems:function(){return n.items},getConfig:function(t){return a["options-items"][t]},description:"Checks items configuration options effecting their placement in layout."}}},"./src/tasks/options/OrgVisualTreeOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ValueReader.js"),r=n("./src/readers/ObjectReader.js"),o=n("./src/readers/EnumerationReader.js"),l=n("./src/enums.js");function i(e,t){var n={},i={},a=new r.default({leavesPlacementType:new o.default(l.ChildrenPlacementType,!1,t.leavesPlacementType),childrenPlacementType:new o.default(l.ChildrenPlacementType,!1,t.childrenPlacementType),placeAdvisersAboveChildren:new s.default(["boolean"],!1,t.placeAdvisersAboveChildren),placeAssistantsAboveChildren:new s.default(["boolean"],!1,t.placeAssistantsAboveChildren),maximumColumnsInMatrix:new s.default(["number"],!1,t.maximumColumnsInMatrix),horizontalAlignment:new o.default(l.HorizontalAlignmentType,!1,t.horizontalAlignment)});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Checks items layout options."}}},"./src/tasks/options/OrientationOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ObjectReader.js"),r=n("./src/readers/EnumerationReader.js"),o=n("./src/enums.js");function i(e,t){var n={},i={},a=new s.default({orientationType:new r.default(o.OrientationType,!1,t.orientationType)});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Checks diagram orientation options."}}},"./src/tasks/options/RemoveLoopsOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ObjectReader.js"),r=n("./src/readers/EnumerationReader.js"),o=n("./src/enums.js");function i(e,t){var n={},i={},a=new s.default({loopsLayoutMode:new r.default(o.LoopsLayoutMode,!1,t.loopsLayoutMode)});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n}}}},"./src/tasks/options/ScaleOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ValueReader.js"),r=n("./src/readers/ObjectReader.js");function i(e,t){var n={},i={},a=new r.default({scale:new s.default(["number"],!1,t.scale),minimumScale:new s.default(["number"],!1,t.minimumScale),maximumScale:new s.default(["number"],!1,t.maximumScale)});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return n},description:"Checks control scale options."}}},"./src/tasks/options/SpousesOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ObjectReader.js"),r=n("./src/readers/ArrayReader.js"),o=n("./src/readers/ValueReader.js");function i(e,t){var n={},i={},a=new s.default({items:new r.default(new s.default({id:new o.default(["string","number"],!0),spouses:new r.default(new o.default(["string","number"],!0),!0)}),!0,"id")});return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getOptions(),"options",t),t.isChanged},getItems:function(){return n.items}}}},"./src/tasks/options/TemplatesOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ArrayReader.js"),o=n("./src/readers/ValueReader.js"),l=n("./src/readers/ObjectReader.js"),u=n("./src/readers/EnumerationReader.js"),c=n("./src/readers/FunctionReader.js"),d=n("./src/enums.js");function i(e,t,n){var i={},a={},s=new l.default({groupTitleVerticalAlignment:new u.default(d.VerticalAlignmentType,!1,t.groupTitleVerticalAlignment),groupTitleHorizontalAlignment:new u.default(d.HorizontalAlignmentType,!1,t.groupTitleHorizontalAlignment),groupTitleOrientation:new u.default(d.TextOrientationType,!1,t.groupTitleOrientation),groupTitleFontSize:new o.default(["string"],!1,t.groupTitleFontSize),groupTitleFontFamily:new o.default(["string"],!1,t.groupTitleFontFamily),groupTitleColor:new o.default(["string"],!1,t.groupTitleColor),groupTitleFontWeight:new o.default(["string"],!1,t.groupTitleFontWeight),groupTitleFontStyle:new o.default(["string"],!1,t.groupTitleFontStyle),itemTitleFirstFontColor:new o.default(["string"],!1,t.itemTitleFirstFontColor),itemTitleSecondFontColor:new o.default(["string"],!1,t.itemTitleSecondFontColor),selectCheckBoxLabel:new o.default(["string"],!1,t.selectCheckBoxLabel),onItemRender:new c.default,onCursorRender:new c.default,onHighlightRender:new c.default,templates:new r.default(new l.default({name:new o.default(["string"],!0),isActive:new o.default(["boolean"],!1,n.isActive),itemSize:new l.default({width:new o.default(["number"],!1,n.itemSize.width),height:new o.default(["number"],!1,n.itemSize.height)},!1,n.itemSize),itemBorderWidth:new o.default(["number"],!1,n.itemBorderWidth),itemTemplate:new o.default(["string","object"],!0),minimizedItemShapeType:new u.default(d.ShapeType,!0),minimizedItemSize:new l.default({width:new o.default(["number"],!1,n.minimizedItemSize.width),height:new o.default(["number"],!1,n.minimizedItemSize.height)},!1,n.minimizedItemSize),minimizedItemCornerRadius:new o.default(["number"],!0),minimizedItemLineWidth:new o.default(["number"],!1,n.minimizedItemLineWidth),minimizedItemBorderColor:new o.default(["string"],!0),minimizedItemLineType:new u.default(d.LineType,!1,n.minimizedItemLineType),minimizedItemFillColor:new o.default(["string"],!0),minimizedItemOpacity:new o.default(["number"],!1,n.minimizedItemOpacity),highlightPadding:new l.default({left:new o.default(["number"],!1,n.highlightPadding.left),top:new o.default(["number"],!1,n.highlightPadding.top),right:new o.default(["number"],!1,n.highlightPadding.right),bottom:new o.default(["number"],!1,n.highlightPadding.bottom)},!1,n.highlightPadding),highlightBorderWidth:new o.default(["number"],!1,n.highlightBorderWidth),highlightTemplate:new o.default(["string","object"],!0),cursorPadding:new l.default({left:new o.default(["number"],!1,n.cursorPadding.left),top:new o.default(["number"],!1,n.cursorPadding.top),right:new o.default(["number"],!1,n.cursorPadding.right),bottom:new o.default(["number"],!1,n.cursorPadding.bottom)},!1,n.cursorPadding),cursorBorderWidth:new o.default(["number"],!1,n.cursorBorderWidth),cursorTemplate:new o.default(["string","object"],!0),hasButtons:new u.default(d.Enabled,!1,n.hasButtons),onButtonsRender:new c.default}),!0,"name")});return{process:function(){var t={isChanged:!1,hash:a};return i=s.read(i,e.getOptions(),"options",t),t.isChanged},getOptions:function(){return i},description:"Checks items template options."}}},"./src/tasks/options/annotations/BackgroundAnnotationOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ArrayReader.js"),r=n("./src/readers/ValueReader.js"),o=n("./src/readers/ObjectReader.js"),l=n("./src/readers/EnumerationReader.js"),u=n("./src/enums.js");function i(e,t){var n=[],i={},a=new s.default(new o.default({items:new s.default(new r.default(["string","number"],!0),!0),includeChildren:new r.default(["boolean"],!1,t.includeChildren),zOrderType:new l.default(u.ZOrderType,!1,t.zOrderType),offset:new o.default({left:new r.default(["number"],!1,t.offset.left),top:new r.default(["number"],!1,t.offset.top),right:new r.default(["number"],!1,t.offset.right),bottom:new r.default(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new r.default(["number"],!1,t.lineWidth),opacity:new r.default(["number"],!1,t.opacity),borderColor:new r.default(["string"],!1,t.borderColor),fillColor:new r.default(["string"],!1,t.fillColor),lineType:new l.default(u.LineType,!1,t.lineType),selectItems:new r.default(["boolean"],!1,t.selectItems)}),!1);return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getAnnotations(u.AnnotationType.Background,null),"annotations",t),t.isChanged},getAnnotations:function(){return n}}}},"./src/tasks/options/annotations/ConnectorAnnotationOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ArrayReader.js"),o=n("./src/readers/ValueReader.js"),l=n("./src/readers/ObjectReader.js"),u=n("./src/readers/EnumerationReader.js"),c=n("./src/enums.js");function i(e,t,n){var i=[],a={},s=new r.default(new l.default({zOrderType:new u.default(c.ZOrderType,!1,t.zOrderType),fromItem:new o.default(["string","number"],!0),toItem:new o.default(["string","number"],!0),connectorShapeType:new u.default(c.ShapeType,!1,t.connectorShapeType),connectorPlacementType:new u.default(c.ConnectorPlacementType,!1,t.connectorPlacementType),labelPlacementType:new u.default(c.ConnectorLabelPlacementType,!1,t.labelPlacementType),offset:new l.default({left:new o.default(["number"],!1,t.offset.left),top:new o.default(["number"],!1,t.offset.top),right:new o.default(["number"],!1,t.offset.right),bottom:new o.default(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new o.default(["number"],!1,t.lineWidth),color:new o.default(["string"],!1,t.color),lineType:new u.default(c.LineType,!1,t.lineType),selectItems:new o.default(["boolean"],!1,t.selectItems),label:new o.default(["string","object"],!1,t.label),labelSize:new l.default({width:new o.default(["number"],!1,t.labelSize.width),height:new o.default(["number"],!1,t.labelSize.height)},!1,t.labelSize)}),!1);return{process:function(){var t={isChanged:!1,hash:a};return i=s.read(i,e.getAnnotations(c.AnnotationType.Connector,n),"annotations",t),t.isChanged},getAnnotations:function(){return i}}}},"./src/tasks/options/annotations/HighlightPathAnnotationOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ArrayReader.js"),o=n("./src/readers/ValueReader.js"),l=n("./src/readers/ObjectReader.js"),u=n("./src/readers/EnumerationReader.js"),c=n("./src/enums.js");function i(e,t,n){var i=[],a={},s=new r.default(new l.default({zOrderType:new u.default(c.ZOrderType,!1,t.zOrderType),lineWidth:new o.default(["number"],!1,t.lineWidth),opacity:new o.default(["number"],!1,t.opacity),color:new o.default(["string"],!1,t.color),lineType:new u.default(c.LineType,!1,t.lineType),items:new r.default(new o.default(["string","number"],!0),!1),selectItems:new o.default(["boolean"],!1,t.selectItems),showArrows:new o.default(["boolean"],!1,t.showArrows)},!1));return{process:function(){var t={isChanged:!1,hash:a};return i=s.read(i,e.getAnnotations(c.AnnotationType.HighlightPath,n),"annotations",t),t.isChanged},getAnnotations:function(){return i}}}},"./src/tasks/options/annotations/LabelAnnotationOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return r});var i=n("./src/readers/ArrayReader.js"),a=n("./src/readers/ValueReader.js"),s=n("./src/readers/ObjectReader.js"),d=n("./src/readers/EnumerationReader.js"),h=n("./src/enums.js");function r(r,o,t){var l={annotations:[],configs:{},maximumId:null},u={},c=new i.default(new s.default({zOrderType:new d.default(h.ZOrderType,!1,t.zOrderType),fromItem:new a.default(["string","number"],!0),toItems:new i.default(new a.default(["string","number"],!0),!0),title:new a.default(["string"],!0),itemTitleColor:new a.default(["string"],!1,t.itemTitleColor),templateName:new a.default(["string"],!0)},!1),!1,null,!0);return{process:function(){var t,e={isChanged:!1,hash:u,sourceHash:{}},n=o.getMaximumId();l.annotations=c.read(l.annotations,r.getAnnotations(h.AnnotationType.Label),"annotations",e),l.configs={};for(var i=e.sourceHash.annotations,a=0,s=l.annotations.length;a<s;a+=1)n+=1,(t=l.annotations[a]).id=n,l.configs[t.id]=i[a];return l.maximumId=n,e.isChanged},getAnnotations:function(){return l.annotations},getMaximumId:function(){return l.maximumId},getConfig:function(t){return l.configs[t]}}}},"./src/tasks/options/annotations/LabelAnnotationPlacementOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ArrayReader.js"),r=n("./src/readers/ValueReader.js"),o=n("./src/readers/ObjectReader.js");function i(e,t){var n={annotations:[]},i={},a=new s.default(new o.default({id:new r.default(["number"],!0),fromItem:new r.default(["string","number"],!0),toItems:new s.default(new r.default(["string","number"],!0),!0)}),!0,"id");return{process:function(){var t={isChanged:!1,hash:i};return n.annotations=a.read(n.annotations,e.getAnnotations(),"annotations",t),t.isChanged},getAnnotations:function(){return n.annotations},getMaximumId:function(){return e.getMaximumId()}}}},"./src/tasks/options/annotations/LabelAnnotationTemplateOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ArrayReader.js"),r=n("./src/readers/ValueReader.js"),o=n("./src/readers/ObjectReader.js");function i(e,t){var n={annotations:[]},i={},a=new s.default(new o.default({id:new r.default(["number"],!0),title:new r.default(["string"],!0),itemTitleColor:new r.default(["string"],!1,t.itemTitleColor),templateName:new r.default(["string"],!0)}),!0,"id");return{process:function(){var t={isChanged:!1,hash:i};return n.annotations=a.read(n.annotations,e.getAnnotations(),"annotations",t),t.isChanged},getAnnotations:function(){return n.annotations}}}},"./src/tasks/options/annotations/LevelAnnotationOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/readers/ArrayReader.js"),r=n("./src/readers/ValueReader.js"),o=n("./src/readers/ObjectReader.js"),l=n("./src/readers/EnumerationReader.js"),u=n("./src/enums.js");function i(e,t){var n=[],i={},a=new s.default(new o.default({levels:new s.default(new r.default(["string","number"],!0),!0),title:new r.default(["string"],!0),titleFontColor:new r.default(["string"],!0),titleColor:new r.default(["string"],!0),offset:new o.default({left:new r.default(["number"],!1,t.offset.left),top:new r.default(["number"],!1,t.offset.top),right:new r.default(["number"],!1,t.offset.right),bottom:new r.default(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new o.default({left:new r.default(["number"],!1,t.lineWidth.left),top:new r.default(["number"],!1,t.lineWidth.top),right:new r.default(["number"],!1,t.lineWidth.right),bottom:new r.default(["number"],!1,t.lineWidth.bottom)},!1,t.lineWidth),opacity:new r.default(["number"],!1,t.opacity),borderColor:new r.default(["string"],!0),fillColor:new r.default(["string"],!1,t.fillColor),lineType:new l.default(u.LineType,!1,t.lineType)}),!1);return{process:function(){var t={isChanged:!1,hash:i};return n=a.read(n,e.getAnnotations(u.AnnotationType.Level,null),"annotations",t),t.isChanged},getAnnotations:function(){return n},description:"Collects Level Annotations"}}},"./src/tasks/options/annotations/ShapeAnnotationOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ArrayReader.js"),o=n("./src/readers/ValueReader.js"),l=n("./src/readers/ObjectReader.js"),u=n("./src/readers/EnumerationReader.js"),c=n("./src/enums.js");function i(e,t,n){var i=[],a={},s=new r.default(new l.default({zOrderType:new u.default(c.ZOrderType,!1,t.zOrderType),items:new r.default(new o.default(["string","number"],!0),!0),shapeType:new u.default(c.ShapeType,!1,t.shapeType),offset:new l.default({left:new o.default(["number"],!1,t.offset.left),top:new o.default(["number"],!1,t.offset.top),right:new o.default(["number"],!1,t.offset.right),bottom:new o.default(["number"],!1,t.offset.bottom)},!1,t.offset),lineWidth:new o.default(["number"],!1,t.lineWidth),cornerRadius:new o.default(["string"],!1,t.cornerRadius),opacity:new o.default(["number"],!1,t.opacity),borderColor:new o.default(["string"],!1,t.borderColor),fillColor:new o.default(["string"],!1,t.fillColor),lineType:new u.default(c.LineType,!1,t.lineType),selectItems:new o.default(["boolean"],!1,t.selectItems),label:new o.default(["string","object"],!1,t.label),labelSize:new l.default({width:new o.default(["number"],!1,t.labelSize.width),height:new o.default(["number"],!1,t.labelSize.height)},!1,t.labelSize),labelPlacement:new u.default(c.PlacementType,!1,t.labelPlacement),labelOffset:new o.default(["number"],!1,t.labelOffset)},!1));return{process:function(){var t={isChanged:!1,hash:a};return i=s.read(i,e.getAnnotations(c.AnnotationType.Shape,n),"annotations",t),t.isChanged},getAnnotations:function(){return i}}}},"./src/tasks/options/annotations/SplitAnnotationsOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var u=n("./src/enums.js");function i(o){var l={annotations:{}};return{process:function(){var t,e,n,i,a,s=o.getOptions().annotations,r={};if(Array.isArray(s))for(t=0,e=s.length;t<e;t+=1){switch(a=(n=s[t]).annotationType){case u.AnnotationType.Shape:case u.AnnotationType.Connector:case u.AnnotationType.HighlightPath:switch(n.zOrderType){case u.ZOrderType.Background:i=u.ZOrderType.Background;break;case u.ZOrderType.Foreground:case u.ZOrderType.Auto:default:i=u.ZOrderType.Foreground}break;case u.AnnotationType.Background:case u.AnnotationType.Label:default:i=null}null!=a&&(a=1e3*a+(i||0),r.hasOwnProperty(a)||(r[a]=[]),r[a].push(n))}return l.annotations=r,!0},getAnnotations:function(t,e){return e=1e3*t+(e||0),l.annotations[e]}}}},"./src/tasks/options/selection/CursorItemOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var a=n("./src/readers/ValueReader.js"),s=n("./src/readers/ObjectReader.js"),r=n("./src/readers/EnumerationReader.js"),o=n("./src/enums.js");function i(e,t){var n={},i=new s.default({cursorItem:new a.default(["string","number"],!0),navigationMode:new r.default(o.NavigationMode,!1,t.navigationMode)});return{process:function(){var t={isChanged:!1};return n=i.read(n,e.getOptions(),"options",t),t.isChanged},getCursorItem:function(){return n.cursorItem},hasCursorEnabled:function(){switch(n.navigationMode){case o.NavigationMode.Default:case o.NavigationMode.CursorOnly:return!0}return!1},description:"Checks currenct cursor item option."}}},"./src/tasks/options/selection/CursorSelectionPathModeOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var a=n("./src/readers/ObjectReader.js"),s=n("./src/readers/EnumerationReader.js"),r=n("./src/enums.js");function i(e,t){var n={},i=new a.default({selectionPathMode:new s.default(r.SelectionPathMode,!1,t.selectionPathMode)});return{process:function(){var t={isChanged:!1};return n=i.read(n,e.getOptions(),"options",t),t.isChanged},getSelectionPathMode:function(){return n.selectionPathMode},description:"Checks cursor selection path option."}}},"./src/tasks/options/selection/HighlightItemOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var a=n("./src/readers/ValueReader.js"),s=n("./src/readers/ObjectReader.js"),r=n("./src/readers/EnumerationReader.js"),o=n("./src/enums.js");function i(e,t){var n={},i=new s.default({highlightItem:new a.default(["string","number"],!0),navigationMode:new r.default(o.NavigationMode,!1,t.navigationMode),highlightGravityRadius:new a.default(["number"],!1,t.highlightGravityRadius)});return{process:function(){var t={isChanged:!1};return n=i.read(n,e.getOptions(),"options",t),t.isChanged},getHighlightItem:function(){return n.highlightItem},hasHighlightEnabled:function(){switch(n.navigationMode){case o.NavigationMode.Default:case o.NavigationMode.HighlightOnly:return!0}return!1},getGravityRadius:function(){return n.highlightGravityRadius},description:"Checks highlight item option."}}},"./src/tasks/options/selection/NeighboursSelectionModeOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var a=n("./src/readers/ObjectReader.js"),s=n("./src/readers/EnumerationReader.js"),r=n("./src/enums.js");function i(e,t){var n={},i=new a.default({neighboursSelectionMode:new s.default(r.NeighboursSelectionMode,!1,t.neighboursSelectionMode)});return{process:function(){var t={isChanged:!1};return n=i.read(n,e.getOptions(),"options",t),t.isChanged},getNeighboursSelectionMode:function(){return n.neighboursSelectionMode}}}},"./src/tasks/options/selection/SelectedItemsOptionTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ValueReader.js"),o=n("./src/readers/ObjectReader.js"),l=n("./src/readers/ArrayReader.js");function i(n){var i={},a={},s=new o.default({selectedItems:new l.default(new r.default(["string","number"],!0),!0)});return{process:function(){var t={isChanged:!1,hash:a},e=n.getOptions();return i=s.read(i,e,"options",t),t.isChanged},getSelectedItems:function(){return i.selectedItems},description:"Checks user selected items option."}}},"./src/tasks/renders/DrawBackgroundAnnotationTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var C=n("./src/enums.js"),w=n("./src/graphics/shapes/MergedRectangles.js"),b=n("./src/configs/BackgroundAnnotationConfig.js"),O=n("./src/graphics/structs/Rect.js");function i(e,n,t,i,a,y){var k,v;return{process:function(){var t=i.getAnnotations();return(k=e()).reset("placeholder",C.Layers.BackgroundAnnotation),0<t.length&&(y.getItemsPositions(),v=n.getTransform(),function(t,e){var n,i,a,s,r,o,l,u,c,d,h,f,p,m,g,T;for(n=0,i=t.length;n<i;n+=1)if(null!=(g=t[n]).items&&0<g.items.length){for((l=new w.default(k)).transform=v,u=new b.default,r=0,o=(p=["opacity","lineWidth","borderColor","fillColor","lineType"]).length;r<o;r+=1)l[m=p[r]]=(g.hasOwnProperty(m)?g:u)[m];for(k.activate("placeholder",C.Layers.BackgroundAnnotation),c=[],h={},a=0,s=g.items.length;a<s;a+=1)f=g.items[a],null!=(T=y.getItemPosition(f))&&(h[f]=!0,(d=new O.default(T.actualPosition)).offset(g.offset),c.push(d),g.includeChildren&&e.loopChildren(this,f,function(t,e){h[t]||(h[t]=!0,null!=(T=y.getItemPosition(t))&&((d=new O.default(T.actualPosition)).offset(g.offset),c.push(d)))}));l.draw(c)}}(t,a.getLogicalFamily())),!1}}}},"./src/tasks/renders/DrawConnectorAnnotationTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var P=n("./src/graphics/structs/Size.js"),j=n("./src/graphics/structs/Rect.js"),S=n("./src/events/RenderEventArgs.js"),A=n("./src/enums.js"),I=n("./src/graphics/structs/PolylinesBuffer.js"),x=n("./src/graphics/structs/PaletteItem.js"),L=n("./src/tasks/renders/offsetResolver/ConnectorAnnotationOffsetResolver.js"),z=n("./src/graphics/shapes/ConnectorStraight.js"),M=n("./src/graphics/shapes/ConnectorOffbeat.js"),F=n("./src/common/index.js");function i(t,e,n,i,a,s,r,v){var C,w,b,O;return{process:function(){switch(C=t(),w=e.getTransform(),i.getOptions(),b=r.getTemplate(),O=new P.default(s.getContentSize()),v){case A.ZOrderType.Background:C.reset("placeholder",A.Layers.BackgroundConnectorAnnotation);break;case A.ZOrderType.Foreground:C.reset("placeholder",A.Layers.ForegroundConnectorAnnotation)}return function(t,e){A.Layers.ForegroundConnectorAnnotation;var n,i,a,s,r,o,l,u,c=new I.default,d=Object(L.default)(),h=0;switch(v){case A.ZOrderType.Background:C.activate("placeholder",A.Layers.BackgroundConnectorAnnotation);break;case A.ZOrderType.Foreground:C.activate("placeholder",A.Layers.ForegroundConnectorAnnotation)}for(n=0,i=t.length;n<i;n+=1)o=t[n],h=Math.max(h,o.lineWidth);for(n=0,i=t.length;n<i;n+=1)if(o=t[n],null!=o.fromItem&&null!=o.toItem&&(a=e(o.fromItem),s=e(o.toItem),null!=a&&null!=s)){switch(y=a.actualPosition,k=s.actualPosition,o.connectorPlacementType){case A.ConnectorPlacementType.Offbeat:r=new M.default;break;case A.ConnectorPlacementType.Straight:r=new z.default}w.transformRect(0,0,o.labelSize.width,o.labelSize.height,!1,this,function(t,e,n,i){u=new P.default(n,i)});var f=null;w.transformRect(0,0,O.width,O.height,!1,this,function(t,e,n,i){f=new P.default(n,i)});var p=new x.default({lineColor:o.color,lineWidth:o.lineWidth,lineType:o.lineType}),m=!Object(F.isNullOrEmpty)(o.label),g=new j.default(y).offset(o.offset),T=new j.default(k).offset(o.offset),y=3*o.lineWidth,k=6*h;r.draw(c,p,g,T,y,k,u,f,o.connectorShapeType,4,o.labelPlacementType,m,d,function(a,t){Object(F.isNullOrEmpty)(t.label)||null==a||(w.transformRect(a.x,a.y,a.width,a.height,!0,this,function(t,e,n,i){a=new j.default(t,e,n,i)}),(l=new S.default).context=t,C.template(a.x,a.y,0,0,0,0,a.width,a.height,b.template(),b.getHashCode(),b.render,l,null))},o)}d.resolve(),c.transform(w,!0),C.polylinesBuffer(c)}(a.getAnnotations(),s.getItemPosition),!1}}}},"./src/tasks/renders/DrawConnectorsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var p=n("./src/enums.js"),r=n("./src/graphics/structs/PolylinesBuffer.js"),m=n("./src/graphics/structs/DotSegment.js");function i(n,i,a,f,s){return{process:function(){var t=n(),e=i.getGraph(),o=a.getOptions(),l=s.getPaletteManager();t.reset("placeholder",p.Layers.Connector),t.activate("placeholder",p.Layers.Connector);var u=new r.default,c=Math.round(o.elbowDotSize/2),d={},h={};return e.loopNodes(this,null,function(r){e.loopNodeEdges(this,r,function(t,e){if(!d.hasOwnProperty(t)){var t=null,t=e.fromOffset<=1?l.getPalette(p.ConnectorStyleType.Regular):(l.selectPalette(e.fromOffset),l.getPalette(p.ConnectorStyleType.Extra)),n=u.getPolyline(t);f&&null!=e.dotId&&o.elbowType!=p.ElbowType.None&&!h.hasOwnProperty(e.dotId)&&(i=u.getPolyline(n.arrowPaletteItem),a=e.dotId==e.from?e.polyline.getStartPoint():e.polyline.getEndPoint(),i.addSegment(new m.default(a.x-c,a.y-c,2*c,2*c,c)),h[e.dotId]=!0);var i,a,s=null;if(e.hasArrow)switch(o.arrowsDirection){case p.GroupByType.Parents:s=e.isOppositeFlow?e.childrenArrowId:e.parentsArrowId;break;case p.GroupByType.Children:s=e.isOppositeFlow?e.parentsArrowId:e.childrenArrowId}null==s?(i=e.polyline.clone(),e.hasMiddle&&o.arrowsDirection!=p.GroupByType.None&&(a=!0,a=e.from==e.middleParent?o.arrowsDirection==p.GroupByType.Children:o.arrowsDirection==p.GroupByType.Parents,e.isOppositeFlow&&(a=!a),i.addOffsetArrow(a,o.linesWidth,.4,o.extraArrowsMinimumSpace,function(t){t.mergeTo(u.getPolyline(n.arrowPaletteItem))})),e.from==r?i.mergeTo(n):n.addInverted(i)):(s==e.to?e.polyline.clone().mergeTo(n):n.addInverted(e.polyline.clone()),n.addArrow(o.linesWidth,function(t){t.mergeTo(u.getPolyline(t.paletteItem))}))}}),d[r]=!0}),t.polylinesBuffer(u),!1}}}},"./src/tasks/renders/DrawCursorTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var f=n("./src/graphics/structs/Rect.js"),p=n("./src/events/RenderEventArgs.js"),m=n("./src/enums.js");function i(e,n,t,i,l,u,a,c){var d,h;return{process:function(){var t=a.getCursorTreeItem();return(d=e()).reset("placeholder",m.Layers.Cursor),null!=t&&(h=n.getTransform(),function(t){d.activate("placeholder",m.Layers.Cursor);var a,e,s,r,o,n=l.getItemPosition(t);null!=n&&(e=n.actualPosition,s=new f.default(n.contentPosition),r=u.getTemplateParams(t).template,o=r.templateConfig,n=o.cursorPadding,s.offset(n.left,n.top,n.right,n.bottom),(a=new p.default).context=i.getConfig(t),a.isCursor=!0,a.isSelected=c.isSelected(t),a.templateName=o.name,h.transformRect(e.x,e.y,e.width,e.height,!0,this,function(t,e,n,i){d.template(t,e,n,i,s.x,s.y,s.width,s.height,r.cursorTemplate.template(),r.cursorTemplate.getHashCode(),r.cursorTemplate.render,a,{borderWidth:o.cursorBorderWidth})}))}(t)),!1}}}},"./src/tasks/renders/DrawFrameHighlightTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var f=n("./src/graphics/structs/Rect.js"),p=n("./src/events/RenderEventArgs.js"),m=n("./src/enums.js");function i(r,o,l,u,c,d){var h;return{process:function(){var t,e,n,i,a,s=c.getHighlightTreeItem();return(h=r()).reset("frameplaceholder",m.Layers.Highlight),null!=s&&(t=s,null!=(a=o.getPositions()[t])&&(e=u.getTemplateParams(t).template,n=e.templateConfig,i=n.highlightPadding,h.activate("frameplaceholder",m.Layers.Highlight),(s=new p.default).context=l.getConfig(t),s.isCursor=d.getCursorTreeItem()==t,s.isSelected=!0,s.templateName=n.name,(t=new f.default(0,0,Math.round(a.width),Math.round(a.height))).offset(i.left,i.top,i.right,i.bottom),h.template(Math.round(a.x),Math.round(a.y),Math.round(a.width),Math.round(a.height),Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height),e.dotHighlightTemplate.template(),e.dotHighlightTemplate.getHashCode(),e.dotHighlightTemplate.render,s,{borderWidth:n.highlightBorderWidth}))),!1}}}},"./src/tasks/renders/DrawFrameItemsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/graphics/structs/Thickness.js"),g=n("./src/enums.js"),T=n("./src/graphics/structs/PolylinesBuffer.js"),y=n("./src/graphics/structs/DotSegment.js"),k=n("./src/graphics/structs/PaletteItem.js"),v=n("./src/graphics/shapes/Marker.js");function a(e,n,h,f,p){var m;return{process:function(){var t=new i.default(n.getFrameThickness());return(m=e()).reset("frameplaceholder",g.Layers.Marker),t.isEmpty()||function(){var t,e,n,i,a,s,r,o,l=new T.default,u=h.getPositions(),c=p.getOptions(),d=new v.default;for(t in u)u.hasOwnProperty(t)&&(e=u[t],n=f.getTemplateParams(t).template.templateConfig,i=p.getItemOptions(t),o=0,(r=s=a=null)!=i&&(a=i.itemTitleColor,s=i.itemTitleColor,r=i.minimizedItemShapeType),a=a||n.minimizedItemBorderColor||g.Colors.Navy,s=s||n.minimizedItemFillColor||g.Colors.Navy,null==r&&(r=(null!==n.minimizedItemShapeType?n:c).minimizedItemShapeType),o=null===n.minimizedItemCornerRadius?n.minimizedItemSize.width:n.minimizedItemCornerRadius,null==r||r==g.ShapeType.None?l.getPolyline(new k.default({lineColor:a,lineWidth:n.minimizedItemLineWidth,lineType:n.minimizedItemLineType,fillColor:s,opacity:n.minimizedItemOpacity})).addSegment(new y.default(e.x,e.y,e.width,e.height,o)):d.draw(l,r,e,new k.default({lineColor:a,lineWidth:n.minimizedItemLineWidth,lineType:n.minimizedItemLineType,fillColor:s,opacity:n.minimizedItemOpacity})));m.activate("frameplaceholder",g.Layers.Marker),m.polylinesBuffer(l)}(),!1}}}},"./src/tasks/renders/DrawHighlightAnnotationTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var O=n("./src/graphics/structs/Point.js"),P=n("./src/graphics/structs/Rect.js"),j=n("./src/graphics/structs/Size.js"),S=n("./src/graphics/structs/Thickness.js"),A=n("./src/events/RenderEventArgs.js"),I=n("./src/enums.js"),r=n("./src/graphics/shapes/Callout.js"),x=n("./src/common/index.js");function i(e,n,h,f,p,i,m,a,g,s,T,y,k){var v,C,w,b=new r.default(e());return{process:function(){var t=s.getHighlightTreeItem();return(v=e()).reset("calloutplaceholder",I.Layers.Annotation),null!==t&&(C=n.getTransform(),w=i.getOptions(),function(s){var r,o,l,u,c,t=!0,d=a.getItemPosition(s),e=d.actualPosition;switch(d.actualVisibility){case I.Visibility.Dot:case I.Visibility.Line:case I.Visibility.Normal:switch((r=i.getItemOptions(s)).showCallout){case I.Enabled.False:case I.Enabled.True:t=!1;break;default:t=w.showCallout}t?(v.activate("placeholder",I.Layers.Item),C.transformRect(e.x,e.y,e.width,e.height,!0,this,function(t,e,n,i){var a=new P.default(t,e,n,i),t=new O.default(a.centerPoint()),e=function(){var t=f.getOptions().scale,e=new O.default(g.getPlaceholderOffset()),n=new j.default(h.getScrollPanelSize()),i=new S.default(h.getFrameOffset()),a=new S.default(k.getMedian());e.scale(1/t),i.scale(1/t),n.scale(1/t),a.scale(1/t);e=new P.default(e.x,e.y,n.width,n.height),n=new P.default(e);return n.offset(i),n.offset(a),{medianRect:n,viewPortRect:e}}(),n=e.medianRect,i=e.viewPortRect,e=n.getProjectionPoint(a.centerPoint());null==e&&(e=t),d.actualVisibility>=w.calloutMaximumVisibility&&d.actualVisibility!=I.Visibility.Invisible||!n.overlaps(a)?(u=Object(x.isNullOrEmpty)(r.calloutTemplateName)?Object(x.isNullOrEmpty)(r.templateName)?Object(x.isNullOrEmpty)(w.defaultCalloutTemplateName)?w.defaultTemplateName:w.defaultCalloutTemplateName:r.templateName:r.calloutTemplateName,c=m.getTemplate(u,m.DefaultWidgetTemplateName),l=function(t,e,n){var i=new P.default(t.x,t.y,n.width,n.height);switch(w.orientationType){case I.OrientationType.Top:case I.OrientationType.Bottom:i.y-=n.height/4,t.x<e.horizontalCenter()?i.x+=w.calloutPlacementOffset:i.x-=w.calloutPlacementOffset+n.width;break;default:i.x-=n.width/4,t.y<e.verticalCenter()?i.y+=w.calloutPlacementOffset:i.y-=w.calloutPlacementOffset+n.height}i.x<e.x?i.x=e.x+w.calloutPlacementOffset:i.right()>e.right()&&(i.x-=i.right()-e.right()+w.calloutPlacementOffset);i.y<e.y?i.y=e.y+w.calloutPlacementOffset:i.bottom()>e.bottom()&&(i.y-=i.bottom()-e.bottom()+w.calloutPlacementOffset);return i}(e,i,c.templateConfig.itemSize),(o=new P.default(l)).addRect(e.x,e.y),o.offset(50),e.x-=o.x,e.y-=o.y,l.x-=o.x,l.y-=o.y,(u=new A.default).context=p.getConfig(s),u.isCursor=T.getCursorTreeItem()==s,u.isSelected=y.isSelected(s),u.templateName=c.templateConfig.name,v.show("calloutplaceholder"),v.activate("calloutplaceholder",I.Layers.Annotation),v.position("calloutplaceholder",o.x,o.y,o.width,o.height),v.template(l.x,l.y,l.width,l.height,0,0,l.width,l.height,c.itemTemplate.template(),c.itemTemplate.getHashCode(),c.itemTemplate.render,u,null),b.pointerPlacement=I.PlacementType.Auto,b.cornerRadius=w.calloutCornerRadius,b.offset=w.calloutOffset,b.opacity=w.calloutOpacity,b.lineWidth=w.calloutLineWidth,b.pointerWidth=w.calloutPointerWidth,b.borderColor=w.calloutBorderColor,b.fillColor=w.calloutfillColor,b.draw(e,l)):v.hide("calloutplaceholder")})):v.hide("calloutplaceholder");break;case I.Visibility.Invisible:v.hide("calloutplaceholder")}}(t)),!1}}}},"./src/tasks/renders/DrawHighlightPathAnnotationTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var b=n("./src/graphics/structs/PolylinesBuffer.js"),O=n("./src/graphics/structs/PaletteItem.js"),P=n("./src/enums.js");function i(a,s,r,o,w){return{process:function(){var t=o.getGraph(),e=s.getOptions(),n=r.getAnnotations(),i=a();switch(w){case P.ZOrderType.Background:i.reset("placeholder",P.Layers.BackgroundHighlightPathAnnotations);break;case P.ZOrderType.Foreground:i.reset("placeholder",P.Layers.ForegroundHighlightPathAnnotations)}return function(t,e,n,i){var a,s,r,o,l,u,c,d,h,f,p,m,g,T;if(0<n.length){switch(m=new b.default,w){case P.ZOrderType.Background:t.activate("placeholder",P.Layers.BackgroundHighlightPathAnnotations);break;case P.ZOrderType.Foreground:t.activate("placeholder",P.Layers.ForegroundHighlightPathAnnotations)}var y={};for(a=0,s=n.length;a<s;a+=1)if(p=n[a],null!=p.items&&0<p.items.length&&(h=p.items.slice(0),u=h[0],i.hasNode(u)))for(r=1,o=h.length;r<o;r+=1)c=h[r],i.hasNode(c)&&(y.hasOwnProperty(u)?y[u].push(c):y[u]=[c],u=c);var k={};for(g in y)k[g]={},y.hasOwnProperty(g)&&i.getShortestPath(this,g,y[g],function(t,e,n){return t.weight},function(t,e){k[g][e]=t});for(a=0,s=n.length;a<s;a+=1){p=n[a];var v=new O.default({lineColor:null!=p.color?p.color:e.highlightLinesColor,lineWidth:null!=p.lineWidth?p.lineWidth:e.highlightLinesWidth,lineType:null!=p.lineType?p.lineType:e.highlightLinesType,fillColor:null,opacity:p.opacity}),C=m.getPolyline(v);if(null!=p.items&&0<p.items.length&&(h=p.items.slice(0),u=h[0],i.hasNode(u)))for(r=1,o=h.length;r<o;r+=1)if(c=h[r],i.hasNode(c)){for(d=k[u][c]||[],l=d.length-2;0<=l;--l)g=d[l+1],T=d[l],(f=i.edge(g,T)).from==g?f.polyline.clone().mergeTo(C):C.addInverted(f.polyline.clone()),p.showArrows&&(T!=f.parentsArrowId&&T!=f.childrenArrowId||C.addArrow(p.lineWidth,function(t){t.mergeTo(m.getPolyline(t.paletteItem))}));u=c}}t.polylinesBuffer(m)}}(i,e,n,t),!1}}}},"./src/tasks/renders/DrawHighlightTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var m=n("./src/graphics/structs/Rect.js"),g=n("./src/events/RenderEventArgs.js"),T=n("./src/enums.js");function i(e,n,t,i,a,c,s,d,h){var f,p;return{process:function(){var t=s.getHighlightTreeItem();return(f=e()).reset("placeholder",T.Layers.Highlight),null!=t&&(p=n.getTransform(),function(t){f.activate("placeholder",T.Layers.Highlight);var s,r=a.getItemPosition(t),e=r.actualPosition,o=c.getTemplateParams(t).template,l=o.templateConfig,u=l.highlightPadding;(s=new g.default).context=i.getConfig(t),s.isCursor=d.getCursorTreeItem()==t,s.isSelected=h.isSelected(t),s.templateName=l.name,p.transformRect(e.x,e.y,e.width,e.height,!0,this,function(t,e,n,i){var a=new m.default(0,0,Math.round(n),Math.round(i));a.offset(u.left,u.top,u.right,u.bottom),r.actualVisibility==T.Visibility.Normal?f.template(t,e,n,i,a.x,a.y,a.width,a.height,o.highlightTemplate.template(),o.highlightTemplate.getHashCode(),o.highlightTemplate.render,s,{borderWidth:l.highlightBorderWidth}):f.template(Math.round(t),Math.round(e),Math.round(n),Math.round(i),Math.round(a.x),Math.round(a.y),Math.round(a.width),Math.round(a.height),o.dotHighlightTemplate.template(),o.dotHighlightTemplate.getHashCode(),o.dotHighlightTemplate.render,s,{borderWidth:l.highlightBorderWidth})})}(t)),!1}}}},"./src/tasks/renders/DrawItemLabelsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var m=n("./src/graphics/structs/Rect.js"),g=n("./src/enums.js"),T=n("./src/graphics/structs/Label.js"),y=n("./src/common/index.js"),d=n("./src/algorithms/getCrossingRectangles.js");function i(n,i,t,a,s){return{process:function(){var t=a.getOptions(),e={graphics:n(),transform:i.getTransform(),treeItemsPositions:s.getItemsPositions()},t={showLabels:t.showLabels,labelFontSize:t.labelFontSize,labelFontFamily:t.labelFontFamily,labelFontStyle:t.labelFontStyle,labelFontWeight:t.labelFontWeight,labelColor:t.labelColor,itemsOptions:a.getItemsOptions(),labelSize:t.labelSize,labelOrientation:t.labelOrientation,labelPlacement:t.labelPlacement,labelOffset:t.labelOffset};return e.graphics.reset("placeholder",g.Layers.Label),function(t,s){var r,o,e,l=[];if(s.showLabels==g.Enabled.Auto||s.showLabels==g.Enabled.True)for(var n in t.treeItemsPositions)t.treeItemsPositions.hasOwnProperty(n)&&(r=s.itemsOptions[n],o=t.treeItemsPositions[n],e=o.actualPosition,null!=r&&t.transform.transformRect(e.x,e.y,e.width,e.height,!0,this,function(t,e,n,i){switch(o.actualVisibility){case g.Visibility.Normal:s.showLabels==g.Enabled.Auto&&((a=new T.default(t,e,n,i)).weight=1e4,a.labelType=g.LabelType.Dummy,l.push(a));break;case g.Visibility.Dot:case g.Visibility.Line:var a=function(t,e,n,i,a,s,r){var o,l,u,c,d,h=null;if(!Object(y.isNullOrEmpty)(a.label)){var f=function(t,e,n){var i=g.LabelType.None;switch(e){case g.Enabled.Auto:switch(n){case g.Enabled.Auto:switch(t){case g.Visibility.Line:case g.Visibility.Dot:i=g.LabelType.Regular}break;case g.Enabled.False:break;case g.Enabled.True:i=g.LabelType.Fixed}break;case g.Enabled.False:break;case g.Enabled.True:i=g.LabelType.Fixed}return i}(s.actualVisibility,a.showLabel,r.showLabels);switch(f){case g.LabelType.Regular:d=s.leftPadding+s.rightPadding;break;case g.LabelType.Fixed:d=1e4;break;case g.LabelType.None:d=0}if(f!=g.LabelType.None){u=(null!=a.labelSize?a:r).labelSize;var p=a.labelOrientation!=g.TextOrientationType.Auto?a.labelOrientation:r.labelOrientation!=g.TextOrientationType.Auto?r.labelOrientation:g.TextOrientationType.Horizontal;switch(c=a.labelPlacement!=g.PlacementType.Auto?a.labelPlacement:r.labelPlacement!=g.PlacementType.Auto?r.labelPlacement:g.PlacementType.Top,p){case g.TextOrientationType.Horizontal:o=u.width,l=u.height;break;case g.TextOrientationType.RotateLeft:case g.TextOrientationType.RotateRight:l=u.width,o=u.height}r=function(t,e,n,i,a,s,r,o,l){var u,c,d;switch(t){case g.PlacementType.Auto:case g.PlacementType.Top:switch(u=new m.default(n+a/2-r/2,i-l-o,r,o),e){case g.TextOrientationType.Horizontal:c=g.HorizontalAlignmentType.Center,d=g.VerticalAlignmentType.Bottom;break;case g.TextOrientationType.RotateLeft:c=g.HorizontalAlignmentType.Left,d=g.VerticalAlignmentType.Middle;break;case g.TextOrientationType.RotateRight:c=g.HorizontalAlignmentType.Right,d=g.VerticalAlignmentType.Middle}break;case g.PlacementType.TopRight:case g.PlacementType.RightTop:switch(u=new m.default(n+a+l,i-l-o,r,o),e){case g.TextOrientationType.Horizontal:c=g.HorizontalAlignmentType.Left,d=g.VerticalAlignmentType.Bottom;break;case g.TextOrientationType.RotateLeft:c=g.HorizontalAlignmentType.Left,d=g.VerticalAlignmentType.Top;break;case g.TextOrientationType.RotateRight:c=g.HorizontalAlignmentType.Right,d=g.VerticalAlignmentType.Bottom}break;case g.PlacementType.Right:switch(u=new m.default(n+a+l,i+s/2-o/2,r,o),e){case g.TextOrientationType.Horizontal:c=g.HorizontalAlignmentType.Left,d=g.VerticalAlignmentType.Middle;break;case g.TextOrientationType.RotateLeft:c=g.HorizontalAlignmentType.Center,d=g.VerticalAlignmentType.Top;break;case g.TextOrientationType.RotateRight:c=g.HorizontalAlignmentType.Center,d=g.VerticalAlignmentType.Bottom}break;case g.PlacementType.BottomRight:case g.PlacementType.RightBottom:switch(u=new m.default(n+a+l,i+s+l,r,o),e){case g.TextOrientationType.Horizontal:c=g.HorizontalAlignmentType.Left,d=g.VerticalAlignmentType.Top;break;case g.TextOrientationType.RotateLeft:c=g.HorizontalAlignmentType.Right,d=g.VerticalAlignmentType.Top;break;case g.TextOrientationType.RotateRight:c=g.HorizontalAlignmentType.Left,d=g.VerticalAlignmentType.Bottom}break;case g.PlacementType.Bottom:switch(u=new m.default(n+a/2-r/2,i+s+l,r,o),e){case g.TextOrientationType.Horizontal:c=g.HorizontalAlignmentType.Center,d=g.VerticalAlignmentType.Top;break;case g.TextOrientationType.RotateLeft:c=g.HorizontalAlignmentType.Right,d=g.VerticalAlignmentType.Middle;break;case g.TextOrientationType.RotateRight:c=g.HorizontalAlignmentType.Left,d=g.VerticalAlignmentType.Middle}break;case g.PlacementType.BottomLeft:case g.PlacementType.LeftBottom:switch(u=new m.default(n-r-l,i+s+l,r,o),e){case g.TextOrientationType.Horizontal:c=g.HorizontalAlignmentType.Right,d=g.VerticalAlignmentType.Top;break;case g.TextOrientationType.RotateLeft:c=g.HorizontalAlignmentType.Right,d=g.VerticalAlignmentType.Bottom;break;case g.TextOrientationType.RotateRight:c=g.HorizontalAlignmentType.Left,d=g.VerticalAlignmentType.Top}break;case g.PlacementType.Left:switch(u=new m.default(n-r-l,i+s/2-o/2,r,o),e){case g.TextOrientationType.Horizontal:c=g.HorizontalAlignmentType.Right,d=g.VerticalAlignmentType.Middle;break;case g.TextOrientationType.RotateLeft:c=g.HorizontalAlignmentType.Center,d=g.VerticalAlignmentType.Bottom;break;case g.TextOrientationType.RotateRight:c=g.HorizontalAlignmentType.Center,d=g.VerticalAlignmentType.Top}break;case g.PlacementType.TopLeft:case g.PlacementType.LeftTop:switch(u=new m.default(n-r-l,i-l-o,r,o),e){case g.TextOrientationType.Horizontal:c=g.HorizontalAlignmentType.Right,d=g.VerticalAlignmentType.Bottom;break;case g.TextOrientationType.RotateLeft:c=g.HorizontalAlignmentType.Left,d=g.VerticalAlignmentType.Bottom;break;case g.TextOrientationType.RotateRight:c=g.HorizontalAlignmentType.Right,d=g.VerticalAlignmentType.Top}}return{position:u,horizontalAlignmentType:c,verticalAlignmentType:d}}(c,p,t,e,n,i,o,l,r.labelOffset);(h=new T.default(r.position)).labelType=f,h.weight=d,h.text=a.label,h.labelOrientation=p,h.horizontalAlignmentType=r.horizontalAlignmentType,h.verticalAlignmentType=r.verticalAlignmentType}}return h}(t,e,n,i,r,o,s);null!=a&&l.push(a)}}));s.showLabels==g.Enabled.Auto&&Object(d.default)(this,l,function(t,e){if(t.isActive&&e.isActive)switch(t.labelType){case g.LabelType.Dummy:switch(e.labelType){case g.LabelType.Dummy:break;case g.LabelType.Regular:case g.LabelType.Fixed:e.isActive=!1}break;case g.LabelType.Fixed:switch(e.labelType){case g.LabelType.Dummy:t.isActive=!1;break;case g.LabelType.Regular:e.isActive=!1;break;case g.LabelType.Fixed:}break;case g.LabelType.Regular:switch(e.labelType){case g.LabelType.Dummy:t.isActive=!1;break;case g.LabelType.Regular:t.weight<=e.weight?t.isActive=!1:e.isActive=!1;break;case g.LabelType.Fixed:t.isActive=!1}}}),t.graphics.activate("placeholder",g.Layers.Label);for(var i={fontSize:s.labelFontSize,fontFamily:s.labelFontFamily,fontStyle:s.labelFontStyle,fontWeight:s.labelFontWeight,fontColor:s.labelColor},a=0,u=l.length;a<u;a+=1){var c=l[a];if(c.isActive)switch(c.labelType){case g.LabelType.Regular:case g.LabelType.Fixed:t.graphics.text(c.x,c.y,c.width,c.height,c.text,c.labelOrientation,c.horizontalAlignmentType,c.verticalAlignmentType,i)}}}(e,t),!1}}}},"./src/tasks/renders/DrawLevelAnnotationBackgroundTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var y=n("./src/enums.js"),k=n("./src/graphics/structs/Rect.js"),v=n("./src/graphics/structs/Interval.js"),C=n("./src/events/RenderEventArgs.js"),w=n("./src/common/index.js");function i(e,p,n,t,i,a,s){var m,r,g,T;return{process:function(){var t=i.getAnnotations();return(m=e()).reset("placeholder",y.Layers.LevelAnnotation),0<t.length&&(r=a.getPositions(),g=n.getTransform(),T=s.getBackgroundTemplate(),function(t,e){var a,n=new v.default(p.getVerticalOffset()),i=m.activate("placeholder",y.Layers.LevelAnnotation);g.transformRect(0,0,i.size.width,i.size.height,!1,this,function(t,e,n,i){a=new k.default(t,e,n,i)});for(var s=0,r=t.length;s<r;s+=1){var o=t[s],l=g.transformThickness(o.lineWidth,!0),u=e[s];if(null!=u)for(var c=0,d=u.length;c<d;c+=1){var h,f=u[c],f=new k.default(0,f.from,a.width,f.width());f.offset(o.offset),f.verticalInterval().overlaps(n)&&((h=new C.default).context=o,Object(w.mergeObjects)(h.context,{lineWidth:l}),g.transformRect(f.x,f.y,f.width,f.height,!0,this,function(t,e,n,i){m.template(t,e,n,i,0,0,n,i,T.template(),T.getHashCode(),T.render,h,null)}))}}}(t,r)),!1}}}},"./src/tasks/renders/DrawLevelAnnotationTitlesTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var k=n("./src/enums.js"),v=n("./src/graphics/structs/Rect.js"),C=n("./src/graphics/structs/Thickness.js"),w=n("./src/graphics/structs/Interval.js"),b=n("./src/events/RenderEventArgs.js");function i(e,p,n,t,i,a,s,m){var g,r,T,y;return{process:function(){var t=i.getAnnotations();return(g=e()).reset("titlesplaceholder",k.Layers.LevelAnnotation),0<t.length&&(r=a.getPositions(),T=n.getTransform(),y=s.getTitleTemplate(),function(t,e){var a,n=new w.default(p.getVerticalOffset()),i=m.getOptions().levelTitlePanelSize;g.activate("titlesplaceholder",k.Layers.LevelAnnotation),T.transformRect(0,n.from,0,n.width(),!0,this,function(t,e,n,i){a=new v.default(t,e,n,i)});for(var s=0,r=t.length;s<r;s+=1){var o=t[s],l=e[s];if(null!=l)for(var u=0,c=l.length;u<c;u+=1){var d,h=l[u],f=new v.default(0,h.from,i,h.width());f.verticalInterval().overlaps(n)&&(h=new C.default(0,o.offset.top,0,o.offset.bottom),f.offset(h),(d=new b.default).context=o,T.transformRect(f.x,f.y,f.width,f.height,!0,this,function(t,e,n,i){g.template(t-a.x,e-a.y,n,i,0,0,n,i,y.template(),y.getHashCode(),y.render,d,null)}))}}}(t,r)),!1}}}},"./src/tasks/renders/DrawMinimizedItemsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var C=n("./src/graphics/structs/Rect.js"),w=n("./src/enums.js"),b=n("./src/graphics/structs/PolylinesBuffer.js"),O=n("./src/graphics/structs/DotSegment.js"),P=n("./src/graphics/structs/PaletteItem.js"),j=n("./src/graphics/shapes/Marker.js");function i(t,e,n,i,m,a){var g,T,y,k,v=!1;return{process:function(){return g=t(),T=e.getTransform(),y=i.getOptions(),k=a.getItemsPositions(),g.reset("placeholder",w.Layers.Marker),function(){var a,s,r,o,t,l,u,c,d,h=new b.default,f={},p=new j.default;for(d in k)k.hasOwnProperty(d)&&(o=k[d],t=o.actualPosition,l=i.getItemOptions(d),T.transformRect(t.x,t.y,t.width,t.height,!0,this,function(t,e,n,i){o.actualVisibility===w.Visibility.Dot?(u=m.getTemplateParams(d),c=u.template.templateConfig,r=0,(u=s=a=null)!=l&&(a=l.itemTitleColor,s=l.itemTitleColor,u=l.minimizedItemShapeType),a=a||c.minimizedItemBorderColor||w.Colors.Navy,s=s||c.minimizedItemFillColor||w.Colors.Navy,null==u&&(u=(null!==c.minimizedItemShapeType?c:y).minimizedItemShapeType),r=null===c.minimizedItemCornerRadius?c.minimizedItemSize.width:c.minimizedItemCornerRadius,null==u||u==w.ShapeType.None?h.getPolyline(new P.default({lineColor:a,lineWidth:c.minimizedItemLineWidth,lineType:c.minimizedItemLineType,fillColor:s,opacity:c.minimizedItemOpacity})).addSegment(new O.default(t,e,n,i,r)):p.draw(h,u,new C.default(t,e,n,i),new P.default({lineColor:a,lineWidth:c.minimizedItemLineWidth,lineType:c.minimizedItemLineType,fillColor:s,opacity:c.minimizedItemOpacity}))):v&&(a=w.Colors.Red,f.hasOwnProperty(a)||(f[a]=new P.default({lineColor:a,lineWidth:1,lineType:w.LineType.Solid,fillColor:a,opacity:1})),h.getPolyline(f[a]).addSegment(new O.default(t-1,e-1,2,2,1)))}));g.activate("placeholder",w.Layers.Marker),g.polylinesBuffer(h)}(),!1}}}},"./src/tasks/renders/DrawShapeAnnotationTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var w=n("./src/graphics/structs/Rect.js"),b=n("./src/events/RenderEventArgs.js"),O=n("./src/enums.js"),P=n("./src/graphics/shapes/Shape.js"),j=n("./src/configs/ShapeAnnotationConfig.js");function i(t,e,n,i,a,s,r,T){var y,k,v,C;return{process:function(){switch(y=t(),k=e.getTransform(),v=i.getOptions(),C=r.getTemplate(),T){case O.ZOrderType.Background:y.reset("placeholder",O.Layers.BackgroundAnnotations);break;case O.ZOrderType.Foreground:y.reset("placeholder",O.Layers.ForegroundAnnotations)}return function(t,e){var n,i,a,s,r,o,l,u,c,d,h,f,p,m,g;switch(T){case O.ZOrderType.Background:n=y.activate("placeholder",O.Layers.BackgroundAnnotations);break;case O.ZOrderType.Foreground:n=y.activate("placeholder",O.Layers.ForegroundAnnotations)}for(i=0,a=t.length;i<a;i+=1)if(null!=(m=t[i]).items&&0<m.items.length){for(h=new w.default,s=0,r=m.items.length;s<r;s+=1)null!=(d=e(m.items[s]))&&h.addRect(d.actualPosition);if(!h.isEmpty()){for(u=new P.default(y),c=new j.default,o=0,l=(f=["opacity","cornerRadius","shapeType","offset","lineWidth","borderColor","fillColor","lineType","labelSize","labelOffset","labelPlacement","zOrderType"]).length;o<l;o+=1)u[p=f[o]]=(m.hasOwnProperty(p)?m:c)[p];u.position=h,u.orientationType=v.orientationType,u.panelSize=n.size,u.labelTemplate=C,u.hasLabel=null!=m.templateName||null!=m.label,(g=new b.default).context=m,g.templateName=u.labelTemplate,k.transformRect(h.x,h.y,h.width,h.height,!0,this,function(t,e,n,i){i=new w.default(t,e,n,i);u.draw(i,g)})}}}(a.getAnnotations(),s.getItemPosition),!1}}}},"./src/tasks/renders/DrawTreeItemsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var O=n("./src/graphics/structs/Point.js"),P=n("./src/graphics/structs/Size.js"),j=n("./src/graphics/structs/Rect.js"),S=n("./src/events/RenderEventArgs.js"),A=n("./src/enums.js");function i(t,e,s,r,n,f,o,p,m,i,g,a,l,u){var T,y,k,v,C,w,b;return{process:function(){return y=t(),v=n.getOptions(),T=o.getItemsPositions(),k=e.getTransform(),C=u.getTemplate(),w=l.getTemplate(),b=a.getTemplate(),y.reset("placeholder",A.Layers.Item),y.reset("placeholder",A.Layers.Controls),function(){var l,u,t,c,d=i.getCursorTreeItem(),h=function(){var t=null;{var e,n,i,a;null!=p&&(e=r.getOptions().scale,n=new O.default(p.getPlaceholderOffset()),i=new j.default(o.getContentSize()),a=new P.default(s.getOptimalPanelSize()),n.scale(1/e),a.scale(1/e),t=new j.default(n.x,n.y,Math.min(a.width,i.width),Math.min(a.height,i.height)))}return t}();for(c in T)T.hasOwnProperty(c)&&(u=T[c],t=u.actualPosition,u.actualVisibility==A.Visibility.Normal&&k.transformRect(t.x,t.y,t.width,t.height,!0,this,function(t,e,n,i){var a=new j.default(t,e,n,i);if(null==h||h.overlaps(a)){var s=m.getTemplateParams(c),a=s.template;if((l=new S.default).id=c,l.context=f.getConfig(c),l.isCursor=c==d,l.isSelected=g.isSelected(c),l.templateName=a.templateConfig.name,l.template=s.template,l.isActive=s.isActive,l.hasSelectorCheckbox=s.hasSelectorCheckbox,l.hasButtons=s.hasButtons,l.hasGroupTitle=s.hasGroupTitle,l.onButtonsRender=s.onButtonsRender,y.activate("placeholder",A.Layers.Item),y.template(t,e,n,i,u.contentPosition.x,u.contentPosition.y,u.contentPosition.width,u.contentPosition.height,a.itemTemplate.template(),a.itemTemplate.getHashCode(),a.itemTemplate.render,l,{borderWidth:a.templateConfig.itemBorderWidth}),s.hasGroupTitle){var r=0;switch(v.groupTitlePlacementType){case A.AdviserPlacementType.Left:case A.AdviserPlacementType.Auto:r=2;break;case A.AdviserPlacementType.Right:r=n-(v.groupTitlePanelSize-4)}y.template(t,e,n,i,r,u.contentPosition.y,v.groupTitlePanelSize-4,u.contentPosition.height+2,b.template(),b.getHashCode(),b.render,l,null)}if(s.hasSelectorCheckbox&&(y.activate("placeholder",A.Layers.Controls),y.template(t,e,n,i,u.contentPosition.x,i-(v.checkBoxPanelSize-4),u.contentPosition.width,v.checkBoxPanelSize-4,w.template(),w.getHashCode(),w.render,l,null)),s.hasButtons){y.activate("placeholder",A.Layers.Controls);var o=0;switch(v.groupTitlePlacementType){case A.AdviserPlacementType.Left:case A.AdviserPlacementType.Auto:o=n-(v.buttonsPanelSize-4);break;case A.AdviserPlacementType.Right:o=2}y.template(t,e,n,i,o,u.contentPosition.y,v.buttonsPanelSize-4,Math.max(u.contentPosition.height,i-u.contentPosition.y),C.template(),a.templateConfig.name+C.getHashCode(),C.render,l,null)}}}))}(),!1}}}},"./src/tasks/renders/offsetResolver/CollinearVectorBundle.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/graphics/structs/Rect.js"),o=n("./src/algorithms/Pile.js");function a(){var a=new i.default,s=[],r=[];return{addVector:function(t,e){s.push(t),r.push(e),a.addRect(t.from.x,t.from.y),a.addRect(t.to.x,t.to.y)},resolve:function(){var i;1==s.length?r[0](0,1,1):(i=Object(o.default)(),function(t){var e,n,i;if(a.width>a.height)for(e=0,n=s.length;e<n;e+=1)t((i=s[e]).from.x,i.to.x,r[e]);else for(e=0,n=s.length;e<n;e+=1)t((i=s[e]).from.y,i.to.y,r[e])}(function(t,e,n){i.add(t,e,n)}),i.resolve(this,function(t,e,n,i,a,s){n(i,a,s)}))}}}},"./src/tasks/renders/offsetResolver/ConnectorAnnotationOffsetResolver.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var a=n("./src/tasks/renders/offsetResolver/CollinearVectorBundle.js");function i(){var i={};return{getOffset:function(t,e){var n=t.getLineKey();i.hasOwnProperty(n)||(i[n]=new a.default),i[n].addVector(t,e)},resolve:function(){for(var t in i)i.hasOwnProperty(t)&&i[t].resolve()}}}},"./src/tasks/templates/ActiveItemsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var l=n("./src/readers/ArrayReader.js"),u=n("./src/readers/ValueReader.js");function i(i,o){var a={items:[]},s={},r=new l.default(new u.default(["string","number"],!0),!0);return{process:function(){var t={isChanged:!1,hash:s},e=i.getOptions(),n=e.items;return a.items=r.read(a.items,function(t,e){var n,i,a=[];for(n=0,i=e.length;n<i;n+=1){var s=e[n],r=o.getTemplate(s.templateName,t.defaultTemplateName,o.DefaultWidgetTemplateName).templateConfig;s.isActive&&r.isActive&&a.push(s.id)}return a}(e,n),"items",t),t.isChanged},getActiveItems:function(){return s.items}}}},"./src/tasks/templates/AnnotationLabelTemplateTask.js":function(t,e,n){"use strict";function i(t,e){var n={template:null};return{process:function(){return!1},getTemplate:function(){return null==n.template&&(n.template=new e.AnnotationLabelTemplate),n.template}}}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/templates/ButtonsTemplateTask.js":function(t,e,n){"use strict";function i(t,e){var n={template:null};return{process:function(){return!1},getTemplate:function(){return null==n.template&&(n.template=new e.ButtonsTemplate),n.template}}}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/templates/CheckBoxTemplateTask.js":function(t,e,n){"use strict";function i(e,n){var i={template:null};return{process:function(){return!(i.template=null)},getTemplate:function(){var t;return null==i.template&&(t=e.getOptions(),i.template=new n.CheckBoxTemplate(t.selectCheckBoxLabel)),i.template}}}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/templates/CombinedTemplateParamsTask.js":function(t,e,n){"use strict";function i(e,n){return{process:function(){return!0},getTemplateParams:function(t){return e.getTemplateParams(t)||n.getTemplateParams(t)}}}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/templates/GroupTitleTemplateTask.js":function(t,e,n){"use strict";function i(e,n){var i={template:null};return{process:function(){return!(i.template=null)},getTemplate:function(){var t;return null==i.template&&(t=e.getOptions(),i.template=new n.GroupTitleTemplate(t)),i.template}}}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/templates/ItemTemplateParamsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var g=n("./src/models/TemplateParams.js"),T=n("./src/common/index.js"),y=n("./src/enums.js");function i(d,h,f){var p={items:{}};function m(t,e,n){var i=!1;switch(e){case y.Enabled.Auto:switch(n){case y.Enabled.Auto:i=t;break;case y.Enabled.True:i=!0;break;case y.Enabled.False:i=!1}break;case y.Enabled.True:i=!0;break;case y.Enabled.False:i=!1}return i}return{process:function(){var t,e,n=d.getOptions(),i=null!=n.onButtonsRender,a=h.getCursorItem(),s=n.items;for(p.items={},t=0,e=s.length;t<e;t+=1){var r=s[t],o=new g.default,l=a==r.id,u=f.getTemplate(r.templateName,n.defaultTemplateName,f.DefaultWidgetTemplateName),c=u.templateConfig;o.template=u,o.isActive=r.isActive&&c.isActive,o.isActive&&(o.hasSelectorCheckbox=m(l,r.hasSelectorCheckbox,n.hasSelectorCheckbox),o.hasButtons=c.hasButtons!==y.Enabled.Auto?c.hasButtons==y.Enabled.True:i&&m(l,r.hasButtons,n.hasButtons),o.hasButtons&&(o.onButtonsRender=c.onButtonsRender||n.onButtonsRender)),o.hasGroupTitle=!Object(T.isNullOrEmpty)(r.groupTitle),p.items[r.id]=o}return!0},getTemplateParams:function(t){return p.items[t]}}}},"./src/tasks/templates/LabelAnnotationTemplateParamsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var d=n("./src/models/TemplateParams.js");function i(o,l,u){var c={items:{}};return{process:function(){var t,e,n=o.getOptions(),i=l.getAnnotations();for(c.items={},t=0,e=i.length;t<e;t+=1){var a=i[t],s=new d.default,r=u.getTemplate(a.templateName,n.defaultLabelAnnotationTemplate,u.DefaultWidgetLabelAnnotationTemplateName);s.template=r,c.items[a.id]=s}return!0},getTemplateParams:function(t){return c.items[t]}}}},"./src/tasks/templates/LevelAnnotationTemplateTask.js":function(t,e,n){"use strict";function i(n,i,a){var s={backgroundTemplate:null,titleTemplate:null};return{process:function(){return s.backgroundTemplate=null,!(s.titleTemplate=null)},getBackgroundTemplate:function(){var t;return null==s.backgroundTemplate&&(t=i.getOptions(),s.backgroundTemplate=new a.LevelBackgroundTemplate(t)),s.backgroundTemplate},getTitleTemplate:function(){var t,e;return null==s.titleTemplate&&(t=n.getOptions().orientationType,e=i.getOptions(),s.titleTemplate=new a.LevelTitleTemplate(e,t)),s.titleTemplate}}}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/templates/ReadTemplatesTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var h=n("./src/graphics/structs/Size.js"),f=n("./src/configs/TemplateConfig.js"),p=n("./src/models/Template.js"),m=n("./src/common/index.js");function i(o,l){var u={templates:{},itemTemplates:[]},c="DefaultWidgetTemplate",d="DefaultWidgetLabelAnnotationTemplate";return{process:function(){var t,e,n,i,a,s=o.getOptions(),r=s.templates;for(u.templates={},u.itemTemplates=[],n=new f.default,u.templates[c]=new p.default(n,new l.ItemTemplate(s,n),new l.HighlightTemplate(s,n),new l.DotHighlightTemplate(s,n),new l.CursorTemplate(s,n)),u.itemTemplates.push(u.templates[c]),i=d,(a=new f.default).name=i,a.isActive=!1,a.itemSize=new h.default(100,20),a.minimizedItemSize=new h.default(0,0),a.minimizedItemCornerRadius=a.minimizedItemSize.width/2,n=a,u.templates[d]=new p.default(n,new l.LabelAnnotationTemplate,null,new l.DotHighlightTemplate(s,n),null),t=0,e=r.length;t<e;t+=1)n=r[t],u.templates[n.name]=new p.default(n,Object(m.isNullOrEmpty)(n.itemTemplate)?new l.ItemTemplate(s,n):new l.UserTemplate(s,n.itemTemplate,s.onItemRender),Object(m.isNullOrEmpty)(n.highlightTemplate)?new l.HighlightTemplate(s,n):new l.UserTemplate(s,n.highlightTemplate,s.onHighlightRender),new l.DotHighlightTemplate(s,n),Object(m.isNullOrEmpty)(n.cursorTemplate)?new l.CursorTemplate(s,n):new l.UserTemplate(s,n.cursorTemplate,s.onCursorRender)),u.itemTemplates.push(u.templates[n.name]);return!0},getTemplate:function(t,e,n){return u.templates[t]||u.templates[e]||u.templates[n]},getItemTemplates:function(){return u.itemTemplates},DefaultWidgetTemplateName:c,DefaultWidgetLabelAnnotationTemplateName:d}}},"./src/tasks/transformations/AddLabelAnnotationsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var u=n("./src/algorithms/Graph.js"),c=n("./src/models/EdgeItem.js"),d=n("./src/models/FamilyItem.js"),f=n("./src/enums.js");function i(i,a){var s={logicalFamily:null,maximumId:null};return{process:function(t){var e=a.getLogicalFamily(),n=i.getAnnotations();if(function(i,t){var e,a,n,s,r,o=Object(u.default)(),l={};if(0<t.length){for(s=0,r=t.length;s<r;s+=1)a=t[s],l.hasOwnProperty(a.fromItem)?l[a.fromItem].push(a):(l[a.fromItem]=[a],i.loopChildren(this,a.fromItem,function(t,e,n){return o.addEdge(a.fromItem,t,new c.default(a.fromItem,a.fromItem,t,t)),i.SKIP}),i.loopParents(this,a.fromItem,function(t,e,n){return o.addEdge(t,a.fromItem,new c.default(t,t,a.fromItem,a.fromItem)),i.SKIP}));for(n in l)if(l.hasOwnProperty(n))for((e=l[n]).sort(function(t,e){return e.toItems.length-t.toItems.length}),s=0;s<e.length;s+=1)a=e[s],function(t,e,n,i,a){var s,r,o,l,u,c=!0,d=null,h=[];for(o=0,l=i.length;o<l;o+=1){if(r=i[o],null==(s=e.edge(n,r))){c=!1;break}if(null==d)d=s.getFar(r);else if(d!=s.getFar(r)){c=!1;break}h.push(s.getNear(r))}if(c&&(u=a(),t.bundleParents(d,h,u.id,u)?(u.levelGravity=f.GroupByType.Children,c=!0):t.bundleChildren(d,h,u.id,u)?(u.levelGravity=f.GroupByType.Parents,c=!0):t.bundleParents(d,i,u.id,u)?(u.levelGravity=f.GroupByType.Children,c=!0):t.bundleParents(d,i,u.id,u)&&(u.levelGravity=f.GroupByType.Parents,c=!0),c))for(o=0,l=i.length;o<l;o+=1)r=i[o],(s=e.edge(n,r)).setFar(r,u.id)}(i,o,a.fromItem,a.toItems,function(){return new d.default({id:a.id,isVisible:!0,isLevelNeutral:!0,isActive:!1,itemConfig:a})})}}(e=e.clone(),n),s.logicalFamily=e,s.maximumId=i.getMaximumId(),t&&!e.validate())throw"References are broken in family structure!";return!0},getLogicalFamily:function(){return s.logicalFamily},getMaximumId:function(){return s.maximumId}}}},"./src/tasks/transformations/AddSpousesTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var d=n("./src/models/FamilyItem.js"),h=n("./src/enums.js");function i(a,s){var r={logicalFamily:null,maximumId:null};return{process:function(t){var e=s.getLogicalFamily(),n=s.getMaximumId(),i=a.getItems(),n=function(t,e,n){var i,a,s,r,o,l,u,c;for(s=0,r=e.length;s<r;s+=1)for(o=e[s],c=o.spouses.slice(0),l=0,u=c.length;l<u;l+=1)i=[o.id,c[l]],t.hasCommonChild(i)||(n+=1,a=new d.default({id:n,isVisible:!1,isActive:!1,isLevelNeutral:!0,hideParentConnection:!0,hideChildrenConnection:!0,itemConfig:{title:"fake child #"+n,description:"This is fake child keeps spouses together."},levelGravity:h.GroupByType.Parents}),t.add(i,a.id,a));return n}(e=e.clone(),i,n);if(r.logicalFamily=e,r.maximumId=n,t&&!e.validate())throw"References are broken in family structure!";return!0},getLogicalFamily:function(){return r.logicalFamily},getMaximumId:function(){return r.maximumId}}}},"./src/tasks/transformations/CombinedContextsTask.js":function(t,e,n){"use strict";function i(e,n){return{process:function(){return!0},getConfig:function(t){return e.getConfig(t)||null!=n&&n.getConfig(t)}}}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/transformations/ConnectionsGraphTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var m=n("./src/algorithms/Graph.js");function i(t,u,c,d,h,f){var p={graph:null,nodeid:0};return{process:function(){for(var t=d.getBundles(),e=d.getNestedLayoutBottomConnectorIds(),n=c.getOptions(),i=null!=f?f.getLoops():[],a={graph:Object(m.default)(),nodeid:0},s={treeItemsPositions:h.getItemsPositions(),nestedLayoutBottomConnectorIds:e,transform:u.getTransform()},r={connectorType:n.connectorType,showExtraArrows:n.showExtraArrows,bevelSize:n.bevelSize,elbowType:n.elbowType},o=0,l=t.length;o<l;o+=1)t[o].trace(a,s,r);return function(r,t){for(var e=0,n=t.length;e<n;e+=1){var i=t[e];r.getShortestPath(this,i.from,[i.to],function(t,e,n){return t.weight},function(t,e){for(var n=0,i=t.length-1;n<i;n+=1){var a=t[n],s=t[n+1],s=r.edge(a,s);s.isOppositeFlow=!0,s.hasArrow=!0}})}}(a.graph,i,n.extraArrowsMinimumSpace),p=a,!0},getGraph:function(){return p.graph}}}},"./src/tasks/transformations/FamItemsPositionsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var v=n("./src/tasks/transformations/layouts/FamilyLayout.js"),C=n("./src/tasks/transformations/layouts/MatrixLayout.js"),w=n("./src/graphics/structs/Rect.js"),b=n("./src/graphics/structs/Size.js");function i(u,c,d,h,f,p,m,g,T,y){var k={treeItemsPositions:{},panelSize:null};return{process:function(){var t=h.getOptions(),e=f.getOptions(),n=p.getOptions(),i={logicalFamily:m.getLogicalFamily(),treeLevels:m.getTreeLevels(),getConnectorsStacksSizes:m.getConnectorsStacksSizes,isItemSelected:y.isItemSelected,cursorItemId:T.getCursorTreeItem(),getTemplateParams:g.getTemplateParams},a={verticalAlignment:t.verticalAlignment,pageFitMode:t.pageFitMode,minimalVisibility:t.minimalVisibility,normalLevelShift:t.normalLevelShift,dotLevelShift:t.dotLevelShift,lineLevelShift:t.lineLevelShift,normalItemsInterval:t.normalItemsInterval,dotItemsInterval:t.dotItemsInterval,lineItemsInterval:t.lineItemsInterval,orientationType:d.getOptions().orientationType,arrowsDirection:e.arrowsDirection,linesWidth:e.linesWidth,checkBoxPanelSize:t.checkBoxPanelSize,buttonsPanelSize:t.buttonsPanelSize,groupTitlePanelSize:t.groupTitlePanelSize,groupTitlePlacementType:t.groupTitlePlacementType,maximumColumnsInMatrix:n.maximumColumnsInMatrix},t=u.getOptions().optimalPanelSize,n=new b.default(t),t=c.getOptions().scale;n.scale(1/t);var s,r,n=new w.default(0,0,n.width,n.height),o=new v.default(i,a),l=m.getMatrixes();for(s in l)l.hasOwnProperty(s)&&(r=i.logicalFamily.node(s),o.add(s,new C.default({items:l[s],isItemSelected:i.isItemSelected,cursorItemId:i.cursorItemId,getTemplateParams:i.getTemplateParams,hideParentConnection:r.hideParentConnection,hideChildrenConnection:r.hideChildrenConnection},a)));return k.panelSize=o.measure(n),k.treeItemsPositions={},o.arrange(this,function(t,e){k.treeItemsPositions[t]=e}),!0},getItemsPositions:function(){return k.treeItemsPositions},getItemPosition:function(t){return k.treeItemsPositions[t]},getContentSize:function(){return k.panelSize}}}},"./src/tasks/transformations/HideGrandParentsConnectorsTask.js":function(t,e,n){"use strict";function i(i,a){var s={maximumId:null,logicalFamily:null};return{process:function(t){var e=a.getLogicalFamily(),n=a.getMaximumId(),e=1==i.getOptions().hideGrandParentsConnectors?e.getFamilyWithoutGrandParentsRelations():e.clone();return s.logicalFamily=e,s.maximumId=n,!0},getLogicalFamily:function(){return s.logicalFamily},getMaximumId:function(){return s.maximumId}}}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/transformations/LogicalFamilyTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var c=n("./src/algorithms/Family.js"),d=n("./src/models/FamilyItem.js");function i(l){var u={logicalFamily:null,maximumId:null};return{process:function(t){var e,n,i,a,s=l.getItems(),r=Object(c.default)(),o=0;if(0<s.length)for(e=0,n=s.length;e<n;e+=1)null!=(a=s[e])&&(i=new d.default({id:a.id,itemConfig:a,isActive:a.isActive}),r.add(a.parents,i.id,i),a=parseInt(a.id,10),o=Math.max(isNaN(a)?0:a,o));if(u.logicalFamily=r,u.maximumId=o,t&&!r.validate())throw"References are broken in family structure!";return!0},getLogicalFamily:function(){return u.logicalFamily},getMaximumId:function(){return u.maximumId}}}},"./src/tasks/transformations/NormalizeLogicalFamilyTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/tasks/transformations/familyTransformations/FamilyNormalizer.js");function a(a,s){var r={maximumId:null,logicalFamily:null},o=new i.default(!1);return{process:function(t){var e=s.getLogicalFamily(),n=s.getMaximumId(),i={groupByType:(i=a.getOptions()).groupByType,alignBylevels:i.alignBylevels},e=e.clone(),n=o.normalize(i,e,n);return r.logicalFamily=e,r.maximumId=n,!0},getLogicalFamily:function(){return r.logicalFamily},getMaximumId:function(){return r.maximumId}}}},"./src/tasks/transformations/OrderFamilyNodesTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return o});var i=n("./src/tasks/transformations/familyTransformations/FamilyBalance.js"),a=n("./src/tasks/transformations/familyTransformations/FamilyMatrixesExtractor.js"),s=n("./src/tasks/transformations/familyTransformations/UserDefinedPrimaryParents.js"),r=n("./src/models/TreeLevelConnectorStackSize.js");function o(l,u,c){var d={maximumId:null,logicalFamily:null,matrixes:{},nestedLayoutBottomConnectorIds:{},treeLevels:null,bundles:null,connectorStacks:null},h=new i.default,f=new a.default(!1),p=new s.default,e=new r.default;return{process:function(t){var e=c.getLogicalFamily(),n=c.getMaximumId(),i={},a={},s=[],r=l.getOptions(),o={enableMatrixLayout:r.enableMatrixLayout,minimumMatrixSize:r.minimumMatrixSize,maximumColumnsInMatrix:r.maximumColumnsInMatrix},e=e.clone(),n=f.extract(o,e,i,a,s,n);return d.logicalFamily=e,d.matrixes=i,d.nestedLayoutBottomConnectorIds=a,d.bundles=s,e={logicalFamily:e,maximumId:n,itemsPositions:u.getPositions(),itemsGroups:u.getGroups(),primaryParents:p.getUserDefinedPrimaryParents(r.items,e)},e=h.balance(e),d.maximumId=e.maximumId,d.treeLevels=e.treeLevels,d.bundles=d.bundles.concat(e.bundles),d.connectorStacks=e.connectorStacks,!0},getLogicalFamily:function(){return d.logicalFamily},getMatrixes:function(){return d.matrixes},getNestedLayoutBottomConnectorIds:function(){return d.nestedLayoutBottomConnectorIds},getMaximumId:function(){return d.maximumId},getTreeLevels:function(){return d.treeLevels},getBundles:function(){return d.bundles},getConnectorsStacksSizes:function(t){return d.connectorStacks[t]||e}}}},"./src/tasks/transformations/OrgItemsPositionsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var B=n("./src/enums.js"),y=n("./src/graphics/structs/Rect.js"),k=n("./src/graphics/structs/Size.js"),v=n("./src/models/TreeItemPosition.js"),C=n("./src/models/LevelVisibility.js"),w=n("./src/models/TreeLevelPosition.js");function i(a,s,r,o,l,u,c,d,h,f,p){var O,P,j,S,A,m,I,x,L,z,M={treeItemsPositions:{},panelSize:null};function g(t,e){var n,i,a;for(P=[],O.loopLevels(this,function(t,e){var n=new w.default;n.currentvisibility=B.Visibility.Normal,P.push(n)}),n=0;n<=e;n+=1)i=t[n],P[i.level].currentvisibility=i.currentvisibility;return function(){var r=f.getCursorTreeItem();M.treeItemsPositions={},O.loopLevels(this,function(t,e){var s=P[t];O.loopLevelItems(this,t,function(t,e,n){var i=new v.default,a=p.isItemSelected(t)?B.Visibility.Normal:e.visibility,e=h.getTemplateParams(t),a=a===B.Visibility.Auto?s.currentvisibility:a,e=function(t,e,n,i,a){var s,r,o;switch(t){case B.Visibility.Normal:s=n.template.templateConfig,r=new k.default(s.itemSize),o=new y.default(0,0,r.width,r.height),e&&(r.height+=s.cursorPadding.top+s.cursorPadding.bottom,r.width+=s.cursorPadding.left+s.cursorPadding.right,o.x=s.cursorPadding.left,o.y=s.cursorPadding.top),n.hasSelectorCheckbox&&(r.height+=i.checkBoxPanelSize),n.hasButtons&&(r.width+=i.buttonsPanelSize,i.groupTitlePlacementType===B.AdviserPlacementType.Right&&(o.x+=i.buttonsPanelSize)),n.hasGroupTitle&&(r.width+=i.groupTitlePanelSize,i.groupTitlePlacementType===B.AdviserPlacementType.Right||(o.x+=i.groupTitlePanelSize));break;case B.Visibility.Dot:s=n.template.templateConfig,r=new k.default(s.minimizedItemSize);break;case B.Visibility.Line:case B.Visibility.Invisible:r=new k.default}switch(a){case B.OrientationType.Left:case B.OrientationType.Right:r.invert()}return{actualSize:r,contentPosition:o}}(a,r==t,e,L,m.orientationType);i.actualVisibility=a,i.actualSize=e.actualSize,i.contentPosition=e.contentPosition,M.treeItemsPositions[t]=i})})}(),function(){var t,e;for(t=0,e=P.length;t<e;t+=1)P[t].currentOffset=0;j.loopPostOrder(this,function(t,i,e,n){var a,s,r,o,l,u,c,d,h,f,p,m,g,T,y,k=M.treeItemsPositions[t],v=k.actualVisibility,C=O.getLevelIndex(t),w=P[C],b=z[v===B.Visibility.Auto?w.currentvisibility:v]/2,C=0<w.currentOffset?b*i.relationDegree*L.cousinsIntervalMultiplier:0,v=8*I.linesWidth;if(k.leftPadding=b+C,k.rightPadding=b,I.arrowsDirection!=B.GroupByType.None&&(i.connectorPlacement&B.SideFlag.Left&&(k.leftPadding+=v),i.connectorPlacement&B.SideFlag.Right&&(k.rightPadding+=v)),k.offset=w.currentOffset+k.leftPadding,w.currentOffset=k.offset+k.actualSize.width+k.rightPadding,j.hasChildren(t))if(0<(r=function(t){var i,e,a,n,s=M.treeItemsPositions[t.id],s=s.offset+s.actualSize.width/2,r=null;if(null===t.visualAggregatorId)switch(i=null,j.loopChildren(this,t.id,function(t,e,n){if((i=e).connectorPlacement&B.SideFlag.Top)return!0}),e=M.treeItemsPositions[i.id],a=null,j.loopChildrenReversed(this,t.id,function(t,e,n){if((a=e).connectorPlacement&B.SideFlag.Top)return!0}),n=M.treeItemsPositions[a.id],x.horizontalAlignment){case B.HorizontalAlignmentType.Left:r=e.offset+e.actualSize.width/2;break;case B.HorizontalAlignmentType.Right:r=n.offset+n.actualSize.width/2;break;case B.HorizontalAlignmentType.Center:r=(e.offset+n.offset+n.actualSize.width)/2}else t=M.treeItemsPositions[t.visualAggregatorId],r=t.offset+t.actualSize.width/2;return s-r}(i)))R(i,r);else if(r<0&&(r=-r,F(i,r),o=null,l={},c=null,t=j.parent(i.id),null!==t&&(j.loopChildrenReversed(this,t.id,function(t,e,n){if(e===i)o=[];else if(null!==o){if(u=function(t,e){var n,i,a=null,s=function(t){var e,n,i,a,s=[];void 0===(e=A[t.id])&&(e=[]);for((e=e.slice()).splice(0,0,t.id),n=0,i=e.length;n<i;n+=1)a=M.treeItemsPositions[e[n]],s[n]=a.offset+a.actualSize.width+a.rightPadding;return s}(t),r=function(t){var e,n,i,a,s=[];void 0===(e=S[t.id])&&(e=[]);for((e=e.slice()).splice(0,0,t.id),n=0,i=e.length;n<i;n+=1)a=M.treeItemsPositions[e[n]],s[n]=a.offset-a.leftPadding;return s}(e),o=Math.min(s.length,r.length);for(n=0;n<o&&(i=r[n]-s[n],a=null!==a?Math.min(a,i):i,!(i<=0));n+=1);return Math.floor(a)}(e,i),!(0<(l[e.id]=u)))return c=e,!0;o.splice(0,0,e)}}),0<o.length))){if((d=null)!==c)for((h=(h=[c]).concat(o)).push(i),d=[[c]],a=1,s=h.length;a<s;a+=1)f=h[a-1],p=h[a],f.gravity==B.HorizontalAlignmentType.Right||p.gravity==B.HorizontalAlignmentType.Left?d[d.length-1].push(p):d.push([p]);else(d=[o.slice(0)])[d.length-1].push(i);if(0<d.length)for(a=(o=d[d.length-1]).length-2;0<=a;--a)y=o[a],u=l[y.id],F(y,r=Math.min(u,r)),R(y,r);for(g=r/(d.length-1),m=d.length-2;0<m;--m)for(a=(T=d[m]).length-1;0<=a;--a)y=T[a],u=l[y.id],F(y,r=Math.min(m*g,Math.min(u,r))),R(y,r)}})}(),function(){var s,r;O.loopLevels(this,function(t,e){var a=P[t];switch(a.shift=0,a.depth=0,a.actualVisibility=B.Visibility.Invisible,r=s=null,O.loopLevelItems(this,t,function(t,e,n){var i=M.treeItemsPositions[t];switch(a.depth=Math.max(a.depth,i.actualSize.height),i.actualVisibility){case B.Visibility.Dot:case B.Visibility.Line:case B.Visibility.Invisible:r=r?Math.min(r,i.actualSize.height):i.actualSize.height;break;default:s=s?Math.min(s,i.actualSize.height):i.actualSize.height}a.actualVisibility=Math.min(a.actualVisibility,i.actualVisibility)}),null==s&&(s=a.depth),null!=r&&s<r&&(s=r),L.verticalAlignment){case B.VerticalAlignmentType.Top:a.horizontalConnectorsDepth=s/2;break;case B.VerticalAlignmentType.Middle:a.horizontalConnectorsDepth=a.depth/2;break;case B.VerticalAlignmentType.Bottom:a.horizontalConnectorsDepth=a.depth-s/2}})}(),function(){var t,e,n,i,a=L.lineLevelShift,s=0,r=0,o=8*I.linesWidth;switch(I.arrowsDirection){case B.GroupByType.Parents:s=o,r=0;break;case B.GroupByType.Children:s=0,r=o}for(t=0,e=P.length;t<e;t+=1)n=P[t],i=d.getConnectorsStacksSizes(t),a+=n.setShift(a,function(t){var e=0;switch(t){case B.Visibility.Normal:e=L.normalLevelShift;break;case B.Visibility.Dot:e=L.dotLevelShift;break;case B.Visibility.Line:case B.Visibility.Invisible:e=L.lineLevelShift}return e}(n.actualVisibility),r,s,i.parentsStackSize)}(),new y.default(0,0,Math.round(function(){var t,e,n=0;for(t=0,e=P.length;t<e;t+=1)n=Math.max(n,P[t].currentOffset);return n+=L.normalItemsInterval}()),Math.round((a=P.length,(a=P[a-1]).shift+a.nextLevelShift)))}function T(t,e){var n=!1;switch(L.pageFitMode){case B.PageFitMode.PageWidth:e.width>=t.width&&(n=!0);break;case B.PageFitMode.PageHeight:e.height>=t.height&&(n=!0);break;case B.PageFitMode.FitToPage:e.height>=t.height&&e.width>=t.width&&(n=!0)}return n}function F(t,e){var n=M.treeItemsPositions[t.id];n.offset+=e;t=P[O.getLevelIndex(t.id)];t.currentOffset=Math.max(t.currentOffset,n.offset+n.actualSize.width+n.rightPadding)}function R(t,i){var a,s;j.loopLevels(this,t.id,function(t,e,n){return(a=M.treeItemsPositions[t]).offset+=i,(s=P[O.getLevelIndex(t)]).currentOffset=Math.max(s.currentOffset,a.offset+a.actualSize.width),!0})}return{process:function(){var t,e=a.getOptions().optimalPanelSize,n=new k.default(e),i=s.getOptions().scale;return L=o.getOptions(),t=L,(e=[])[B.Visibility.Normal]=t.normalItemsInterval,e[B.Visibility.Dot]=t.dotItemsInterval,e[B.Visibility.Line]=t.lineItemsInterval,e[B.Visibility.Invisible]=t.lineItemsInterval,z=e,m=r.getOptions(),I=l.getOptions(),x=u.getOptions(),O=d.getTreeLevels(),j=c.getVisualTree(),S=c.getLeftMargins(),A=c.getRightMargins(),P=[],M.treeItemsPositions={},n.scale(1/i),n=new y.default(0,0,n.width,n.height),M.panelSize=function(t){var i,a,e,n,s,r,o=new y.default(0,0,0,0);switch(m.orientationType){case B.OrientationType.Left:case B.OrientationType.Right:t.invert()}if(!O.isEmpty())switch(L.pageFitMode){case B.PageFitMode.None:case B.PageFitMode.AutoSize:i=[new C.default(0,B.Visibility.Normal)],o=g(i,0);break;default:switch(i=[new C.default(0,B.Visibility.Normal)],a=[],L.minimalVisibility){case B.Visibility.Normal:break;case B.Visibility.Dot:a.push(B.Visibility.Dot);break;case B.Visibility.Auto:case B.Visibility.Line:case B.Visibility.Invisible:a.push(B.Visibility.Dot),a.push(B.Visibility.Line)}if(O.loopLevelsReversed(this,function(t,e){for(var n=0;n<a.length;n+=1)i.push(new C.default(t,a[n]))}),e=g(i,i.length-1),e.addRect(t),e.offset(0,0,5,5),n=null,s=null,r=null,o=g(i,0),!T(o,e)&&(n=0,T(o=g(i,i.length-1),e))){for(s=i.length-1,r=s;1<s-n;)r=Math.floor((s+n)/2),T(o=g(i,r),e)?s=r:n=r;s!==r&&(o=g(i,s))}}return o}(n),function(){var s=null;O.loopLevels(this,function(t,e){var a=P[t];O.loopLevelItems(this,t,function(t,e,n){var i=M.treeItemsPositions[t],t=function(t,e,n,i,a,s){var r=0;switch(t){case B.Visibility.Normal:switch(s){case B.VerticalAlignmentType.Top:r=0;break;case B.VerticalAlignmentType.Middle:r=(a.depth-n.height)/2;break;case B.VerticalAlignmentType.Bottom:r=a.depth-n.height}break;case B.Visibility.Dot:case B.Visibility.Line:case B.Visibility.Invisible:r=a.horizontalConnectorsDepth-n.height/2}return{position:new y.default(e,a.shift+r,n.width,n.height),horizontalConnectorsShift:a.shift+a.horizontalConnectorsDepth,topConnectorShift:null!=i?i.shift+i.connectorShift:null,topConnectorInterval:null!=i?i.levelSpace/2:null,bottomConnectorShift:a.shift+a.connectorShift,bottomConnectorInterval:a.levelSpace/2}}(i.actualVisibility,i.offset,i.actualSize,s,a,L.verticalAlignment);i.actualPosition=t.position,i.horizontalConnectorsShift=t.horizontalConnectorsShift,i.topConnectorShift=t.topConnectorShift,i.topConnectorInterval=t.topConnectorInterval,i.bottomConnectorShift=t.bottomConnectorShift,i.bottomConnectorInterval=t.bottomConnectorInterval}),s=a})}(),!0},getItemsPositions:function(){return M.treeItemsPositions},getItemPosition:function(t){return M.treeItemsPositions[t]},getContentSize:function(){return M.panelSize}}}},"./src/tasks/transformations/OrgTreeTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var d=n("./src/algorithms/Tree.js"),h=n("./src/models/OrgItem.js"),f=n("./src/configs/OrgItemConfig.js"),p=n("./src/enums.js");function i(t){var c={orgTree:null,maximumId:null};return{process:function(){return function(t){var e,i,n,a,s,r,o,l=0,u=Object(d.default)();for(a=0,s=t.length;a<s;a+=1)null!=(n=t[a]).id&&(e=new h.default(n),r=parseInt(n.id,10),l=Math.max(isNaN(r)?0:r,l),u.add(n.parent,e.id,e));l+=1,(o=new f.default).id=l,o.title="internal root",o.isVisible=!1,o.isActive=!1,(i=new h.default(o)).hideParentConnection=!0,i.hideChildrenConnection=!0,u.add(null,i.id,i),u.loopLevels(this,function(t,e,n){return 0<n?u.BREAK:void(i.id!=t&&(u.adopt(i.id,t),e.itemType=p.ItemType.Regular))}),function(a){a.loopLevels(this,function(t,e,n){var i=!0;return e.isVisible?a.SKIP:(a.loopChildren(this,t,function(t,e,n){if(e.itemType!=p.ItemType.Regular)return!(i=!1)}),i?(e.hideChildrenConnection=!0,void a.loopChildren(this,t,function(t,e,n){e.hideParentConnection=!0})):a.SKIP)})}(u),c.orgTree=u,c.maximumId=l}(t.getItems()),!0},getOrgTree:function(){return c.orgTree},getMaximumId:function(){return c.maximumId}}}},"./src/tasks/transformations/PaletteManagerTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var a=n("./src/graphics/structs/PaletteManager.js");function i(e,n){var i;return{process:function(){var t=[];return null!=n&&(t=n.getOptions().linesPalette),i=new a.default(e.getOptions(),t),!0},getPaletteManager:function(){return i}}}},"./src/tasks/transformations/RemoveLoopsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var b=n("./src/enums.js"),O=n("./src/algorithms/getFamilyLoops.js"),P=n("./src/models/FamilyItem.js");function i(a,s,r){var o={logicalFamily:null,maximumId:null,loops:[]};return{process:function(t){var e=r.getLogicalFamily(),n=r.getMaximumId(),i=a.getItems(),n=function(t,e,n,i,a){var s,r,o,l,u,c,d=function(t,e){var i,n,a,s,r,o,l,u,c=[];if(i=e.clone(),e.loopTopo(this,function(t,e,n){i.removeNode(t)}),i.hasNodes())for(n=0,a=t.length;n<a;n+=1)if(u=t[n],null!=i.node(u.id)){for(l=[],i.loopParents(this,u.id,function(t,e,n){return l.push(t),c.push({from:t,to:u.id}),i.SKIP}),s=0,r=l.length;s<r;s+=1)i.removeRelation(l[s],u.id);for(o=[],i.loopTopo(this,function(t,e,n){o.push(t)}),s=0,r=o.length;s<r;s+=1)i.removeNode(o[s])}return c}(e,n),h=[];1<d.length&&t==b.LoopsLayoutMode.Optimized&&(d=Object(O.default)(n,a));var f=[],p={};for(o=0,l=d.length;o<l;o+=1){var m=d[o];p.hasOwnProperty(m.to)?p[m.to].parents.push(m.from):(p[m.to]={itemid:m.to,parents:[m.from]},f.push(p[m.to]))}var g={};if(0<f.length)for(n=n.clone(),o=0,l=f.length;o<l;o+=1){var T=f[o],y=T.parents,k=[];for(n.loopParents(this,T.itemid,function(t,e){return k.push(t),n.SKIP}),u=0,c=k.length;u<c;u+=1)n.removeChildRelation(k[u],T.itemid);i+=1;var v=k.length<=y.length;for(r=new P.default({id:i,isVisible:!1,isActive:!1,isLevelNeutral:!0,hideParentConnection:v,hideChildrenConnection:v,levelGravity:b.GroupByType.Children,itemConfig:{title:"fake parent #"+i,description:"This is fake parent item was created by loops reversal."}}),n.add([],r.id,r),n.adopt([r.id],T.itemid),u=0,c=y.length;u<c;u+=1){var C=y[u];null==(s=g[C])&&(i+=1,s=new P.default({id:i,isVisible:!1,isActive:!1,isLevelNeutral:!0,hideParentConnection:!0,hideChildrenConnection:!0,levelGravity:b.GroupByType.Parents,itemConfig:{title:"fake child #"+i,description:"This is fake child item was created by loops reversal."}}),g[C]=s,n.add([C],s.id,s)),n.adopt([r.id],s.id),h.push({from:r.id,to:s.id})}var w={};for(u=0,c=y.length;u<c;u+=1)w[y[u]]=!0;for(u=0,c=k.length;u<c;u+=1)w.hasOwnProperty(k[u])||n.adopt([k[u]],r.id)}return{maximumId:i,logicalFamily:n,loops:h}}(s.getOptions().loopsLayoutMode,i,e,n,t);if(o.logicalFamily=n.logicalFamily,o.maximumId=n.maximumId,o.loops=n.loops,t&&!e.validate())throw"References are broken in family structure!";return!0},getLogicalFamily:function(){return o.logicalFamily},getMaximumId:function(){return o.maximumId},getLoops:function(){return o.loops}}}},"./src/tasks/transformations/UserDefinedNodesOrderTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var a=n("./src/tasks/transformations/familyTransformations/UserDefinedNodesOrder.js");function i(e){var n={position:null,group:null},i=new a.default;return{process:function(){var t=e.getOptions(),t=i.getUserDefinedPositions(t.items);return n.position=t.position,n.group=t.group,!0},getPositions:function(){return n.position},getGroups:function(){return n.group}}}},"./src/tasks/transformations/VisualTreeLevelsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var y=n("./src/models/TreeLevelConnectorStackSize.js"),a=n("./src/algorithms/TreeLevels.js"),k=n("./src/algorithms/Pile.js"),v=n("./src/enums.js"),C=n("./src/connectors/VerticalConnectorBundle.js"),w=n("./src/connectors/HorizontalConnectorBundle.js");function i(e,t){var i={treeLevels:null,bundles:null,connectorStacks:null},n=new y.default;return{process:function(){var t=e.getVisualTree();return i.treeLevels=Object(a.default)(),t.loopLevels(this,function(t,e,n){i.treeLevels.addItem(n,t,e)}),i.bundles=[],i.connectorStacks=[],function(r,i,o,l){var a,s,u,c,d,h,f,p,m,g,T={};o.loopLevels(this,function(t,e){var n=new y.default;if(i[t]=n,f=[],o.loopLevelItems(this,t,function(t,e,n){var i=[];if(!T.hasOwnProperty(t)&&(e.connectorPlacement&v.SideFlag.Bottom&&i.push(t),0<(i=i.concat(e.partners)).length)){h=new C.default(i,[]);for(var a=0,s=i.length;a<s;a+=1)T[i[a]]=h;l.loopChildren(this,t,function(t,e,n){e.connectorPlacement&v.SideFlag.Top&&h.toItems.push(t)}),1<i.length&&f.push(h),(1<h.fromItems.length||0<h.toItems.length)&&r.push(h)}e.connectorPlacement&v.SideFlag.Left&&(h=new w.default(t,o.getPrevItem(t)),r.push(h)),e.connectorPlacement&v.SideFlag.Right&&(h=new w.default(t,o.getNextItem(t)),r.push(h))}),0<f.length){for(g=Object(k.default)(),a=0,s=f.length;a<s;a+=1){for(h=f[a],m=p=null,u=0,c=h.fromItems.length;u<c;u+=1)d=o.getItemPosition(h.fromItems[u]),p=null!=p?Math.min(p,d):d,m=null!=m?Math.max(m,d):d;g.add(p,m,h)}n.parentsStackSize=g.resolve(this,function(t,e,n,i,a){n.fromOffset=i+1,n.fromStackSize=a})}})}(i.bundles,i.connectorStacks,i.treeLevels,t),!0},getTreeLevels:function(){return i.treeLevels},getBundles:function(){return i.bundles},getConnectorsStacksSizes:function(t){return i.connectorStacks[t]||n},getNestedLayoutBottomConnectorIds:function(){return{}}}}},"./src/tasks/transformations/VisualTreeTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var o=n("./src/algorithms/Family.js"),l=n("./src/algorithms/Tree.js"),G=n("./src/enums.js"),u=n("./src/models/TreeItem.js");function i(n,i,a,z){var s,r,M={visualTree:null,leftMargins:{},rightMargins:{},navigationFamily:null};function F(t,e){for(var n=e;null!=n.visualAggregatorId;)n=t.node(n.visualAggregatorId);return n}function R(t,e){var i=0;return t.loopLevels(this,e.id,function(t,e,n){i=n+1}),i+1}function B(t,e,n,i){return 0<i%2&&(e===i-1?e=t.length:e===i&&(e=i-1)),(e=n*i+e)>t.length-1?null:t[e]}function D(t,i,a){var s=null,r={},e=t.parent(a.id);return t.loopChildrenReversed(this,e.id,function(t,e,n){if(null===s)t==a.id&&(s=-1,r[a.id]=!0,i.loopChildren(this,a.id,function(t,e,n){return 0<n?i.BREAK:void(r[t]=!0)}));else{if(!r.hasOwnProperty(t))return s=n,!0;i.loopChildren(this,e.id,function(t,e,n){return 0<n?i.BREAK:void(r[t]=!0)})}}),s}function V(t,a,s){var r=null,o={},e=t.parent(s.id);return t.loopChildren(this,e.id,function(t,e,n,i){if(null===r)t==s.id&&(r=i+1,o[s.id]=!0,a.loopChildren(this,s.id,function(t,e,n){return 0<n?a.BREAK:void(o[t]=!0)}));else{if(!o.hasOwnProperty(t))return r=n,!0;a.loopChildren(this,t,function(t,e,n){return 0<n?a.BREAK:void(o[t]=!0)})}}),r}function N(t,e,n){var n=e.visibility==G.Visibility.Invisible&&0===e.connectorPlacement||n,n=H({visibility:G.Visibility.Invisible,visualAggregatorId:e.visualAggregatorId,connectorPlacement:n?0:G.SideFlag.Top|G.SideFlag.Bottom});return t.insert(e.id,n.id,n),e.visualAggregatorId=n.id,n}function H(t,e){var n,i=new u.default;for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);return null!=e?(i.id=e.id,i.visibility=e.isVisible?G.Visibility.Auto:G.Visibility.Invisible):(s+=1,i.id=s),i}function E(t,e,n){var i=[];n||t.visibility==G.Visibility.Invisible||!r.hasOwnProperty(t.id)?(n||i.push(t.id),M.navigationFamily.loopParents(this,t.id,function(t,e,n){if(e.visibility!=G.Visibility.Invisible&&(i.push(t),r.hasOwnProperty(t)))return M.navigationFamily.SKIP})):i.push(t.id),null!=M.navigationFamily.node(e.id)?M.navigationFamily.adopt(i,e.id):M.navigationFamily.add(i,e.id,e)}return{process:function(){var t=n.getOrgTree(),e=a.getOptions();return r=null!=i?i.getActiveItems():{},M.visualTree=Object(l.default)(),M.navigationFamily=Object(o.default)(),s=n.getMaximumId(),t.hasNodes()&&function(h,f,p){var m,g,u,T,y,c,k,d,v,C,w,b,O,P,j,S,A,I={},x={},L={};h.loopPostOrder(this,function(t,e,n,i){e.hasVisibleChildren=e.isVisible||e.hasVisibleChildren,null!=i&&(i.hasVisibleChildren=i.hasVisibleChildren||e.hasVisibleChildren)}),h.loopLevels(this,function(a,t,e){var s,r,o;if(!z&&!t.hasVisibleChildren)return h.SKIP;switch((s=p.node(a))||(s=H({visibility:G.Visibility.Invisible,connectorPlacement:0,parentId:null,actualItemType:G.ItemType.Regular},t),p.add(null,a,s)),S=j=0,null!=(y=p.indexOf(a))&&(j=y,S=p.countSiblings(a)-y-1),r=[],h.loopChildren(this,a,function(t,e,n){if(z||e.hasVisibleChildren){switch(m=H({parentId:a,actualItemType:e.itemType},e),s.actualItemType){case G.ItemType.LimitedPartner:case G.ItemType.AdviserPartner:case G.ItemType.GeneralPartner:switch(m.actualItemType){case G.ItemType.LimitedPartner:case G.ItemType.AdviserPartner:case G.ItemType.GeneralPartner:m.actualItemType=G.ItemType.Adviser;break;case G.ItemType.Regular:m.actualItemType=G.ItemType.Assistant}}switch(m.actualItemType){case G.ItemType.SubAdviser:E(s,m),m.connectorPlacement=G.SideFlag.Top|G.SideFlag.Bottom,o=H({visibility:G.Visibility.Invisible}),p.add(o.id,m.id,m),m=o;case G.ItemType.AdviserPartner:case G.ItemType.Adviser:switch(g=p.parent(a),s.connectorPlacement&G.SideFlag.Right||!(s.connectorPlacement&G.SideFlag.Left)&&e.adviserPlacementType===G.AdviserPlacementType.Left?(T=D(p,M.navigationFamily,s),p.add(g.id,m.id,m,T+1),m.connectorPlacement=G.SideFlag.Right|G.SideFlag.Bottom,m.gravity=G.HorizontalAlignmentType.Right):(T=V(p,M.navigationFamily,s),p.add(g.id,m.id,m,T),m.connectorPlacement=G.SideFlag.Left|G.SideFlag.Bottom,m.gravity=G.HorizontalAlignmentType.Left),m.actualItemType){case G.ItemType.SubAdviser:break;case G.ItemType.AdviserPartner:null!=s.parentId?E(p.node(s.parentId),m):E(s,m,!0);break;case G.ItemType.Adviser:E(s,m)}break;case G.ItemType.SubAssistant:E(s,m),m.connectorPlacement=G.SideFlag.Top|G.SideFlag.Bottom,o=H({visibility:G.Visibility.Invisible}),p.add(o.id,m.id,m),m=o;case G.ItemType.Assistant:var i=function(t,e,n,i,a){var s,r=null;n=n||i;var o=0;for(;o<=a;)null==(r=null==r?e:t.node(r.visualAggregatorId)).visualAggregatorId&&(s=H({visibility:G.Visibility.Invisible,visualAggregatorId:null,connectorPlacement:n?0:G.SideFlag.Top|G.SideFlag.Bottom}),t.insert(r.id,s.id,s),r.visualAggregatorId=s.id),o+=1;return r}(p,s,!1,!1,e.levelOffset||0);e.adviserPlacementType===G.AdviserPlacementType.Left?(p.add(i.id,m.id,m,0),m.connectorPlacement=G.SideFlag.Right|G.SideFlag.Bottom,m.gravity=G.HorizontalAlignmentType.Right):(p.add(i.id,m.id,m),m.connectorPlacement=G.SideFlag.Left|G.SideFlag.Bottom,m.gravity=G.HorizontalAlignmentType.Left),m.actualItemType==G.ItemType.Assistant&&E(s,m);break;case G.ItemType.Regular:i=e.levelOffset||0;null==r[i]?r[i]=[m]:r[i].push(m),E(s,m);break;case G.ItemType.LimitedPartner:case G.ItemType.GeneralPartner:if(g=p.parent(a),s.connectorPlacement&G.SideFlag.Right)p.add(g.id,m.id,m,j),m.connectorPlacement=G.SideFlag.Right|G.SideFlag.Bottom,m.gravity=G.HorizontalAlignmentType.Right;else if(s.connectorPlacement&G.SideFlag.Left)p.add(g.id,m.id,m,p.countChildren(g.id)-S),m.connectorPlacement=G.SideFlag.Left|G.SideFlag.Bottom,m.gravity=G.HorizontalAlignmentType.Left;else switch(e.adviserPlacementType===G.AdviserPlacementType.Left?(p.add(g.id,m.id,m,j),m.gravity=G.HorizontalAlignmentType.Right):(p.add(g.id,m.id,m,p.countChildren(g.id)-S),m.gravity=G.HorizontalAlignmentType.Left),m.actualItemType){case G.ItemType.GeneralPartner:m.connectorPlacement=G.SideFlag.Top|G.SideFlag.Bottom;break;case G.ItemType.LimitedPartner:m.connectorPlacement=G.SideFlag.Bottom}null!=s.parentId?E(p.node(s.parentId),m):E(s,m,!0)}}}),s.actualItemType){case G.ItemType.LimitedPartner:case G.ItemType.AdviserPartner:case G.ItemType.GeneralPartner:break;default:A=[],null!=(g=p.parent(a))&&p.loopChildrenRange(this,g.id,j,p.countChildren(g.id)-S,function(t,e,n){if(e.id==a)A.push(e);else switch(e.actualItemType){case G.ItemType.LimitedPartner:case G.ItemType.AdviserPartner:case G.ItemType.GeneralPartner:h.parentid(e.id)==a&&A.push(e)}}),1<A.length&&(L[a]=A)}I[a]=[],x[a]=[];var n=[];if(0<r.length){g=F(p,s);for(var i=0;i<r.length-1;i+=1){var l=r[i]||[];if(null!=l){var u=s.visibility==G.Visibility.Invisible&&0===s.connectorPlacement,u=N(p,g,u);n.push([u]);var c=0;switch(f.horizontalAlignment){case G.HorizontalAlignmentType.Center:c=Math.ceil(l.length/2)-1;break;case G.HorizontalAlignmentType.Left:c=-1;break;case G.HorizontalAlignmentType.Right:c=l.length-1}for(y=c;0<=y;--y)k=l[y],p.add(g.id,k.id,k,0),k.connectorPlacement=G.SideFlag.Top|G.SideFlag.Bottom,k.gravity=G.HorizontalAlignmentType.Right;for(y=c+1;y<l.length;y+=1)k=l[y],p.add(g.id,k.id,k),k.connectorPlacement=G.SideFlag.Top|G.SideFlag.Bottom,k.gravity=G.HorizontalAlignmentType.Left;g=u}}var d=r[r.length-1];!function(t,e,n,i,a,s,r,o){var l,u,c,d,h,f,p,m,g,T,y,k,v,C,w,b=i.visibility==G.Visibility.Invisible&&0===i.connectorPlacement;switch(n.horizontalAlignment){case G.HorizontalAlignmentType.Center:case G.HorizontalAlignmentType.Left:w=G.AdviserPlacementType.Right;break;case G.HorizontalAlignmentType.Right:w=G.AdviserPlacementType.Left}switch(s===G.ChildrenPlacementType.Auto&&(s=function(i,t){var a=!1,s=!0;return i.loopChildren(this,t.id,function(t,e,n){if(a=!0,e.itemType===G.ItemType.Regular&&i.hasChildren(t))return!(s=!1)}),a&&s}(t,i)?n.leavesPlacementType===G.ChildrenPlacementType.Auto?G.ChildrenPlacementType.Matrix:n.leavesPlacementType:n.childrenPlacementType===G.ChildrenPlacementType.Auto?G.ChildrenPlacementType.Horizontal:n.childrenPlacementType),l=F(e,i),s==G.ChildrenPlacementType.Matrix&&a.length<3&&(s=G.ChildrenPlacementType.Horizontal),s){case G.ChildrenPlacementType.Horizontal:for(v=0,C=a.length;v<C;v+=1)f=a[v],p=t.node(f.id),e.add(l.id,f.id,f),f.connectorPlacement=(p.hideParentConnection?0:G.SideFlag.Top)|(p.hideChildrenConnection?0:G.SideFlag.Bottom),0===v&&(f.relationDegree=1);break;case G.ChildrenPlacementType.Matrix:for(m=Math.min(n.maximumColumnsInMatrix,Math.ceil(Math.sqrt(a.length))),g=Math.ceil(a.length/m),T=Math.ceil(m/2),y=0;y<T;y+=1)for(u=l,k=0;k<g;k+=1)c=B(a,2*y,k,m),d=B(a,2*y+1,k,m),void 0===r[k]&&(r[k]=[],o[k]=[]),null!==c&&(0===y&&(c.relationDegree=1),e.add(u.id,c.id,c),c.connectorPlacement=(b?0:G.SideFlag.Right)|G.SideFlag.Bottom,c.gravity=G.HorizontalAlignmentType.Right,o[k].push(c)),null===c&&null===d||(h=H({visibility:G.Visibility.Invisible,connectorPlacement:b?0:G.SideFlag.Top|G.SideFlag.Bottom}),e.add(u.id,h.id,h),r[k].push(h)),null!==d&&(e.add(u.id,d.id,d),d.connectorPlacement=(b?0:G.SideFlag.Left)|G.SideFlag.Bottom,d.gravity=G.HorizontalAlignmentType.Left,o[k].push(d)),u=h;2<m&&(l.visualAggregatorId=null);break;case G.ChildrenPlacementType.Vertical:for(v=0,C=a.length;v<C;v+=1){switch(f=a[v],h=H({visibility:G.Visibility.Invisible,connectorPlacement:b?0:G.SideFlag.Top|G.SideFlag.Bottom}),w){case G.AdviserPlacementType.Left:e.add(l.id,f.id,f),e.add(l.id,h.id,h),f.connectorPlacement=(b?0:G.SideFlag.Right)|G.SideFlag.Bottom,f.gravity=G.HorizontalAlignmentType.Right;break;case G.AdviserPlacementType.Right:e.add(l.id,h.id,h),e.add(l.id,f.id,f),f.connectorPlacement=(b?0:G.SideFlag.Left)|G.SideFlag.Bottom,f.gravity=G.HorizontalAlignmentType.Left}r[v]=[h],o[v]=[f],l=h}break;default:throw"Children placement is undefined!"}}(h,p,f,s,d,t.childrenPlacementType,I[a],x[a]),I[a]=I[a].concat(n),x[a]=x[a].concat(r.slice(0,r.length-1))}}),h.loopPostOrder(this,function(t,e,n,i){var a,s,r,o,l=p.node(t),n=null!=L[n];if(null!=l){if(a=x[t],s=I[t],null!=i){switch(o=n,i.placeAssistantsAboveChildren){case G.Enabled.Auto:f.placeAssistantsAboveChildren&&(o=!0);break;case G.Enabled.True:o=!0}if(o&&(C=function(i,a){var s=0;null!=a.visualAggregatorId&&i.loopLevels(this,a.id,function(t,e,n){return a.visualAggregatorId==t?i.SKIP:void(s=n+1)});return s}(p,l),0<C&&(l.visualDepth=C+1,null!==l.visualAggregatorId)))for(u=p.node(l.visualAggregatorId),r=p.hasChildren(u.id),y=0;y<C-1;y+=1)u=N(p,u,!r)}if(null!=i){switch(o=n,i.placeAdvisersAboveChildren){case G.Enabled.Auto:f.placeAdvisersAboveChildren&&(o=!0);break;case G.Enabled.True:o=!0}if(o&&1<(C=function(t,e){var n,i,a,s=0,r=t.parent(e.id);if(null!==r){for(n=t.indexOf(e.id),i=1;null!=(a=t.getChild(r.id,n+i))&&a.connectorPlacement&G.SideFlag.Left;)s=Math.max(s,R(t,a)),i+=1;for(i=1;null!=(a=t.getChild(r.id,n-i))&&a.connectorPlacement&G.SideFlag.Right;)s=Math.max(s,R(t,a)),i+=1}return s}(p,l)))for(l.visualDepth+=C-1,r=p.hasChildren(t),u=l,y=0;y<C-1;y+=1)u=N(p,u,!r)}for(w=[],y=0,c=a.length;y<c;y+=1)if(P=a[y],w[y]=0,null!=P)for(d=0,v=P.length;d<v;d+=1)w[y]=Math.max(w[y],R(p,P[d]));for(y=0,c=w.length;y<c;y+=1)if(1<(b=w[y]))for(d=0,v=s[y].length;d<v;d+=1)if(O=s[y][d],p.hasChildren(O.id))for(C=b;1<C;)O=N(p,O,!1),--C;null!=L[t]&&function(t,i,e){var a,n,s,r,o,l,u,c,d,h=0,f=[];for(n=0,s=e.length;n<s;n+=1)a=e[n],h=Math.max(h,a.visualDepth);for(n=0,s=e.length;n<s;n+=1){for(a=e[n],o=F(t,a),r=1,u=a;null!=u.visualAggregatorId;)(u=t.node(u.visualAggregatorId)).connectorPlacement=G.SideFlag.Top|G.SideFlag.Bottom,r+=1;for(;r<h;)o=N(t,o,!1),r+=1;f.push(F(t,o).id)}if(u=F(t,i),t.hasChildren(u.id)){if(o=e[Math.floor(e.length/2)],1<e.length&&e.length%2==0)for(l=t.parent(o.id),c=D(t,M.navigationFamily,o),d=t.getChild(l.id,c).gravity||t.getChild(l.id,c+1).gravity,o=H({visibility:G.Visibility.Invisible,connectorPlacement:o.connectorPlacement&(G.SideFlag.Left|G.SideFlag.Right),gravity:d}),t.add(l.id,o.id,o,c+1),r=1;r<h;)(o=N(t,o,!1)).connectorPlacement=0,r+=1;for(n=0,s=e.length;n<s;n+=1)a=e[n],M.navigationFamily.loopChildren(this,i.id,function(t,e,n){switch(e.actualItemType){case G.ItemType.SubAdviser:case G.ItemType.Adviser:case G.ItemType.SubAssistant:case G.ItemType.Assistant:break;default:i.id!=a.id&&E(a,e)}return M.navigationFamily.SKIP});o=F(t,o),t.moveChildren(u.id,o.id)}o.partners=f}(p,l,L[t])}})}(t,e,M.visualTree),M.leftMargins={},M.rightMargins={},function(t,c,d){t.loop(this,function(t,e){c[t]=[],d[t]=[]}),t.loopPostOrder(this,function(t,e,n,i){var a,s,r=c[n],o=d[n],l=c[t],u=d[t];if(null!=n){for(r[0]||(r[0]=t),a=0,s=l.length;a<s;a+=1)r[a+1]||(r[a+1]=l[a]);for(o[0]=t,a=0,s=u.length;a<s;a+=1)o[a+1]=u[a]}})}(M.visualTree,M.leftMargins,M.rightMargins),!0},getVisualTree:function(){return M.visualTree},getLogicalFamily:function(){return M.navigationFamily},getConnectionsFamily:function(){return M.connectionsFamily},getLeftMargins:function(){return M.leftMargins},getRightMargins:function(){return M.rightMargins}}}},"./src/tasks/transformations/familyTransformations/BaseTransformer.js":function(t,e,n){"use strict";function i(t){this.debug=t}n.r(e),n.d(e,"default",function(){return i}),i.prototype.validate=function(a,s){if(!a.validate())throw"Family structure failed to pass validation!";a.loop(this,function(t,i){a.loopChildren(this,t,function(t,e,n){if(null===e.level||null===i.level||(s?e.level!=i.level+1:e.level<=i.level))throw"Family tree is broken. Children/Parents or levels mismatch!";return a.SKIP})})}},"./src/tasks/transformations/familyTransformations/FamilyBalance.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/algorithms/TreeLevels.js"),E=n("./src/algorithms/LinkedHashItems.js"),l=n("./src/algorithms/Tree.js"),I=n("./src/algorithms/Graph.js"),y=n("./src/algorithms/Pile.js"),G=n("./src/algorithms/SortedList.js"),x=n("./src/tasks/transformations/familyTransformations/FamilyBalanceItem.js"),W=n("./src/models/Slot.js"),k=n("./src/models/TreeLevelConnectorStackSize.js"),v=n("./src/connectors/VerticalConnectorBundle.js");function a(){}a.prototype.balance=function(a){var s={maximumId:null,treeLevels:Object(i.default)(),bundles:[],connectorStacks:[]},t={orgTree:Object(l.default)(),maximumId:a.maximumId,orgPartners:{},itemByChildrenKey:{},minimumLevel:null,maximumLevel:null};this.createOrgTree(a,t);var r,o=-1;return t.orgTree.loopLevels(this,function(t,e,n){var i=a.logicalFamily.node(t);null!=i&&(r!==n&&(r=n,o+=1),s.treeLevels.addItem(o,t,i))}),this.recalcLevelsDepth(s.bundles,s.connectorStacks,s.treeLevels,a.logicalFamily),s.maximumId=t.maximumId,s},a.prototype.Family=function(t){this.id=null,this.familyPriority=1,this.childFamilies=[],this.items=[],this.links=[],this.backLinks=[],1==arguments.length&&(this.id=t)},a.prototype.FamLink=function(t,e){this.fromItem=t,this.toItem=e},a.prototype.createOrgTree=function(n,i){var t,e,a,s,r,o,l,u,c,d,h,f,p,m,g,T,y,k,v,C,w,b,O,P,j,S=[],A=[];if(0<n.logicalFamily.hasNodes()){if(P={},f=0,j=[],n.logicalFamily.loopRoots(this,function(t,e){p=new this.Family(f),this.extractOrgChart(t,n.logicalFamily,n.primaryParents,i.orgTree,i.orgPartners,i.itemByChildrenKey,P,p),A.push(p),j.push(p),f+=1}),j.sort(function(t,e){var n=t.items[0].level,i=e.items[0].level;return n!=i?n-i:e.items.length-t.items.length}),S=[],d={},0<A.length){for(r=Object(I.default)(),t=0,e=A.length;t<e;t+=1)for(a=0,s=(p=A[t]).links.length;a<s;a+=1)o=p.links[a],(u=n.logicalFamily.node(o.fromItem).familyId)!=(c=n.logicalFamily.node(o.toItem).familyId)&&(r.addEdge(u,c,{weight:0}),r.edge(u,c).weight+=1),A[c].backLinks.push(new this.FamLink(o.toItem,o.fromItem));for(;S.length<A.length;)for(t=0,e=j.length;t<e;t+=1)p=j[t],d.hasOwnProperty(p.id)||(null!=(C=r.getSpanningTree(p.id,function(t){return-t.weight})).node(p.id)?(C.loopPostOrder(this,function(t,e,n,i){var a=A[t],s=A[n],r=[];null!=n&&(s.familyPriority=s.familyPriority+a.familyPriority),r=[],C.loopChildren(this,t,function(t,e,n){r.push(t)}),r.sort(function(t,e){return A[t].familyPriority-A[e].familyPriority}),C.arrangeChildren(t,r)}),C.loopPreOrder(this,function(t,e){S.push(t),d[t]=!0})):(S.push(p.id),d[p.id]=!0))}for(i.maximumId+=1,O=new x.default(i.maximumId,null,i.minimumLevel-1),i.orgTree.add(null,O.id,O),h={},t=0,e=S.length;t<e;t+=1){for(y={},k=O,v=0,l=(p=A[S[t]]).links.concat(p.backLinks),a=0;a<l.length;a+=1)o=l[a],g=i.orgTree.node(o.toItem),i.orgTree.node(o.fromItem),!0===h[g.familyId]&&(m=p.items[0],(T=g).level>=m.level&&i.orgTree.loopParents(this,T.id,function(t,e){if((T=e).level<m.level)return!0}),y.hasOwnProperty(T.id)?y[T.id]+=1:y[T.id]=1,v<y[T.id]&&(v=y[(k=T).id]));this.attachFamilyToOrgChart(i,k,p),h[p.id]=!0}w=this.getExtraGravity(i),b=this.getGrandChildren(i),this.balanceOrgTree(i.orgTree,w,b,n.itemsPositions,n.itemsGroups)}},a.prototype.getGrandChildren=function(s){var r={};return s.orgTree.loopPostOrder(this,function(t,e,n,i){if(s.minimumLevel=null!=s.minimumLevel?Math.min(s.minimumLevel,e.level):e.level,s.maximumLevel=null!=s.maximumLevel?Math.max(s.maximumLevel,e.level):e.level,null!=n&&(r[n]||(r[n]={}),a=e.level-1,r[n][a]?r[n][a]+=1:r[n][a]=1,null!=r[t]))for(var a in r[t])r[t].hasOwnProperty(a)&&(r[n][a]?r[n][a]+=r[t][a]:r[n][a]=r[t][a])}),r},a.prototype.balanceOrgTree=function(u,c,n,i,d){var h,f,p,m,g,T,y,k,v,C,w;u.loopLevels(this,function(t,a,e){var s,r=Object(I.default)(),o={},l=null;if(y=[],u.loopChildren(this,a.id,function(t,e,n){if(null==l&&(l=e),o[e.id]={},c.hasOwnProperty(e.id))for(var i in T=c[e.id])if(T.hasOwnProperty(i))for(C=T[i],o[e.id][i]={},h=0,f=C.length;h<f;h+=1)g=C[h],s=g.commonParent==a.id?g.toParent:u.node(g.fromParent).childIndex<u.node(g.toParent).childIndex?"__right__":"__left__",e.id!=s&&(r.addEdge(e.id,s,{weight:0}),r.edge(e.id,s).weight+=1,null==o[e.id][i][s]&&(o[e.id][i][s]=0),o[e.id][i][s]+=1);0<n&&r.addEdge(e.id,l.id,{weight:0})}),null!=l)for(w=[],r.getTotalWeightGrowthSequence(this,function(t){return t.weight},function(t){w.push(t)}),0===w.length&&(w=[l.id]),k=this.balanceItems(w,"__left__","__right__",o,n,i,d),p=0,m=k.length;p<m;p+=1)(v=u.node(k[p])).childIndex=p,y.push(v.id);u.arrangeChildren(a.id,y)})},a.prototype.balanceItems=function(t,e,n,r,o,i,a){for(var s,l,u,c,d,h,f,p,m,g,T,y,k,v,C,w,b,O,P,j,S,A,I,x,L,z,M,F=[],R=Object(E.default)(),B=0,D={},V={},N=[e,null,n],H=0;H<N.length;H+=1)d=N[H],u=B++,(c=new W.default(d)).position=H,R.add(u,c),null!==d&&(V[d]=u);for(H=0;H<t.length;H+=1)if((d=t[H])!=e&&d!=n)for(P in l=s=T=g=m=p=f=h=null,a.hasOwnProperty(d)&&(L=a[d],D.hasOwnProperty(L)&&(I=i[d],s=(z=D[L]).previousContext(I),l=z.nextContext(I))),R.iterate(function(t,e){var n,i,a,s;if(null==t.itemId){for(n in w=o[d],C=v=k=y=0,t.crossings)t.crossings.hasOwnProperty(n)&&(w&&null!=w[n]&&(y+=t.crossings[n]*w[n]),C+=t.crossings[n]);for(n in r[d])if(r[d].hasOwnProperty(n))for(i in a=r[d][n])a.hasOwnProperty(i)&&V.hasOwnProperty(i)&&null!=(s=R.item(V[i]))&&(s.position<t.position?(y+=(t.left[n]||0)-(s.left[n]||0),v+=Math.abs(s.balance+1)):(y+=(t.right[n]||0)-(s.right[n]||0),v+=Math.abs(s.balance-1)),k+=Math.abs(s.position-t.position));(null==p||y<p||p==y&&(k<m||m==k&&(v<g||g==v&&C<T)))&&(h=e,p=y,f=t,m=k,g=v,T=C)}},s,l),R.insertBefore(h,B++,f.clone(null)),V[d]=B,O=B,b=f.clone(d),i.hasOwnProperty(d)&&(L=a[d],D.hasOwnProperty(L)||(D[L]=Object(G.default)()),(z=D[L]).add(i[d],B)),R.insertBefore(h,B++,b),b.position=0,x=0,R.iterate(function(t,e){var n,i;if(e!=O){for(n in i=o[d])i.hasOwnProperty(n)&&(t.left[n]?t.left[n]+=i[n]:t.left[n]=i[n]);x+=1,t.position=x}},O),x=0,R.iterateBack(function(t,e){var n,i;if(e!=O){for(n in i=o[d],o[d])o[d].hasOwnProperty(n)&&(t.right[n]?t.right[n]+=i[n]:t.right[n]=i[n]);--x,t.position=x}},O),r[d])if(r[d].hasOwnProperty(P))for(S in j=r[d][P])j.hasOwnProperty(S)&&V.hasOwnProperty(S)&&(M=V[S],null!=(A=R.item(M))&&(A.position<0?(A.balance+=1,--b.balance,R.iterateBack(function(t,e){e!=O&&e!=M&&(t.crossings[P]?t.crossings[P]+=j[S]:t.crossings[P]=j[S])},O,M)):(--A.balance,b.balance+=1,R.iterate(function(t,e){e!=O&&e!=M&&(t.crossings[P]?t.crossings[P]+=j[S]:t.crossings[P]=j[S])},O,M))));return R.iterate(function(t){t=t.itemId;null!=t&&t!=e&&t!=n&&F.push(t)}),F},a.prototype.ExtraGravity=function(t){this.commonParent=null,this.fromParent=null,this.toParent=null,this.level=t},a.prototype.getExtraGravity=function(t){var e,n,i,a,s,r,o={};for(e in t.orgPartners)if(t.orgPartners.hasOwnProperty(e))for(n=t.orgTree.node(e),i=0,a=(s=t.orgPartners[e]).length;i<a;i+=1)r=t.orgTree.node(s[i]),this.addExtraGravitiesForConnection(t.orgTree,o,r,n);return o},a.prototype.addExtraGravitiesForConnection=function(t,a,e,n){var s=new this.ExtraGravity(e.level),r=new this.ExtraGravity(n.level);t.zipUp(this,e.id,n.id,function(t,e,n,i){if(this.addExtraGravityForItem(a,t,s),this.addExtraGravityForItem(a,n,r),e==i)return s.commonParent=e,s.fromParent=t,s.toParent=n,r.commonParent=e,r.fromParent=n,r.toParent=t,!0})},a.prototype.addExtraGravityForItem=function(t,e,n){t.hasOwnProperty(e)||(t[e]={}),null==t[e][n.level]&&(t[e][n.level]=[]),t[e][n.level].push(n)},a.prototype.attachFamilyToOrgChart=function(t,e,n){for(var i,a=n.items[0],s=e,r=e.level+1;r<a.level;r+=1)t.maximumId+=1,i=new x.default(t.maximumId,null,r),t.orgTree.add(s.id,i.id,i),n.items.push(i),s=i;a.hideParentConnection=!0,t.orgTree.adopt(s.id,a.id,a)},a.prototype.extractOrgChart=function(t,e,n,i,a,s,r,o){var l,u,c,d,h=[],f=e.node(t),t=new x.default(f.id,o.id,f.level);for(i.add(null,t.id,t),o.items.push(t),(r[f.id]=f).familyId=o.id,h=this.extractChildren(f,e,n,i,a,s,r,o);0<h.length;){for(c=[],l=0,u=h.length;l<u;l+=1)d=h[l],c=c.concat(this.extractChildren(d,e,n,i,a,s,r,o));h=c}},a.prototype.extractChildren=function(i,a,t,s,e,n,r,o){var l,u,c=[],d=null;if(1==a.countChildren(i.id)&&(d=a.firstChild(i.id)),null!=n[d])null==e[(l=n[d]).id]&&(e[l.id]=[]),e[l.id].push(i.id),o.links.push(new this.FamLink(i.id,d));else{if(null!=d){if(t.hasOwnProperty(d)){t=t[d];if(t!=i.id)return null==e[t]&&(e[t]=[]),e[t].push(i.id),o.links.push(new this.FamLink(i.id,d)),c}n[d]=i}a.loopChildren(this,i.id,function(t,e,n){if(r[e.id])throw"Many to many relations should not exist at this stage";return c.push(e),u=new x.default(e.id,o.id,e.level),s.add(i.id,u.id,u),o.items.push(u),r[e.id]=!0,e.familyId=o.id,a.SKIP})}return c},a.prototype.recalcLevelsDepth=function(r,i,a,o){var s,l,u,c,d,h,f,p,m,g,T={};a.loopLevels(this,function(t,e){var n=new k.default;if(i[t]=n,f=[],a.loopLevelItems(this,t,function(t,e,n){var i=[],a=[],s=null;T.hasOwnProperty(t)||(T[t]=!0,e.hideChildrenConnection?s=t:i.push(t),o.loopChildren(this,t,function(t,e,n){return o.loopParents(this,t,function(t,e){return T.hasOwnProperty(t)||(T[t]=!0,e.hideChildrenConnection?s=t:i.push(t)),o.SKIP}),e.hideParentConnection?s=t:a.push(t),o.SKIP}),(1<i.length||0<a.length)&&(h=new v.default(i,a,s),r.push(h),1<i.length&&f.push(h)))}),0<f.length){for(g=Object(y.default)(),s=0,l=f.length;s<l;s+=1){for(h=f[s],m=p=null,u=0,c=h.fromItems.length;u<c;u+=1)d=a.getItemPosition(h.fromItems[u]),p=null!=p?Math.min(p,d):d,m=null!=m?Math.max(m,d):d;g.add(p,m,h)}n.parentsStackSize=g.resolve(this,function(t,e,n,i,a){n.fromOffset=i+1,n.fromStackSize=a})}})}},"./src/tasks/transformations/familyTransformations/FamilyBalanceItem.js":function(t,e,n){"use strict";function i(t,e,n){this.id=t,this.familyId=e,this.level=n,this.childIndex=0}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/transformations/familyTransformations/FamilyMatrixesExtractor.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/tasks/transformations/familyTransformations/BaseTransformer.js"),g=n("./src/models/FamilyItem.js"),T=n("./src/enums.js"),y=n("./src/connectors/MatrixConnectorBundle.js");function a(t){this.parent=i.default.prototype,this.parent.constructor.apply(this,arguments)}(a.prototype=new i.default).extract=function(c,d,h,f,p,m){return 0<d.hasNodes()&&c.enableMatrixLayout&&d.groupBy(this,Math.max(2,c.minimumMatrixSize),function(t,e,n,i){var a=m+=1,s=m+=1,r=d.node(n[0]),r=new g.default({id:a,level:r.level,isVisible:!1,isActive:!1,itemConfig:{title:"dummy #"+a,description:"This is item used as aggregator of matrixed nodes."},levelGravity:T.GroupByType.Parents,hideParentConnection:!0,hideChildrenConnection:!0});f[a]=s;for(var o=0,l=n.length;o<l;o+=1){var u=n[o];d.removeNode(u)}null!=t?(d.add([t],a,r),r.hideParentConnection=!1,p.push(new y.default(!0,n,a,a,this.getMatrixWidth(c.maximumColumnsInMatrix,n.length)))):d.add(null,a,r),null!=e&&(d.adopt([a],e),r.hideChildrenConnection=!1,p.push(new y.default(!1,n,a,s,this.getMatrixWidth(c.maximumColumnsInMatrix,n.length)))),h[a]=i}),m},a.prototype.getMatrixWidth=function(t,e){return Math.min(t,Math.ceil(Math.sqrt(e)))}},"./src/tasks/transformations/familyTransformations/FamilyNormalizer.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var i=n("./src/tasks/transformations/familyTransformations/BaseTransformer.js"),a=n("./src/models/FamilyItem.js"),r=n("./src/enums.js"),o=n("./src/common/index.js");function s(t){this.parent=i.default.prototype,this.parent.constructor.apply(this,arguments)}(s.prototype=new i.default).normalize=function(t,e,n){if(0<e.hasNodes()){if(e.loopLevels(this,t.groupByType==r.GroupByType.Parents,function(t,e,n){e.level=n}),e.optimizeReferences(function(){return n+=1,new a.default({id:n,isVisible:!1,isActive:!1,itemConfig:{title:"bundle #"+n,description:" This item was created by references optimizer."},levelGravity:r.GroupByType.Children})}),this.debug&&!e.validate())throw"References are broken in family structure!";if(this.debug&&e.hasLoops())throw"Structure has loops!";if(e.eliminateManyToMany(function(){return n+=1,new a.default({id:n,isVisible:!1,isActive:!1,itemConfig:{title:"dummy #"+n,description:"This is item used to eliminate M:M relations."},levelGravity:r.GroupByType.Children,hideParentConnection:!1,hideChildrenConnection:!1})}),this.debug&&!e.validate())throw"References are broken in family structure!";t.alignBylevels?this.resortItemsBylevels(e):e.loopLevels(this,t.groupByType==r.GroupByType.Parents,function(t,e,n){e.level=n}),this.debug&&this.validate(e,!1),this.fillInItems(e,function(t){return n+=1,new a.default({id:n,levelGravity:r.GroupByType.Children,isVisible:!1,isActive:!1,itemConfig:{title:"extension #"+n,description:"This is item used to fill gaps in levels."}})}),this.debug&&this.validate(e,!0)}return n},s.prototype.resortItemsBylevels=function(a){var t,e,n=[],i=null,s=null;for(a.loop(this,function(t,e){e.originalLevel=e.level,(e.level=null)!=e.originalLevel&&(n[e.originalLevel]||(n[e.originalLevel]={}),n[e.originalLevel][t]=e,i=null!=i?Math.min(e.originalLevel,i):e.originalLevel,s=null!=s?Math.max(e.originalLevel,s):e.originalLevel)}),t=i;t<=s;t+=1)e=n[t],this.setLevelsForItems(e,a);a.loopTopo(this,function(t,e,n){var i;e.levelGravity==r.GroupByType.Parents&&(i=null,a.loopParents(this,t,function(t,e,n){return i=null==i?e.level+1:Math.max(e.level+1,i),a.SKIP}),e.level=i||e.level)})},s.prototype.setLevelsForItems=function(t,i){var e,a,s,r=0;for(e in t)t.hasOwnProperty(e)&&i.loopParents(this,e,function(t,e,n){return r=Math.max(e.level+1,r),i.SKIP});for(e in t)t.hasOwnProperty(e)&&((a=t[e]).level=r);for(;!Object(o.isEmptyObject)(t);){for(e in s={},t)t.hasOwnProperty(e)&&(a=t[e],i.loopChildren(this,e,function(t,e,n){return null!=e.originalLevel&&!e.isLevelNeutral||(e.level=null==e.level?a.level+1:Math.max(e.level,a.level+1),s[t]=e),i.SKIP}));t=s}},s.prototype.fillInItems=function(r,n){var o;r.loop(this,function(t,i){for(var a,e=!0;e;)e=!1,a=[],r.loopParents(this,t,function(t,e,n){return i.level-1>e.level&&a.push(t),r.SKIP}),1<a.length&&((o=n(i)).level=i.level-1,o.hideParentConnection=!1,o.hideChildrenConnection=!1,r.bundleParents(t,a,o.id,o),e=!0,t=o.id,i=o)}),r.loop(this,function(t,i){for(var a,e=!0,s=!0;e;)e=!1,a=[],r.loopChildren(this,t,function(t,e,n){return i.level+1<e.level?a.push(t):s=!1,r.SKIP}),1<a.length&&((o=n(i)).level=i.level+1,s&&(o.hideParentConnection=!1,o.hideChildrenConnection=!1),r.bundleChildren(t,a,o.id,o),e=!0,t=o.id,i=o)}),r.loop(this,function(t,i){for(var a,e=!0;e;)e=!1,a=[],r.loopParents(this,t,function(t,e,n){return i.level-1>e.level&&a.push(t),r.SKIP}),0<a.length&&((o=n(i)).level=i.level-1,o.hideParentConnection=!1,o.hideChildrenConnection=!1,r.bundleParents(t,a,o.id,o),e=!0,t=o.id,i=o)})}},"./src/tasks/transformations/familyTransformations/UserDefinedNodesOrder.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var m=n("./src/algorithms/Tree.js"),g=n("./src/enums.js");function i(){}i.prototype.getUserDefinedPositions=function(t){for(var e=Object(m.default)(),n={},i=0,a=t.length;i<a;i+=1)null!=(r=t[i]).relativeItem&&(n[r.relativeItem]=!0),null!=r.id&&(n[r.id]=!0);for(i=0,a=t.length;i<a;i+=1){var s,r=t[i];n.hasOwnProperty(r.id)&&(s=r.relativeItem||null,e.add(s,r.id,r))}function l(t,e){this.position=t,this.items=e}var u={},c={},d={};e.loopPostOrder(this,function(t,e,n,i){var a,s=[],r=c[t],o=d[t];if(null!=r)for(r.sort(function(t,e){return e.position-t.position}),a=0;a<r.length;a+=1)s=s.concat(r[a].items);if(s.push(t),null!=o)for(o.sort(function(t,e){return t.position-e.position}),a=0;a<o.length;a+=1)s=s.concat(o[a].items);null!=n?e.placementType==g.AdviserPlacementType.Left?(c.hasOwnProperty(n)||(c[n]=[]),c[n].push(new l(e.position,s))):(d.hasOwnProperty(n)||(d[n]=[]),d[n].push(new l(e.position,s))):u[t]=s});var o,h={},f={};for(o in u)if(u.hasOwnProperty(o))for(t=u[o],i=0;i<t.length;i+=1){var p=t[i];h[p]=i,f[p]=o}return{position:h,group:f}}},"./src/tasks/transformations/familyTransformations/UserDefinedPrimaryParents.js":function(t,e,n){"use strict";function i(){}n.r(e),n.d(e,"default",function(){return i}),i.prototype.getUserDefinedPrimaryParents=function(t,n){var i,a={},e={};for(c=0,d=t.length;c<d;c+=1){var s=t[c];null!=s.primaryParent&&(e[s.id]=s.primaryParent)}for(i in e)for(var r=e[i],o={},l=[i];0<l.length;){for(var u=[],c=0,d=l.length;c<d;c+=1)i=l[c],n.loopParents(this,i,function(t,e){if(o[t]=i,t!=r)return 0==e.isVisible&&u.push(t),n.SKIP;for(;null!=o[t];)a[o[t]]=t,t=o[t];return u=[],n.BREAK});l=u}return a}},"./src/tasks/transformations/layouts/BaseLayout.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var o=n("./src/enums.js"),l=n("./src/graphics/structs/Size.js"),u=n("./src/graphics/structs/Rect.js");function i(t,e){if(this._children={},null!=this.params)for(var n in this.params)this.params.hasOwnProperty(n)&&t.hasOwnProperty(n)&&(this.params[n]=t[n]);if(null!=this.options){for(n in this.options)this.options.hasOwnProperty(n)&&e.hasOwnProperty(n)&&(this.options[n]=e[n]);this.options.shifts=this.getShifts(this.options),this.options.intervals=this.getIntervals(this.options)}}i.prototype.add=function(t,e){this._children[t]=e},i.prototype.getLayout=function(t){return this._children[t]||null},i.prototype.getShifts=function(t){var e=[];return e[o.Visibility.Normal]=t.normalLevelShift,e[o.Visibility.Dot]=t.dotLevelShift,e[o.Visibility.Line]=t.lineLevelShift,e[o.Visibility.Invisible]=t.lineLevelShift,e},i.prototype.getIntervals=function(t){var e=[];return e[o.Visibility.Normal]=t.normalItemsInterval,e[o.Visibility.Dot]=t.dotItemsInterval,e[o.Visibility.Line]=t.lineItemsInterval,e[o.Visibility.Invisible]=t.lineItemsInterval,e},i.prototype.getItemSize=function(t,e,n,i){var a,s,r;switch(t){case o.Visibility.Normal:a=n.template.templateConfig,s=new l.default(a.itemSize),r=new u.default(0,0,s.width,s.height),e&&(s.height+=a.cursorPadding.top+a.cursorPadding.bottom,s.width+=a.cursorPadding.left+a.cursorPadding.right,r.x=a.cursorPadding.left,r.y=a.cursorPadding.top),n.hasSelectorCheckbox&&(s.height+=i.checkBoxPanelSize),n.hasButtons&&(s.width+=i.buttonsPanelSize,i.groupTitlePlacementType===o.AdviserPlacementType.Right&&(r.x+=i.buttonsPanelSize)),n.hasGroupTitle&&(s.width+=i.groupTitlePanelSize,i.groupTitlePlacementType===o.AdviserPlacementType.Right||(r.x+=i.groupTitlePanelSize));break;case o.Visibility.Dot:a=n.template.templateConfig,s=new l.default(a.minimizedItemSize);break;case o.Visibility.Line:case o.Visibility.Invisible:s=new l.default}switch(i.orientationType){case o.OrientationType.Left:case o.OrientationType.Right:s.invert()}return{actualSize:s,contentPosition:r}}},"./src/tasks/transformations/layouts/FamilyLayout.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/tasks/transformations/layouts/BaseLayout.js"),o=n("./src/graphics/structs/Rect.js"),f=n("./src/enums.js"),u=n("./src/algorithms/FamilyAlignment.js"),s=n("./src/models/LevelVisibility.js"),l=n("./src/models/TreeLevelPosition.js"),h=n("./src/models/TreeItemPosition.js");function a(t,e){this.params={logicalFamily:null,treeLevels:null,getConnectorsStacksSizes:null,isItemSelected:null,cursorItemId:null,getTemplateParams:null},this.options={verticalAlignment:f.VerticalAlignmentType.Middle,pageFitMode:f.PageFitMode.None,minimalVisibility:f.Visibility.Dot,orientationType:f.OrientationType.Top,arrowsDirection:f.GroupByType.None,linesWidth:1,checkBoxPanelSize:24,buttonsPanelSize:32,groupTitlePanelSize:24,groupTitlePlacementType:f.AdviserPlacementType.Left,normalLevelShift:20,dotLevelShift:20,lineLevelShift:20,normalItemsInterval:10,dotItemsInterval:1,lineItemsInterval:2},this.data={treeItemsPositions:{},treeLevelsPositions:[]},this.parent=i.default.prototype,this.parent.constructor.apply(this,arguments)}(a.prototype=new i.default).measure=function(t){var e,n,i=new o.default(0,0,0,0),a={treeItemsPositions:{},treeLevelsPositions:[]};switch(this.options.orientationType){case f.OrientationType.Left:case f.OrientationType.Right:t.invert()}if(!this.params.treeLevels.isEmpty())switch(this.options.pageFitMode){case f.PageFitMode.None:case f.PageFitMode.PrintPreview:case f.PageFitMode.AutoSize:e=[new s.default(0,f.Visibility.Normal)],i=this.setTreeLevelsVisibilityAndPositionTreeItems(a,this.params,this.options,e,0);break;default:e=this.getLevelVisibilities(this.params.treeLevels,this.options.minimalVisibility),n=this.setTreeLevelsVisibilityAndPositionTreeItems(a,this.params,this.options,e,e.length-1),this.checkDiagramSize(n,t,this.options.pageFitMode)?(n.addRect(t),n.offset(0,0,5,5),this.findOptimalSize(this,e.length-1,function(t){return i=this.setTreeLevelsVisibilityAndPositionTreeItems(a,this.params,this.options,e,t),this.checkDiagramSize(i,n,this.options.pageFitMode)})):i=n}return this.data=a,i},a.prototype.getLevelVisibilities=function(t,e){var i=[new s.default(0,f.Visibility.Normal)],a=[];switch(e){case f.Visibility.Normal:break;case f.Visibility.Dot:a.push(f.Visibility.Dot);break;case f.Visibility.Auto:case f.Visibility.Line:case f.Visibility.Invisible:a.push(f.Visibility.Dot),a.push(f.Visibility.Line)}return t.loopLevelsReversed(this,function(t,e){for(var n=0;n<a.length;n+=1)i.push(new s.default(t,a[n]))}),i},a.prototype.findOptimalSize=function(t,e,n){var i,a=0;if(!n.call(t,a)){for(i=e;1<e-a;)i=Math.floor((e+a)/2),n.call(t,i)?e=i:a=i;e!==i&&n.call(t,e)}},a.prototype.setTreeLevelsVisibilityAndPositionTreeItems=function(i,t,e,n,a){var s,r;for(i.treeLevelsPositions=[],t.treeLevels.loopLevels(this,function(t,e){var n=new l.default;n.currentvisibility=f.Visibility.Normal,i.treeLevelsPositions.push(n)}),s=0;s<=a;s+=1)r=n[s],i.treeLevelsPositions[r.level].currentvisibility=r.currentvisibility;return i.treeItemsPositions={},this.recalcItemsSize(t.treeLevels,i.treeItemsPositions,i.treeLevelsPositions,t.isItemSelected,t.cursorItemId,t.getTemplateParams,e),this.setOffsets(t.treeLevels,i.treeItemsPositions,i.treeLevelsPositions,t.logicalFamily,e.intervals),this.recalcLevelsDepth(t.treeLevels,i.treeItemsPositions,i.treeLevelsPositions,e.verticalAlignment),this.shiftLevels(i.treeLevelsPositions,e.shifts[f.Visibility.Line],e.shifts,e.arrowsDirection,e.linesWidth,t.getConnectorsStacksSizes),this.getLayoutSize(t.treeLevels,i.treeItemsPositions,i.treeLevelsPositions)},a.prototype.checkDiagramSize=function(t,e,n){var i=!1;switch(n){case f.PageFitMode.PageWidth:e.width>=t.width&&(i=!0);break;case f.PageFitMode.PageHeight:e.height>=t.height&&(i=!0);break;case f.PageFitMode.FitToPage:e.height>=t.height&&e.width>=t.width&&(i=!0)}return i},a.prototype.getLayoutSize=function(t,e,n){return new o.default(0,0,Math.round(this.getLayoutWidth(t,e)),Math.round(this.getLayoutHeight(n)))},a.prototype.getLayoutWidth=function(i,a){var s=0;return i.loopLevels(this,function(t,e){var n=i.getLevelLength(t);0<n&&(n=i.getItemAtPosition(t,n-1),n=a[n],s=Math.max(s,n.offset+n.actualSize.width+n.rightPadding))}),s},a.prototype.getLayoutHeight=function(t){t=t[t.length-1];return t.shift+t.nextLevelShift},a.prototype.recalcItemsSize=function(n,o,i,l,u,c,d){n.loopLevels(this,function(t,e){var r=i[t];n.loopLevelItems(this,t,function(t,e,n){var i,a=new h.default,s=this.getLayout(t);null==s?(e=l(t)?f.Visibility.Normal:e.isVisible?f.Visibility.Auto:f.Visibility.Invisible,i=c(t),e=e===f.Visibility.Auto?r.currentvisibility:e,i=this.getItemSize(e,u==t,i,d),a.actualVisibility=e,a.actualSize=i.actualSize,a.contentPosition=i.contentPosition):(i=s.measure(r.currentvisibility),a.actualVisibility=f.Visibility.Invisible,a.actualSize=i),o[t]=a})})},a.prototype.recalcLevelsDepth=function(n,s,i,r){var o,l;n.loopLevels(this,function(t,e){var a=i[t];switch(a.shift=0,a.depth=0,a.actualVisibility=f.Visibility.Invisible,l=o=null,n.loopLevelItems(this,t,function(t,e,n){var i=s[t];switch(a.depth=Math.max(a.depth,i.actualSize.height),i.actualVisibility){case f.Visibility.Dot:case f.Visibility.Line:case f.Visibility.Invisible:l=l?Math.min(l,i.actualSize.height):i.actualSize.height;break;default:o=o?Math.min(o,i.actualSize.height):i.actualSize.height}a.actualVisibility=Math.min(a.actualVisibility,i.actualVisibility)}),null==o&&(o=a.depth),null!=l&&o<l&&(o=l),r){case f.VerticalAlignmentType.Top:a.horizontalConnectorsDepth=o/2;break;case f.VerticalAlignmentType.Middle:a.horizontalConnectorsDepth=a.depth/2;break;case f.VerticalAlignmentType.Bottom:a.horizontalConnectorsDepth=a.depth-o/2}})},a.prototype.shiftLevels=function(t,e,n,i,a,s){var r,o,l,u,c=0,d=0,h=8*a;switch(i){case f.GroupByType.Parents:c=h,d=0;break;case f.GroupByType.Children:c=0,d=h}for(r=0,o=t.length;r<o;r+=1)l=t[r],u=s(r),e+=l.setShift(e,n[l.actualVisibility],d,c,u.parentsStackSize)},a.prototype.setOffsets=function(i,a,t,e,s){for(var n=0,r=t.length;n<r;n+=1)t[n].currentOffset=0;var e=e.getPlanarFamily(i),o=new u.default(this,e,i,function(t,e){var n=a[t],t=s[n.actualVisibility]/2;return n.leftPadding=t,n.rightPadding=t,n.leftPadding+n.actualSize.width+n.rightPadding}),l=null;i.loopLevels(this,function(t,e){var n=i.getItemAtPosition(t,0);null!=n&&(t=a[n],t=o.getOffset(n)-t.leftPadding-t.actualSize.width/2,l=null==l?t:Math.min(l,t))}),i.loopLevels(this,function(t,e){i.loopLevelItems(this,t,function(t,e,n){var i=a[t],t=o.getOffset(t);i.offset=t-i.actualSize.width/2,i.offset-=l})})},a.prototype.arrange=function(r,o){var l=null;null!=o&&this.params.treeLevels.loopLevels(this,function(t,e){var s=this.data.treeLevelsPositions[t];this.params.treeLevels.loopLevelItems(this,t,function(t,e,n){var i=this.data.treeItemsPositions[t],a=this.getItemPosition(i.actualVisibility,i.offset,i.actualSize,l,s,this.options.verticalAlignment);i.actualPosition=a.position,i.horizontalConnectorsShift=a.horizontalConnectorsShift,i.topConnectorShift=a.topConnectorShift,i.topConnectorInterval=a.topConnectorInterval,i.bottomConnectorShift=a.bottomConnectorShift,i.bottomConnectorInterval=a.bottomConnectorInterval,o.call(r,t,i);t=this.getLayout(t);null!=t&&t.arrange(r,a.position,o)}),l=s})},a.prototype.getItemPosition=function(t,e,n,i,a,s){var r=0;switch(t){case f.Visibility.Normal:switch(s){case f.VerticalAlignmentType.Top:r=0;break;case f.VerticalAlignmentType.Middle:r=(a.depth-n.height)/2;break;case f.VerticalAlignmentType.Bottom:r=a.depth-n.height}break;case f.Visibility.Dot:case f.Visibility.Line:case f.Visibility.Invisible:r=a.horizontalConnectorsDepth-n.height/2}return{position:new o.default(e,a.shift+r,n.width,n.height),horizontalConnectorsShift:a.shift+a.horizontalConnectorsDepth,topConnectorShift:null!=i?i.shift+i.connectorShift:null,topConnectorInterval:null!=i?i.levelSpace/2:null,bottomConnectorShift:a.shift+a.connectorShift,bottomConnectorInterval:a.levelSpace/2}}},"./src/tasks/transformations/layouts/MatrixLayout.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/tasks/transformations/layouts/BaseLayout.js"),r=n("./src/graphics/structs/Rect.js"),d=n("./src/enums.js"),c=n("./src/models/TreeItemPosition.js");function a(t,e){this.params={items:[],isItemSelected:null,cursorItemId:null,getTemplateParams:null,hideParentConnection:!1,hideChildrenConnection:!1},this.options={verticalAlignment:d.VerticalAlignmentType.Middle,orientationType:d.OrientationType.Top,arrowsDirection:d.GroupByType.None,linesWidth:1,checkBoxPanelSize:24,buttonsPanelSize:32,groupTitlePanelSize:24,groupTitlePlacementType:d.AdviserPlacementType.Left,normalLevelShift:20,dotLevelShift:20,lineLevelShift:20,normalItemsInterval:10,dotItemsInterval:1,lineItemsInterval:2,maximumColumnsInMatrix:6},this.data={treeItemsPositions:{},columns:[],rows:[]},this.parent=i.default.prototype,this.parent.constructor.apply(this,arguments)}(a.prototype=new i.default).Column=function(){this.depth=0,this.offset=0,this.leftPadding=0,this.rightPadding=0},a.prototype.Row=function(){this.depth=0,this.offset=0,this.horizontalConnectorsDepth=0,this.minimalDepth=null,this.dotsDepth=null},a.prototype.getMatrixWidth=function(t,e){return Math.min(t,Math.ceil(Math.sqrt(e)))},a.prototype.measure=function(t){var e={treeItemsPositions:{},columns:[],rows:[]};return this.measureItems(e,this.params,this.options,t),this.measureColumns(e,this.params,this.options),this.measureRows(e,this.params,this.options),this.data=e,this.getLayoutSize(e)},a.prototype.measureItems=function(t,e,n,i){for(var a=0,s=e.items.length;a<s;a+=1){var r=e.items[a],o=r.id,l=new c.default,u=e.isItemSelected(o)?d.Visibility.Normal:r.isVisible?d.Visibility.Auto:d.Visibility.Invisible,r=e.getTemplateParams(o),u=u===d.Visibility.Auto?i:u,r=this.getItemSize(u,e.cursorItemId==o,r,n);l.actualVisibility=u,l.actualSize=r.actualSize,l.contentPosition=r.contentPosition,t.treeItemsPositions[o]=l}},a.prototype.measureColumns=function(t,e,n){for(var i=this.getMatrixWidth(n.maximumColumnsInMatrix,e.items.length),a=0,s=e.items.length;a<s;a+=1){var r=e.items[a].id,o=t.treeItemsPositions[r],r=n.intervals[o.actualVisibility]/2;o.leftPadding=r,o.rightPadding=r;var l,r=a%i;null==(l=t.columns[r])&&(l=new this.Column,t.columns[r]=l);o=o.leftPadding+o.actualSize.width+o.rightPadding;l.depth=Math.max(l.depth,o)}var u=8*n.linesWidth,c=0;for(a=0,s=t.columns.length;a<s;a+=1){if(l=t.columns[a],a%2==0)switch(n.arrowsDirection){case d.GroupByType.Parents:l.leftPadding=e.hideChildrenConnection?0:u,l.rightPadding=0;break;case d.GroupByType.Children:l.leftPadding=0,l.rightPadding=e.hideParentConnection?0:u}else switch(n.arrowsDirection){case d.GroupByType.Parents:l.leftPadding=0,l.rightPadding=e.hideChildrenConnection?0:u;break;case d.GroupByType.Children:l.leftPadding=e.hideParentConnection?0:u,l.rightPadding=0}l.offset=c+l.leftPadding+l.depth/2,c=l.offset+l.depth/2+l.rightPadding}},a.prototype.measureRows=function(t,e,n){for(var i=this.getMatrixWidth(n.maximumColumnsInMatrix,e.items.length),a=0,s=e.items.length;a<s;a+=1){var r,o=e.items[a].id,l=t.treeItemsPositions[o],u=Math.floor(a/i),o=n.shifts[l.actualVisibility]/2;switch(null==(r=t.rows[u])&&(r=new this.Row,t.rows[u]=r),r.depth=Math.max(r.depth,o+l.actualSize.height+o),l.actualVisibility){case d.Visibility.Dot:case d.Visibility.Line:case d.Visibility.Invisible:r.dotsDepth=r.dotsDepth?Math.min(r.dotsDepth,l.actualSize.height):l.actualSize.height;break;default:r.minimalDepth=r.minimalDepth?Math.min(r.minimalDepth,l.actualSize.height):l.actualSize.height}}var c=0;for(a=0,s=t.rows.length;a<s;a+=1)switch((r=t.rows[a]).offset=c+r.depth/2,c=r.offset+r.depth/2,null==r.minimalDepth&&(r.minimalDepth=r.depth),null!=r.dotsDepth&&r.dotsDepth>r.minimalDepth&&(r.minimalDepth=r.dotsDepth),n.verticalAlignment){case d.VerticalAlignmentType.Top:r.horizontalConnectorsDepth=r.minimalDepth/2;break;case d.VerticalAlignmentType.Middle:r.horizontalConnectorsDepth=r.depth/2;break;case d.VerticalAlignmentType.Bottom:r.horizontalConnectorsDepth=r.depth-r.minimalDepth/2}},a.prototype.getLayoutSize=function(t){return new r.default(0,0,Math.round(this.getLayoutWidth(t)),Math.round(this.getLayoutHeight(t)))},a.prototype.getLayoutWidth=function(t){var e=0,n=t.columns.length;return 0<n&&(e=(n=t.columns[n-1]).offset+n.depth/2+n.rightPadding),e},a.prototype.getLayoutHeight=function(t){var e=0,n=t.rows.length;return 0<n&&(e=(n=t.rows[n-1]).offset+n.depth/2),e},a.prototype.arrange=function(t,e,n){if(null!=n)for(var i=this.getMatrixWidth(this.options.maximumColumnsInMatrix,this.params.items.length),a=0,s=this.params.items.length;a<s;a+=1){var r=this.params.items[a].id,o=a%i,l=this.data.columns[o],u=Math.floor(a/i),c=this.data.rows[u],o=this.data.treeItemsPositions[r],u=this.getItemPosition(o.actualVisibility,l,c,o.actualSize,this.options);u.translate(e.x,e.y),o.actualPosition=u,o.horizontalConnectorsShift=e.y+c.offset-c.depth/2+c.horizontalConnectorsDepth,o.leftMedianOffset=l.depth/2+l.leftPadding,o.rightMedianOffset=l.depth/2+l.rightPadding,o.topConnectorShift=c.depth/2,o.bottomConnectorShift=c.depth/2,n.call(t,r,o)}},a.prototype.getItemPosition=function(t,e,n,i,a){var s=0;switch(t){case d.Visibility.Normal:switch(a.verticalAlignment){case d.VerticalAlignmentType.Top:s=0;break;case d.VerticalAlignmentType.Middle:s=(n.depth-i.height)/2;break;case d.VerticalAlignmentType.Bottom:s=n.depth-i.height}break;case d.Visibility.Dot:case d.Visibility.Line:case d.Visibility.Invisible:s=n.horizontalConnectorsDepth-i.height/2}return new r.default(e.offset-i.width/2,n.offset-n.depth/2+s,i.width,i.height)}},"./src/tasks/transformations/selection/CombinedNormalVisibilityItemsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var g=n("./src/readers/ArrayReader.js"),T=n("./src/readers/ValueReader.js"),y=n("./src/enums.js");function i(n,t,e,i,a,s,r,o,l,u,c,d){var h={items:[]},f={},p=[t,e,i,a,s,r,o,l,u,c,d],m=new g.default(new T.default(["string","number"],!0),!0);return{process:function(){var t={isChanged:!1,hash:f},e=n.getOptions();return h.items=m.read(h.items,function(t){var e,n,i,a,s,r,o,l=[],u={};for(e=0,n=t.length;e<n;e+=1)for(i=t[e],r=i.getItems(),a=0,s=r.length;a<s;a+=1)o=r[a],u.hasOwnProperty(o)||(l.push(o),u[o]=!0);return l}(p),"items",t),e.pageFitMode!=y.PageFitMode.None&&e.minimalVisibility!=y.Visibility.Normal||(t.isChanged=!1),t.isChanged},isItemSelected:function(t){return f.items.hasOwnProperty(t)}}}},"./src/tasks/transformations/selection/CursorItemTask.js":function(t,e,n){"use strict";function i(n,i){var a={cursorTreeItemId:null};return{process:function(){var t=n.getCursorItem(),e=null!=i?i.getActiveItems():{};return a.cursorTreeItemId=null!=t&&e.hasOwnProperty(t)?t:null,!0},getCursorTreeItem:function(){return a.cursorTreeItemId},getItems:function(){return null!=a.cursorTreeItemId?[a.cursorTreeItemId]:[]}}}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/transformations/selection/DummyCombinedNormalVisibilityItemsTask.js":function(t,e,n){"use strict";function i(t){return{process:function(){return!0},isItemSelected:function(t){return!1}}}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/transformations/selection/FamCursorNeighboursTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var i=n("./src/readers/ArrayReader.js"),a=n("./src/readers/ValueReader.js"),h=n("./src/enums.js");function s(s,r,o,l){var u={items:[]},c={},d=new i.default(new a.default(["string","number"],!0),!0);return{process:function(){var t={isChanged:!1,hash:c},e=s.getCursorTreeItem(),n=o.getLogicalFamily(),i=r.getNeighboursSelectionMode(),a=l.getActiveItems();return u.items=d.read(u.items,function(t,e,n,i){var a=[],s={};if(null!==t)switch(e){case h.NeighboursSelectionMode.ParentsAndChildren:n.loopParents(this,t,function(t,e){if(e.isVisible&&!s.hasOwnProperty(t)&&(s[t]=!0,a.push(t)),i.hasOwnProperty(t))return n.SKIP}),n.loopChildren(this,t,function(t,e){if(e.isVisible&&!s.hasOwnProperty(t)&&(s[t]=!0,a.push(t)),i.hasOwnProperty(t))return n.SKIP});break;case h.NeighboursSelectionMode.ParentsChildrenSiblingsAndSpouses:n.loopNeighbours(this,t,function(t,e){if(e.isVisible&&!s.hasOwnProperty(t)&&(s[t]=!0,a.push(t)),i.hasOwnProperty(t))return!0})}return a}(e,i,n,a),"items",t),t.isChanged},getItems:function(){return u.items}}}},"./src/tasks/transformations/selection/FamSelectionPathItemsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var u=n("./src/enums.js");function i(a,s,r,o){var l={items:[]};return{process:function(){var t=o.getSelectionPathMode(),e=a.getLogicalFamily(),n=s.getCursorTreeItem(),i=r.getItems().slice(0);return i.push(n),l.items=function(t,n,e){var i,a,s,r=[],o={};for(a=0,s=t.length;a<s;a+=1)switch(i=t[a],e){case u.SelectionPathMode.None:break;case u.SelectionPathMode.FullStack:n.loopParents(this,i,function(t,e){return null!=o[t]?n.SKIP:(e.isVisible&&r.push(t),void(o[t]=!0))})}return r}(i,e,t),!0},getItems:function(){return l.items}}}},"./src/tasks/transformations/selection/HighlightItemTask.js":function(t,e,n){"use strict";function i(n,i){var a={highlightTreeItemId:null};return{process:function(){var t=n.getHighlightItem(),e=null!=i?i.getActiveItems():{};return a.highlightTreeItemId=null!=t&&e.hasOwnProperty(t)?t:null,!0},getHighlightTreeItem:function(){return a.highlightTreeItemId}}}n.r(e),n.d(e,"default",function(){return i})},"./src/tasks/transformations/selection/NormalVisibilityItemsByAnnotationTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ArrayReader.js"),o=n("./src/readers/ValueReader.js");function i(n){var i={items:[]},a={},s=new r.default(new o.default(["string","number"],!0),!0);return{process:function(){var t={isChanged:!1,hash:a},e=n.getAnnotations();return i.items=s.read(i.items,function(t){var e,n,i,a,s,r,o,l=[],u={};for(e=0,n=t.length;e<n;e+=1)if((r=t[e]).selectItems)for(s=r.items,i=0,a=s.length;i<a;i+=1)null==(o=s[i])||u.hasOwnProperty(o)||(l.push(o),u[o]=!0);return l}(e),"items",t),t.isChanged},getItems:function(){return i.items}}}},"./src/tasks/transformations/selection/NormalVisibilityItemsByConnectorAnnotationTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/readers/ArrayReader.js"),o=n("./src/readers/ValueReader.js");function i(n){var i={items:[]},a={},s=new r.default(new o.default(["string","number"],!0),!0);return{process:function(){var t={isChanged:!1,hash:a},e=n.getAnnotations();return i.items=s.read(i.items,function(t){var e,n,i,a=[],s={};for(e=0,n=t.length;e<n;e+=1)(i=t[e]).selectItems&&(null==i.fromItem||s.hasOwnProperty(i.fromItem)||(a.push(i.fromItem),s[i.fromItem]=!0),null==i.toItem||s.hasOwnProperty(i.toItem)||(a.push(i.toItem),s[i.toItem]=!0));return a}(e),"items",t),t.isChanged},getItems:function(){return i.items}}}},"./src/tasks/transformations/selection/OrgCursorNeighboursTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var s=n("./src/enums.js");function i(n,i){var a={items:[]};return{process:function(){var t=i.getLogicalFamily(),e=n.getCursorTreeItem();return a.items=function(t,e){var i=[];null!==t&&e.loopNeighbours(this,t,function(t,e,n){return e.visibility===s.Visibility.Auto&&i.push(t),!0});return i}(e,t),!0},getItems:function(){return a.items}}}},"./src/tasks/transformations/selection/OrgSelectionPathItemsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var u=n("./src/enums.js");function i(a,s,r,o){var l={items:[]};return{process:function(){var t=o.getSelectionPathMode(),e=a.getLogicalFamily(),n=s.getCursorTreeItem(),i=r.getItems().slice(0);return i.push(n),l.items=function(t,n,e){var i,a,s,r=[],o={};for(a=0,s=t.length;a<s;a+=1)switch(i=t[a],e){case u.SelectionPathMode.None:break;case u.SelectionPathMode.FullStack:n.loopParents(this,i,function(t,e){return null!=o[t]?n.SKIP:(e.visibility!=u.Visibility.Invisible&&r.push(t),void(o[t]=!0))})}return r}(i,e,t),!0},getItems:function(){return l.items}}}},"./src/tasks/transformations/selection/SelectedItemsTask.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var o=n("./src/readers/ArrayReader.js"),l=n("./src/readers/ValueReader.js");function i(n,r){var i={items:[]},a={},s=new o.default(new l.default(["string","number"],!0),!0);return{process:function(){var t={isChanged:!1,hash:a},e=n.getSelectedItems();return i.items=s.read(i.items,function(t){var e,n,i,a=[],s={};for(e=0,n=t.length;e<n;e+=1)null==(i=t[e])||s.hasOwnProperty(i)||(s[i]=!0,null!=r.getConfig(i)&&a.push(i));return a}(e),"items",t),t.isChanged},getItems:function(){return i.items},isSelected:function(t){return a.items.hasOwnProperty(t)}}}},"./src/templates/html/AnnotationLabelTemplate.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/common/jsonml-html.js");function a(){var t=["div",{type:"checkbox",name:"checkbox",class:["bp-item","bp-corner-all","bp-connector-label"]}];return{template:function(){return t},getHashCode:function(){return"defaultAnnotationLabelTemplate"},render:function(t,e){var n=e.context;Array.isArray(n.label)?(e.element.innerHTML="",e.element.appendChild(i.default.toHTML(n.label))):e.element.innerHTML=n.label}}}},"./src/templates/html/ButtonsTemplate.js":function(t,e,n){"use strict";function i(t){var e=["div",{style:{position:"absolute"}}];return{template:function(){return e},getHashCode:function(){return"defaultButtonsTemplate"},render:function(t,e){var n=e.onButtonsRender;null!=n&&n(e)}}}n.r(e),n.d(e,"default",function(){return i})},"./src/templates/html/CheckBoxTemplate.js":function(t,e,n){"use strict";function i(t){var e=["div",["label",["nobr",["input",{type:"checkbox",name:"checkbox",class:"bp-selectioncheckbox"}],"",["span",{name:"selectiontext",class:"bp-selectiontext"},t]]]];return{template:function(){return e},getHashCode:function(){return"defaultCheckBoxTemplate"},render:function(t,e){var n=e.element.firstChild.firstChild.firstChild;n.checked=e.isSelected,n.setAttribute("data-id",e.id),e.element.firstChild.firstChild.childNodes[2].setAttribute("data-id",e.id)}}}n.r(e),n.d(e,"default",function(){return i})},"./src/templates/html/CursorTemplate.js":function(t,e,n){"use strict";function i(t,e){var n,i=["div",{style:{width:(n=e).itemSize.width+n.cursorPadding.left+n.cursorPadding.right+"px",height:n.itemSize.height+n.cursorPadding.top+n.cursorPadding.bottom+"px",borderWidth:n.cursorBorderWidth+"px"},class:["bp-item","bp-corner-all","bp-cursor-frame"]}];return{template:function(){return i},getHashCode:function(){return"defaultCursorTemplate"},render:function(t,e){}}}n.r(e),n.d(e,"default",function(){return i})},"./src/templates/html/DotHighlightTemplate.js":function(t,e,n){"use strict";function i(t,e){var n=function(t){var e=t.minimizedItemCornerRadius;null==e&&(e=Math.max(t.highlightPadding.left+t.minimizedItemSize.width+t.highlightPadding.right,t.highlightPadding.top+t.minimizedItemSize.height+t.highlightPadding.bottom)+t.highlightBorderWidth);return["div",{style:{borderWidth:t.highlightBorderWidth+"px",MozBorderRadius:e+"px",WebkitBorderRadius:e+"px","-khtml-border-radius":e+"px",borderRadius:e+"px"},class:["bp-item","bp-highlight-dot-frame"]}]}(e);return{template:function(){return n},getHashCode:function(){return"defaultDotHighlightTemplate"},render:function(t,e){}}}n.r(e),n.d(e,"default",function(){return i})},"./src/templates/html/GroupTitleTemplate.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var f=n("./src/enums.js"),p=n("./src/common/jsonml-html.js"),m=n("./src/common/colors.js"),g=n("./src/templates/html/RotatedText.js");function i(t){var e=t.groupTitleFontSize,n=t.groupTitleFontFamily,i=t.groupTitleFontWeight,a=t.groupTitleFontStyle,l=t.groupTitleColor,u=t.itemTitleFirstFontColor,c=t.itemTitleSecondFontColor,d=t.groupTitleOrientation,s=t.groupTitleHorizontalAlignment,h=t.groupTitleVerticalAlignment,r=["div",{style:{fontSize:e,fontFamily:n,fontWeight:i,fontStyle:a},class:["bp-item","bp-corner-all","bp-grouptitle-frame"]},Object(g.getRotatedText)({orientation:f.OrientationType.Horizontal,textOrientation:d,horizontalAlignment:s,verticalAlignment:h,fontSize:e,fontFamily:n,fontWeight:i,fontStyle:a})];return{template:function(){return r},getHashCode:function(){return"defaultGroupTitleTemplate"},render:function(t,e){var n=e.element,i=e.context,a=e.width,s=e.height,r=i.groupTitle,o=i.groupTitleColor||l,i=Object(m.highestContrast)(o,c,u);Object(g.updateRotatedText)({element:n,orientation:f.OrientationType.Horizontal,textOrientation:d,verticalAlignment:h,width:a,height:s,label:r,fontColor:i}),p.default.applyStyles(e.element,{backgroundColor:o})}}}},"./src/templates/html/HighlightTemplate.js":function(t,e,n){"use strict";function i(t,e){var n=["div",{style:{borderWidth:e.highlightBorderWidth+"px"},class:["bp-item","bp-corner-all","bp-highlight-frame"]}];return{template:function(){return n},getHashCode:function(){return"defaultHighlightTemplate"},render:function(t,e){}}}n.r(e),n.d(e,"default",function(){return i})},"./src/templates/html/ItemTemplate.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var u=n("./src/common/colors.js"),c=n("./src/enums.js"),d=n("./src/common/jsonml-html.js"),a=n("./src/graphics/structs/Size.js");function i(l,t){var e,n,i=(e=t,(n=new a.default(e.itemSize)).width-=2*e.itemBorderWidth,n.height-=2*e.itemBorderWidth,["div",{style:{borderWidth:e.itemBorderWidth+"px"},class:["bp-item","bp-corner-all","bt-item-frame"]},["div",{name:"titleBackground",style:{top:"2px",left:"2px",width:n.width-4+"px",height:"18px"},class:["bp-item","bp-corner-all","bp-title-frame"]},["div",{name:"title",style:{top:"1px",left:"4px",width:n.width-4-8+"px",height:"16px"},class:["bp-item","bp-title"]}]],["div",{name:"photoBorder",style:{top:"24px",left:"2px",width:"50px",height:"60px"},class:["bp-item","bp-photo-frame"]},["img",{name:"photo",alt:"",style:{width:"50px",height:"60px"}}]],["div",{name:"description",style:{top:"24px",left:"56px",width:n.width-4-56+"px",height:"74px"},class:["bp-item","bp-description"]}]]);return{template:function(){return i},getHashCode:function(){return"defaultItemTemplate"},render:function(t,e){var n=e.context,i=null!=n.itemTitleColor?n.itemTitleColor:c.Colors.RoyalBlue,a=Object(u.highestContrast)(i,l.itemTitleSecondFontColor,l.itemTitleFirstFontColor),s=(o=e.element).firstChild,r=o.childNodes[1].firstChild,e=s.firstChild,o=o.childNodes[2];d.default.applyStyles(s,{backgroundColor:i}),r.src=n.image,r.alt=n.title,d.default.applyStyles(e,{color:a}),e.textContent=n.title,o.textContent=n.description}}}},"./src/templates/html/LabelAnnotationTemplate.js":function(t,e,n){"use strict";function i(){var t=["div",{class:["bp-item","bp-label-annotation"]}];return{template:function(){return t},getHashCode:function(){return"defaultLabelAnnotationTemplate"},render:function(t,e){var n=e.context;e.element.innerHTML=n.title}}}n.r(e),n.d(e,"default",function(){return i})},"./src/templates/html/LevelBackgroundTemplate.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return s});var i=n("./src/common/jsonml-html.js"),a=n("./src/graphics/EnumValues.js");function s(t,e){var n=["div"];return{template:function(){return n},getHashCode:function(){return"levelAnnotationBackgroundTemplate"},render:function(t,e){var n={opacity:(n=e.context).opacity,borderColor:n.borderColor,backgroundColor:n.fillColor,borderWidth:n.lineWidth.toString(),borderStyle:Object(a.getBorderStyle)(n.lineType)},e=e.element;i.default.applyStyles(e,n)}}}},"./src/templates/html/LevelTitleTemplate.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var f=n("./src/common/index.js"),p=n("./src/templates/html/RotatedText.js"),m=n("./src/common/jsonml-html.js");function i(t,l){var e=t.levelTitleFontSize,n=t.levelTitleFontFamily,i=t.levelTitleFontWeight,a=t.levelTitleFontStyle,u=t.levelTitleFontColor,c=t.levelTitleOrientation,s=t.levelTitleHorizontalAlignment,r=t.levelTitleVerticalAlignment,d=t.levelTitleColor,o=["div",{style:{fontSize:e,fontFamily:n,fontWeight:i,fontStyle:a},class:["bp-item","bp-corner-all"]},Object(p.getRotatedText)({orientation:l,textOrientation:c,horizontalAlignment:s,verticalAlignment:r,fontSize:e,fontFamily:n,fontWeight:i,fontStyle:a})],h=Object(f.getHashCode)(JSON.stringify(o));return{template:function(){return o},getHashCode:function(){return h},render:function(t,e){var n=e.context,i=e.element,a=e.width,s=e.height,r=n.titleColor||d,o=n.title,n=n.titleFontColor||u;Object(p.updateRotatedText)({element:i,orientation:l,textOrientation:c,width:a,height:s,label:o,fontColor:n}),m.default.applyStyles(e.element,{backgroundColor:r})}}}},"./src/templates/html/RotatedText.js":function(t,e,n){"use strict";n.r(e),n.d(e,"getRotatedText",function(){return i}),n.d(e,"updateRotatedText",function(){return a});var d=n("./src/enums.js"),h=n("./src/common/jsonml-html.js"),f=n("./src/graphics/structs/Rect.js"),c=n("./src/graphics/EnumValues.js");function i(t){var e=t.orientation,n=t.textOrientation,i=t.horizontalAlignment,a=t.verticalAlignment,s=t.fontSize,r=t.fontFamily,o=t.fontWeight,l=t.fontStyle,t=t.label,u="";switch(n){case d.TextOrientationType.Horizontal:break;case d.TextOrientationType.RotateLeft:u="rotate(-90deg)";break;case d.TextOrientationType.RotateRight:u="rotate(90deg)";break;case d.TextOrientationType.Auto:switch(e){case d.OrientationType.Top:case d.OrientationType.Bottom:u="rotate(90deg)";break;case d.OrientationType.Left:case d.OrientationType.Right:}}i={fontSize:s,fontFamily:r,fontWeight:o,fontStyle:l,position:"absolute",padding:0,margin:0,textAlign:Object(c.getTextAlign)(i),lineHeight:1,"-webkit-transform-origin":"center center","-moz-transform-origin":"center center","-o-transform-origin":"center center","-ms-transform-origin":"center center","-webkit-transform":u,"-moz-transform":u,"-o-transform":u,"-ms-transform":u,transform:u,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",tableLayout:"fixed"};return a===d.VerticalAlignmentType.Top?["div",{style:i},t]:(i.borderCollapse="collapse",["table",{style:i},["tbody",["tr",["td",{style:{verticalAlign:Object(c.getVerticalAlignment)(a),padding:0,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},t]]]])}function a(t){var e=t.element,n=t.orientation,i=t.textOrientation,a=t.verticalAlignment,s=t.width,r=t.height,o=t.label,l=t.fontColor,t={},u=!1;switch(i){case d.TextOrientationType.RotateLeft:case d.TextOrientationType.RotateRight:u=!0;break;case d.TextOrientationType.Auto:switch(n){case d.OrientationType.Top:case d.OrientationType.Bottom:u=!0}}(t=(u?new f.default(Math.round(s/2-r/2),Math.round(r/2-s/2),r,s):new f.default(0,0,s,r)).getCSS()).maxWidth=t.width,t.maxHeight=t.height;var c,r=e.firstChild;h.default.applyStyles(r,t),a===d.VerticalAlignmentType.Top?c=e.firstChild:(c=e.firstChild.firstChild.firstChild.firstChild).style.borderCollapse="collapse",c.style.color=l,c.textContent=o||""}},"./src/templates/html/UserTemplate.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return a});var i=n("./src/common/index.js"),o=n("./src/common/colors.js"),l=n("./src/graphics/dom.js"),u=n("./src/common/jsonml-html.js"),c=n("./src/enums.js");function a(s,t,r){var e=Object(i.getHashCode)(JSON.stringify(t));return{template:function(){return t},getHashCode:function(){return e},render:function(t,e){var n,i,a;null!=r?r(t,e):(n=e.context,i=null!=n.itemTitleColor?n.itemTitleColor:c.Colors.RoyalBlue,a=Object(o.highestContrast)(i,s.itemTitleSecondFontColor,s.itemTitleFirstFontColor),Object(l.getElementsByName)(this,e.element,"photo",function(t){t.src=n.image,t.alt=n.title}),Object(l.getElementsByName)(this,e.element,"titleBackground",function(t){u.default.applyStyles(t,{background:i})}),Object(l.getElementsByName)(this,e.element,"title",function(t){u.default.applyStyles(t,{color:a}),t.textContent=n.title}),Object(l.getElementsByName)(this,e.element,"description",function(t){t.textContent=n.description}))}}}},"./src/templates/pdf/AnnotationLabelTemplate.js":function(t,e,n){"use strict";function i(){return{template:function(){return{}},getHashCode:function(){return 0},render:function(t,e,n){n=n.context,t.save(),t.font("Helvetica",12).text(n.label,e.x,e.y,{width:e.width,height:e.height,align:"center"}),t.restore()}}}n.r(e),n.d(e,"default",function(){return i})},"./src/templates/pdf/CheckBoxTemplate.js":function(t,e,n){"use strict";function i(i){return{template:function(){return{}},getHashCode:function(){return 0},render:function(t,e,n){n=n.isSelected?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAF/SURBVDhPpZM7rwFREMf/u4hEY5vVkigoSERiKwq1QqOh28R30QnFRqnSKHwFn0C37Sbi0SCE2KzE41wzd/feG48g91ftmdn5zznzkLLZrNhutzidTvgEv98PRVEgxeNx0e12EYvFcDweXfdjZFmGEIKDx+MxdF0HotGomEwmV/tnUAzFyqT8KrNHLpdDJpPBZrPh81UHLPAO7XYb6/Ua8/kcpmnC5/NBkqT3BJbLJRqNBgKBACqVCgqFAg6HA/veEiiVSlBVFZfLBZ1Ox7V+81KAMtPVV6sV+v2+a/2FBeg9RDqdhqZp/E1Mp1O0Wi32V6tVLuAtLEBvGw6HmM1m2O/3yOfz7CyXy4hEItz3ZrPJtr/8dIEKUiwWYRgGX3e32yGZTOJ8PnMBB4MBB9xy14VarcaZFosFQqEQHMdBvV5HIpFw/3gATZNlWTxdHr1eT4TDYZFKpVzLPRRDsU9HeTQaCdu23dM91wKzwNNlCgaDXINHW0pF95bpn+us4AsY2TIOZFyZ9AAAAABJRU5ErkJggg==":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAACjSURBVDhPrZNNCsQgDEY/f2q33sCCN+iNPJlXE2/gTtDiVBln1TJo+zZBJS+YELLvewkhIOeMETjnkFKCaK2LtRbbtiGl9H2+hlKKUkpLds7BGAMopYr3/rwfo+bUXFrN/yrfcXrQBDMwxkAImRfEGFucFnTeEdT/zNIEy7K0wyi/KfSGjPJoCp13BDM9EEK0eLtM67riOI7LLa0F+zI9XGeJDyTldfBA9FNyAAAAAElFTkSuQmCC",t.save(),t.image(n,e.x,e.y),t.font("Helvetica",11).text(i,e.x+20,e.y+4,{ellipsis:!0,width:e.width-4,height:e.height,align:"left"}),t.restore()}}}n.r(e),n.d(e,"default",function(){return i})},"./src/templates/pdf/CursorTemplate.js":function(t,e,n){"use strict";function i(t,e){var i=e;return{template:function(){return{}},getHashCode:function(){return 0},render:function(t,e,n){t.save(),t.roundedRect(e.x,e.y,e.width,e.height,4).lineWidth(i.cursorBorderWidth).stroke("#fbd850"),t.restore()}}}n.r(e),n.d(e,"default",function(){return i})},"./src/templates/pdf/DummyTemplate.js":function(t,e,n){"use strict";function i(){return{template:function(){return{}},getHashCode:function(){return 0},render:function(){}}}n.r(e),n.d(e,"default",function(){return i})},"./src/templates/pdf/GroupTitleTemplate.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var f=n("./src/common/colors.js"),p=n("./src/templates/pdf/RotatedText.js");function i(t){var r=t.groupTitleFontSize,o=(t.groupTitleFontFamily,t.groupTitleFontWeight,t.groupTitleFontStyle,t.groupTitleOrientation),l=t.groupTitleHorizontalAlignment,u=t.groupTitleVerticalAlignment,c=t.groupTitleColor,d=t.itemTitleFirstFontColor,h=t.itemTitleSecondFontColor;return{template:function(){return{}},getHashCode:function(){return 0},render:function(t,e,n){var i=(s=n.context).groupTitleColor||c,a=Object(f.highestContrast)(i,h,d),n=s.groupTitle,s=parseInt(r,10);Object(p.renderRotatedText)({doc:t,textOrientation:o,label:n,fontSize:s,fontColor:a,position:e,titleColor:i,horizontalAlignment:l,verticalAlignment:u})}}}},"./src/templates/pdf/HighlightTemplate.js":function(t,e,n){"use strict";function i(t,e){var i=e;return{template:function(){return{}},getHashCode:function(){return 0},render:function(t,e,n){t.save(),t.roundedRect(e.x,e.y,e.width,e.height,4).lineWidth(i.highlightBorderWidth).stroke("#fbcb09"),t.restore()}}}n.r(e),n.d(e,"default",function(){return i})},"./src/templates/pdf/ItemTemplate.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var l=n("./src/common/colors.js"),u=n("./src/enums.js"),c=n("./src/graphics/structs/Size.js");function i(r,t){var o=t;return{template:function(){return{}},getHashCode:function(){return 0},render:function(t,e,n){var i=n.context,a=null!=i.itemTitleColor?i.itemTitleColor:u.Colors.RoyalBlue,s=Object(l.highestContrast)(a,r.itemTitleSecondFontColor,r.itemTitleFirstFontColor);(n=new c.default(o.itemSize)).width-=2*o.itemBorderWidth,n.height-=2*o.itemBorderWidth,t.save(),t.roundedRect(e.x,e.y,e.width,e.height,4).lineWidth(o.itemBorderWidth).stroke("#dddddd"),t.fillColor(a).roundedRect(e.x+2,e.y+2,n.width-4,18,2).fill(),t.fillColor(s).font("Helvetica",12).text(i.title,e.x+4,e.y+7,{ellipsis:!0,width:n.width-4-8,height:16,align:"left"}),null!=i.image&&t.image(i.image,e.x+3,e.y+24),t.rect(e.x+3,e.y+24,50,60).stroke("#cccccc"),t.fillColor("black").font("Helvetica",10).text(i.description,e.x+56,e.y+24,{ellipsis:!0,width:n.width-4-56,height:74,align:"left"}),t.restore()}}}},"./src/templates/pdf/LabelAnnotationTemplate.js":function(t,e,n){"use strict";function i(){return{template:function(){return{}},getHashCode:function(){return 0},render:function(t,e,n){n=n.context,t.save(),t.font("Helvetica",12).text(n.title,e.x,e.y,{width:e.width,height:e.height,align:"center"}),t.restore()}}}n.r(e),n.d(e,"default",function(){return i})},"./src/templates/pdf/LevelBackgroundTemplate.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var l=n("./src/enums.js");function i(t,e){return{template:function(){return{}},getHashCode:function(){return 0},render:function(a,t,e){var n=e.context,i=n.opacity,s=n.borderColor,e=n.fillColor,r=n.lineWidth,o=n.lineType;a.save(),a.rect(t.x,t.y,t.width,t.height,0).fillColor(e,i).fill(),a.lineJoin("round"),t.loopEdges(function(t,e){var n=0;switch(e){case l.PlacementType.Top:n=r.top;break;case l.PlacementType.Right:n=r.right;break;case l.PlacementType.Bottom:n=r.bottom;break;case l.PlacementType.Left:n=r.left}if(0<n){if(null!=o){var i=Math.round(n)||1;switch(o){case l.LineType.Solid:break;case l.LineType.Dotted:a.dash(i,2*i);break;case l.LineType.Dashed:a.dash(5*i,3*i)}}a.moveTo(t.from.x,t.from.y).lineTo(t.to.x,t.to.y).lineWidth(n).strokeColor(s).stroke()}}),a.restore()}}}},"./src/templates/pdf/LevelTitleTemplate.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var f=n("./src/enums.js"),p=n("./src/templates/pdf/RotatedText.js");function i(t,r){var o=t.levelTitleFontSize,l=(t.levelTitleFontFamily,t.levelTitleFontWeight,t.levelTitleFontStyle,t.levelTitleFontColor),u=t.levelTitleOrientation,c=t.levelTitleHorizontalAlignment,d=t.levelTitleVerticalAlignment,h=t.levelTitleColor;return{template:function(){return{}},getHashCode:function(){return 0},render:function(t,e,n){var i=n.context,a=i.titleColor||h,s=i.title,n=i.titleFontColor||l;if(u==f.TextOrientationType.Auto)switch(r){case f.OrientationType.Top:u=f.TextOrientationType.RotateRight;break;case f.OrientationType.Bottom:u=f.TextOrientationType.RotateLeft;break;case f.OrientationType.Left:case f.OrientationType.Right:}i=parseInt(o,10),Object(p.renderRotatedText)({doc:t,textOrientation:u,label:s,fontSize:i,fontColor:n,position:e,titleColor:a,horizontalAlignment:c,verticalAlignment:d})}}}},"./src/templates/pdf/RotatedText.js":function(t,e,n){"use strict";n.r(e),n.d(e,"renderRotatedText",function(){return i});var d=n("./src/enums.js"),h=n("./src/graphics/structs/Rect.js"),f=n("./src/graphics/EnumValues.js");function i(t){var e=t.doc,n=t.textOrientation,i=t.label,a=t.fontSize,s=t.fontColor,r=t.position,o=t.titleColor,l=t.horizontalAlignment,t=t.verticalAlignment;e.save(),e.fillColor(o).roundedRect(r.x,r.y,r.width-2,r.height,4).fill();var u=new h.default(r.x+4,r.y,r.width-8,r.height);switch(n){case d.TextOrientationType.RotateLeft:e.translate(0,r.height).rotate(-90,{origin:[r.x,r.y]}),u=new h.default(r.x+4,r.y,r.height-8,r.width);break;case d.TextOrientationType.RotateRight:e.translate(r.width,0).rotate(90,{origin:[r.x,r.y]}),u=new h.default(r.x+4,r.y,r.height-8,r.width)}e.font("Helvetica",a);var c=e.currentLineHeight();switch(t){case d.VerticalAlignmentType.Top:u.y+=2;break;case d.VerticalAlignmentType.Middle:u.y+=Math.ceil(u.height/2-c/2);break;case d.VerticalAlignmentType.Bottom:u.y+=Math.ceil(u.height-c-1)}e.fillColor(s).text(i,u.x,u.y,{ellipsis:!0,width:u.width,height:u.height,align:Object(f.getTextAlign)(l)}),e.restore()}},"./src/templates/pdf/UserTemplate.js":function(t,e,n){"use strict";n.r(e),n.d(e,"default",function(){return i});var r=n("./src/templates/pdf/ItemTemplate.js");function i(i,a,s){return{template:function(){return{}},getHashCode:function(){return 0},render:function(t,e,n){null!=s?s(t,e,n):Object(r.default)(i,a).render(t,e,n)}}}}},a.c=i,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/assets/",a(a.s="./src/index.js");function a(t){if(i[t])return i[t].exports;var e=i[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,a),e.l=!0,e.exports}var n,i});